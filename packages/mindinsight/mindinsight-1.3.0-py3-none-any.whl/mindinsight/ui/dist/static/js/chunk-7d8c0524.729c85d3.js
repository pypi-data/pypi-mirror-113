(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d8c0524"],{"546b":function(t,e,i){"use strict";i.r(e);var a,o,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-process-wrap"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("profiling.cpuUtilization")))]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.cpuInfo.noData,expression:"!cpuInfo.noData"}],staticClass:"cpu-info"},[a("div",{staticClass:"step-filter"},[a("label",[t._v(t._s(t.cpuInfo.stepTip))]),a("label",[t._v(t._s(t.$t("profiling.startStep")))]),a("el-input",{staticClass:"step-input",model:{value:t.cpuInfo.startStep.showStep,callback:function(e){t.$set(t.cpuInfo.startStep,"showStep",t._n(e))},expression:"cpuInfo.startStep.showStep"}}),a("label",[t._v(t._s(t.$t("profiling.endStep")))]),a("el-input",{staticClass:"step-input",model:{value:t.cpuInfo.endStep.showStep,callback:function(e){t.$set(t.cpuInfo.endStep,"showStep",t._n(e))},expression:"cpuInfo.endStep.showStep"}}),a("el-button",{on:{click:t.viewStepFilter}},[t._v(t._s(t.$t("profiling.filterStep")))]),a("el-button",{on:{click:t.resetStepFilter}},[t._v(t._s(t.$t("profiling.resetStep")))])],1),a("div",{staticClass:"cpu-detail"},[a("div",{staticClass:"cpu-detail-item"},[a("div",{staticClass:"detail-item-title"},[t._v(t._s(t.$t("profiling.structuralCpuUtil")))]),a("div",{staticClass:"detail-item"},[a("div",{ref:"deviceCpuChart",staticClass:"cpu-chart",attrs:{id:"deviceCpuChart"}}),a("div",{staticClass:"cpu-chart-info"},[a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.logicCores")))]),a("span",[t._v(t._s(t.deviceCpuChart.logicCores))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgUserUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.deviceCpuChart.cpuAvgUser)))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgSysUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.deviceCpuChart.cpuAvgSystem)))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgIOUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.deviceCpuChart.cpuAvgIO)))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgIdleUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.deviceCpuChart.cpuAvgFree)))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgWaitingProcess")))]),a("span",[t._v(t._s(t.deviceCpuChart.cpuAvgProcess))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgSwitchCount")))]),a("span",[t._v(t._s(t.deviceCpuChart.cpuAvgSwitch))])])])])]),a("div",{staticClass:"cpu-detail-item cpu-detail-item-top"},[a("div",{staticClass:"detail-item-title"},[t._v(t._s(t.$t("profiling.processCpuUtil")))]),a("div",{staticClass:"detail-item"},[a("div",{ref:"processCpuChart",staticClass:"cpu-chart",attrs:{id:"processCpuChart"}}),a("div",{staticClass:"cpu-chart-info"},[a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgUserUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.processCpuChart.cpuAvgUser)))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgSysUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.processCpuChart.cpuAvgSystem)))])])])])]),a("div",{staticClass:"cpu-detail-item cpu-detail-item-top"},[a("div",{staticClass:"detail-item-title"},[t._v(t._s(t.$t("profiling.operatorCpuUtil")))]),a("div",{staticClass:"detail-item-graph",attrs:{id:"operator-graph"}}),a("div",{staticClass:"detail-item"},[a("div",{ref:"operatorCpuChart",staticClass:"cpu-chart",attrs:{id:"operatorCpuChart"}}),a("div",{staticClass:"cpu-chart-info"},[a("div",{staticClass:"info-title"},[t._v(" "+t._s(t.$t("profiling.allOperators"))+" ")]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgUserUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.operatorCpuChart.cpuAvgTotalUser)))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgSysUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.operatorCpuChart.cpuAvgTotalSystem)))])]),a("div",{staticClass:"info-title"},[t._v(" "+t._s(t.$t("profiling.currentOperator"))+" ")]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgUserUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.operatorCpuChart.cpuAvgOpUser)))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.avgSysUtilization")))]),a("span",[t._v(t._s(t.addPercentSign(t.operatorCpuChart.cpuAvgOpSystem)))])]),a("div",{staticClass:"info-line"},[a("span",[t._v(t._s(t.$t("profiling.workersNum"))+t._s(t.$t("symbols.colon")))]),a("span",[t._v(t._s(t.operatorCpuChart.processNumber))])])])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.cpuInfo.noData,expression:"cpuInfo.noData"}],staticClass:"image-noData"},[a("div",[a("img",{attrs:{src:i("9485"),alt:""}})]),a("p",[t._v(t._s(t.cpuInfo.initOver?t.$t("public.noData"):t.$t("public.dataLoading")))])])])},n=[],r=(i("cca6"),i("d3b7"),i("159b"),i("99af"),i("c740"),i("ac1f"),i("1276"),i("4d63"),i("25f0"),i("b64b"),i("b0c0"),i("d81d"),i("9fac")),p=i("3778"),c={objectToDot:function(t){for(var e=Object.keys(t),i="",a="",o="",s="",n="",r=0;r<e.length;r++)switch(e[r]){case"nodes":var p=this.nodesToDot(t[e[r]]);a=p[0],s+=p[1];break;case"mix":var c=this.mixToDot(t[e[r]]);n=c[0],s+=c[1];break;case"subgraph":var u=this.subToDot(t[e[r]]);o=u[0],s+=u[1];break;default:i+=this.attrToDot(t[e[r]],e[r]);break}var h="digraph {".concat(i).concat(a).concat(o).concat(n).concat(s,"}");return h},subToDot:function(t){for(var e="",i="",a=0;a<t.length;a++){e+="subgraph <".concat(t[a].name,">{");for(var o=Object.keys(t[a]),s=0;s<o.length;s++)switch(o[s]){case"name":break;case"nodes":var n=this.nodesToDot(t[a].nodes);e+=n[0],i+=n[1];break;case"next":i+=this.nextToDot(t[a].next,t[a].name);break;default:e+="".concat(o[s],'="').concat(t[a][o[s]],'";')}e+="};"}return[e,i]},nextToDot:function(t,e){var i="";if(Array.isArray(t))for(var a=0;a<t.length;a++){var o=Object.keys(t[a]);i+="<".concat(e,">-><").concat(t[a].name,">[");for(var s=0;s<o.length;s++)"name"!==o[s]&&("<"===t[a][o[s]][0]?i+="".concat(o[s],"=").concat(t[a][o[s]],";"):i+="".concat(o[s],'="').concat(t[a][o[s]],'";'));i+="];"}else{var n=Object.keys(t);i+="<".concat(e,">-><").concat(t.name,">[");for(var r=0;r<n.length;r++)"name"!==n[r]&&("<"===t[n[r]][0]?i+="".concat(n[r],"=").concat(t[n[r]],";"):i+="".concat(n[r],'="').concat(t[n[r]],'";'));i+="];"}return i},attrToDot:function(t,e){var i=Object.keys(t);if(0!==i.length){if("total"===e){for(var a="",o=0;o<i.length;o++)a+="".concat(i[o],'="').concat(t[i[o]],'";');return a}for(var s="".concat(e,"["),n=0;n<i.length;n++)s+="".concat(i[n],'="').concat(t[i[n]],'";');return"".concat(s,"];")}},nodesToDot:function(t){for(var e="",i="",a=0;a<t.length;a++){var o=this.nodeToDot(t[a]);e+=o[0],i+=o[1]}return[e,i]},mixToDot:function(t){for(var e="",i="",a=0;a<t.length;a++){for(var o=Object.keys(t[a]),s="",n="",r=0;r<o.length;r++)if("nodes"===o[r]){var p=this.nodesToDot(t[a].nodes);n+=p[0],i+=p[1]}else s+="".concat(o[r],'="').concat(t[a][o[r]],'";');e+="{".concat(s).concat(n,"};")}return[e,i]},nodeToDot:function(t){for(var e="<".concat(t.name,">["),i="",a=Object.keys(t),o=0;o<a.length;o++)switch(a[o]){case"name":break;case"next":i+=this.nextToDot(t.next,t.name);break;default:e+="".concat(a[o],'="').concat(t[a[o]],'";');break}return e+="];",[e,i]}},u=c,h=i("2877"),l=Object(h["a"])(u,a,o,!1,null,null,null),f=l.exports,d=i("5698"),v=(i("6d21"),{select:d["d"],selectAll:d["e"],zoom:d["f"]}),C={props:{},data:function(){return{dir:"",currentCard:"",trainId:"",chartOptions:{grid:{left:60,top:40,right:70,bottom:60},dataZoom:[{start:0,end:100,bottom:0},{start:0,end:100,type:"inside",bottom:0}],color:["#c23531","#2f4554","#61a0a8","#d48265"]},deviceCpuChart:{id:"deviceCpuChart",chartDom:null,option:{tooltip:{trigger:"axis",formatter:null,confine:!0,backgroundColor:"rgba(50, 50, 50, 0.7)",borderWidth:0,textStyle:{color:"#fff"}},legend:{right:70,top:8,data:[]},xAxis:{name:"",data:[]},yAxis:{name:this.$t("profiling.utilizationTitle"),type:"value"},series:[]},logicCores:0,cpuAvgUser:0,cpuAvgSystem:0,cpuAvgIO:0,cpuAvgFree:0,cpuAvgProcess:0,cpuAvgSwitch:0},processCpuChart:{id:"processCpuChart",chartDom:null,option:{tooltip:{trigger:"axis",formatter:null,confine:!0,backgroundColor:"rgba(50, 50, 50, 0.7)",borderWidth:0,textStyle:{color:"#fff"}},legend:{right:70,top:8,data:[]},xAxis:{name:"",data:[]},yAxis:{name:this.$t("profiling.utilizationTitle"),type:"value"},series:[]},cpuAvgUser:0,cpuAvgSystem:0},operatorCpuChart:{id:"operatorCpuChart",chartDom:null,option:{tooltip:{trigger:"axis",formatter:null,confine:!0,backgroundColor:"rgba(50, 50, 50, 0.7)",borderWidth:0,textStyle:{color:"#fff"}},legend:{right:70,top:8,data:[]},xAxis:{name:"",data:[]},yAxis:{name:this.$t("profiling.utilizationTitle"),type:"value"},series:[]},opList:{},cpuAvgTotalUser:0,cpuAvgTotalSystem:0,cpuAvgOpUser:0,cpuAvgOpSystem:0,processNumber:0},cpuInfo:{initOver:!1,noData:!0,startStep:{step:"",showStep:""},endStep:{step:"",showStep:""},stepArray:[],step:0,deviceId:null,stepTip:this.$t("profiling.cpuStepTip"),cpuStepInputTip:"",cpuInfoStr:{user_utilization:this.$t("profiling.userUtilization"),sys_utilization:this.$t("profiling.sysUtilization"),io_utilization:this.$t("profiling.ioUtilization"),idle_utilization:this.$t("profiling.idleUtilization")},samplingInterval:0},strokeBeforeClick:void 0,prevNode:void 0,prevGraph:void 0,operatorCPUList:[],selIndex:null,resizeDebounce:null}},watch:{"$parent.curDashboardInfo.curCardNum":{handler:function(t){(t||0===t)&&(this.dir=this.$route.query.dir,this.trainId=this.$route.query.id,this.currentCard=t,this.trainId?document.title="".concat(decodeURIComponent(this.trainId))+"-".concat(this.$t("profiling.cpuUtilization"),"-MindInsight"):document.title="".concat(this.$t("profiling.cpuUtilization"),"-MindInsight"),this.cpuInfo.startStep.showStep="",this.cpuInfo.startStep.step="",this.cpuInfo.endStep.showStep="",this.cpuInfo.endStep.step="",this.queryCpuInfo(!1,!0))},deep:!0,immediate:!0}},computed:{},created:function(){Object.assign(this.deviceCpuChart.option,this.chartOptions),Object.assign(this.processCpuChart.option,this.chartOptions),Object.assign(this.operatorCpuChart.option,this.chartOptions)},mounted:function(){var t=this;this.resizeDebounce=this.debounce(this.resizeCallback,200),window.addEventListener("resize",this.resizeDebounce,!1),setTimeout((function(){t.$bus.$on("collapse",t.debounce(t.resizeCallback,200))}),500)},methods:{addPercentSign:function(t){return 0===t||"0"===t?"0":"".concat(t,"%")},debounce:function(t,e){var i=null;return function(){i&&clearTimeout(i),i=setTimeout(t,e)}},init:function(){this.queryCpuInfo()},resizeCallback:function(){var t=this,e=["deviceCpuChart","processCpuChart","operatorCpuChart"];e.forEach((function(e){t[e].chartDom&&t[e].chartDom.resize()}))},initCPUGraph:function(){var t=this;return new Promise((function(e){var i={params:{train_id:t.trainId,profile:t.dir},body:{device_id:t.currentCard}};p["a"].queryOpQueue(i).then((function(i){if(i.data&&i.data.object){var a=t.ensureDataOrder(i.data.object),o=t.processGraphData(a),s=f.objectToDot(o);t.initOperatorGraph(s).then((function(){var i=v.selectAll("g.node");t.addGraphEvent(i),t.updateGraphStyle(i),e(!0)}))}}))}))},ensureDataOrder:function(t){var e=this,i=[];return t.forEach((function(t){i[t[0]]=t,e.operatorCPUList[t[0]]="".concat(t[1],"_").concat(t[0])})),this.selIndex=i.findIndex((function(t){return null===t.parent_id||void 0===i[t.parent_id]})),i},processGraphData:function(t){var e={total:{compound:"true",rankdir:"LR",id:"operatorGraph",bgcolor:"transparent"},node:{style:"filled",fontsize:"10px"},edge:{fontsize:"6px",style:"filled",fillcolor:"#e6ebf5",color:"#e6ebf5"},nodes:[]},i={shape:"Mrecord",fillcolor:"#c6e2ff",color:"#c6e2ff"};return Array.isArray(t)&&t.forEach((function(a){var o="".concat(a[1],"_").concat(a[0]),s=Object.assign({name:o,id:o,label:o},i);if("number"===typeof a[6]){var n=a[6];s.next=[{name:"".concat(t[n][1],"_").concat(t[n][0])}]}e.nodes.push(s)})),e},initOperatorGraph:function(t){return new Promise((function(e){v.select("#operator-graph").graphviz().height("100%").width("100%").fit(!0).dot(t).render((function(){e(!0)}))}))},addGraphEvent:function(t){var e=this;t&&t.on("click",(function(t,i,a){e.clickEvent(a[i])}),!1)},updateGraphStyle:function(t){t.attr("cursor","pointer")},clickEvent:function(t){if(this.prevGraph&&this.prevGraph.setAttribute("stroke",this.strokeBeforeClick),this.prevNode!==Node){this.prevNode=t;for(var e=t.children,i=0;i<e.length;i++)"path"===e[i].nodeName&&(this.prevGraph=e[i],this.strokeBeforeClick=e[i].getAttribute("stroke"),e[i].setAttribute("stroke","#409eff"));var a=t.id.split("_");this.selIndex=a[a.length-1],this.updateOperatorCpuChart(this.selIndex)}},queryCpuInfo:function(t,e){var i=this;this.cpuInfo.deviceId=this.currentCard;var a={params:{profile:this.dir,train_id:this.trainId},body:{device_id:this.currentCard,filter_condition:{}}};t&&(a.body.filter_condition.start_step=this.cpuInfo.startStep.step,a.body.filter_condition.end_step=this.cpuInfo.endStep.step),this.cpuInfo.initOver=!1,p["a"].getCpuUtilization(a).then((function(t){if(i.cpuInfo.initOver=!0,t&&t.data){i.cpuInfo.noData=!t.data.step_total_num,i.cpuInfo.step=t.data.step_total_num,i.cpuInfo.stepArray=t.data.step_info,i.cpuInfo.stepTip=i.$t("profiling.cpuStepTip",{max:i.cpuInfo.step}),i.cpuInfo.cpuStepInputTip=i.$t("profiling.cpuStepInputTip",{max:i.cpuInfo.step}),i.samplingInterval=t.data.sampling_interval,i.deviceCpuChart.logicCores=t.data.cpu_processor_num;var a=t.data.device_info,o=t.data.process_info,s=t.data.op_info;a&&o&&s&&i.samplingInterval?(i.initDeviceCpu(a),i.initProcessCpu(o),e?i.$nextTick((function(){i.initCPUGraph().then((function(){i.initOperatorCpu(s,!0)}))})):i.$nextTick((function(){i.initOperatorCpu(s,!1)}))):(i.clearCpuChart(),i.cpuInfo.noData=!0)}else i.clearCpuChart(),i.cpuInfo.noData=!0}),(function(){i.clearCpuChart(),i.cpuInfo.noData=!0,i.cpuInfo.initOver=!0}))},clearCpuChart:function(){this.deviceCpuChart.chartDom&&this.deviceCpuChart.chartDom.clear(),this.processCpuChart.chartDom&&this.processCpuChart.chartDom.clear(),this.operatorCpuChart.chartDom&&this.operatorCpuChart.chartDom.clear()},viewStepFilter:function(){var t=new RegExp("^[0-9]*[1-9][0-9]*$");t.test(this.cpuInfo.startStep.showStep)&&t.test(this.cpuInfo.endStep.showStep)&&this.cpuInfo.startStep.showStep<=this.cpuInfo.endStep.showStep&&this.cpuInfo.endStep.showStep<=this.cpuInfo.step?(this.cpuInfo.startStep.step=this.cpuInfo.startStep.showStep,this.cpuInfo.endStep.step=this.cpuInfo.endStep.showStep,this.queryCpuInfo(!0,!1)):""===this.cpuInfo.endStep.showStep&&t.test(this.cpuInfo.startStep.showStep)&&this.cpuInfo.startStep.showStep<=this.cpuInfo.step?(this.cpuInfo.startStep.step=this.cpuInfo.startStep.showStep,this.cpuInfo.endStep.step=this.cpuInfo.step,this.cpuInfo.endStep.showStep=this.cpuInfo.step,this.queryCpuInfo(!0,!1)):""===this.cpuInfo.startStep.showStep&&t.test(this.cpuInfo.endStep.showStep)&&this.cpuInfo.endStep.showStep<=this.cpuInfo.step?(this.cpuInfo.startStep.step=1,this.cpuInfo.startStep.showStep=1,this.cpuInfo.endStep.step=this.cpuInfo.endStep.showStep,this.queryCpuInfo(!0,!1)):""===this.cpuInfo.startStep.showStep&&""===this.cpuInfo.endStep.showStep?this.resetStepFilter():(this.cpuInfo.startStep.showStep=this.cpuInfo.startStep.step,this.cpuInfo.endStep.showStep=this.cpuInfo.endStep.step,this.$message.error(this.cpuInfo.cpuStepInputTip))},resetStepFilter:function(){this.cpuInfo.startStep.showStep="",this.cpuInfo.startStep.step="",this.cpuInfo.endStep.showStep="",this.cpuInfo.endStep.step="",this.queryCpuInfo(!1,!1)},formatCpuChartTip:function(t,e){var i=t,a="";if(i&&i.length){var o=["#c23531","#2f4554","#61a0a8","#d48265"],s=i[0].dataIndex;a+="step: ".concat(e[s]),i.forEach((function(t,e){a+='<br><span class="cpu-chart-tip" style="background-color:'.concat(o[e],';"></span>')+"".concat(t.seriesName,": ").concat(t.data)})),a+="</div>"}return a},initDeviceCpu:function(t){var e=this,i=[],a=[];Object.keys(this.cpuInfo.cpuInfoStr).forEach((function(o){var s=t[o];if(s&&s.metrics){var n={type:"line",name:e.cpuInfo.cpuInfoStr[o],data:s.metrics,showSymbol:!1};i.push(n),a.push(n.name)}})),this.deviceCpuChart.cpuAvgUser=t.user_utilization.avg_value,this.deviceCpuChart.cpuAvgSystem=t.sys_utilization.avg_value,this.deviceCpuChart.cpuAvgIO=t.io_utilization.avg_value,this.deviceCpuChart.cpuAvgFree=t.idle_utilization.avg_value,this.deviceCpuChart.cpuAvgProcess=t.runable_processes.avg_value,this.deviceCpuChart.cpuAvgSwitch=t.context_switch_count.avg_value,this.deviceCpuChart.option.series=i,this.deviceCpuChart.option.xAxis.name="".concat(this.$t("profiling.sampleInterval"),"\n").concat(this.$t("symbols.leftbracket")).concat(this.samplingInterval,"ms").concat(this.$t("symbols.rightbracket")),this.deviceCpuChart.option.xAxis.data=t[Object.keys(t)[0]].metrics.map((function(t,e){return e+1})),this.deviceCpuChart.option.legend.data=a,this.deviceCpuChart.option.tooltip.formatter=function(t){return e.formatCpuChartTip(t,e.cpuInfo.stepArray)},this.$nextTick((function(){e.deviceCpuChart.chartDom||e.$refs.deviceCpuChart&&(e.deviceCpuChart.chartDom=r["a"].init(e.$refs.deviceCpuChart)),e.deviceCpuChart.chartDom.setOption(e.deviceCpuChart.option)}))},initProcessCpu:function(t){var e=this,i=[],a=[];Object.keys(this.cpuInfo.cpuInfoStr).forEach((function(o){var s=t[o];if(s&&s.metrics){var n={type:"line",name:e.cpuInfo.cpuInfoStr[o],data:s.metrics,showSymbol:!1};i.push(n),a.push(n.name)}})),this.processCpuChart.cpuAvgUser=t.user_utilization.avg_value,this.processCpuChart.cpuAvgSystem=t.sys_utilization.avg_value,this.processCpuChart.option.series=i,this.processCpuChart.option.xAxis.name="".concat(this.$t("profiling.sampleInterval"),"\n").concat(this.$t("symbols.leftbracket")).concat(this.samplingInterval,"ms").concat(this.$t("symbols.rightbracket")),this.processCpuChart.option.xAxis.data=t[Object.keys(t)[0]].metrics.map((function(t,e){return e+1})),this.processCpuChart.option.legend.data=a,this.processCpuChart.option.tooltip.formatter=function(t){return e.formatCpuChartTip(t,e.cpuInfo.stepArray)},this.$nextTick((function(){e.processCpuChart.chartDom||e.$refs.processCpuChart&&(e.processCpuChart.chartDom=r["a"].init(e.$refs.processCpuChart)),e.processCpuChart.chartDom.setOption(e.processCpuChart.option)}))},initOperatorCpu:function(t,e){var i=this;if(this.operatorCpuChart.opList={},t.op_list.forEach((function(t){i.operatorCpuChart.opList[t.op_id]=t})),e){var a=document.getElementById(this.operatorCPUList[this.selIndex]);a&&this.clickEvent(a)}this.operatorCpuChart.cpuAvgTotalUser=t.total_op_avg_value.user_utilization,this.operatorCpuChart.cpuAvgTotalSystem=t.total_op_avg_value.sys_utilization,this.updateOperatorCpuChart(this.selIndex)},updateOperatorCpuChart:function(t){var e=this,i=[],a=[];if(this.operatorCpuChart.opList[t]){var o=this.operatorCpuChart.opList[t].metrics,s=this.operatorCpuChart.opList[t].num_workers;o&&(Object.keys(this.cpuInfo.cpuInfoStr).forEach((function(t){var s=o[t];if(s&&s.metrics){var n={type:"line",name:e.cpuInfo.cpuInfoStr[t],data:s.metrics,showSymbol:!1};i.push(n),a.push(n.name)}})),this.operatorCpuChart.cpuAvgOpUser=o.user_utilization.avg_value,this.operatorCpuChart.cpuAvgOpSystem=o.sys_utilization.avg_value,this.operatorCpuChart.processNumber=s,this.operatorCpuChart.option.series=i,this.operatorCpuChart.option.xAxis.name="".concat(this.$t("profiling.sampleInterval"),"\n").concat(this.$t("symbols.leftbracket")).concat(this.samplingInterval,"ms").concat(this.$t("symbols.rightbracket")),this.operatorCpuChart.option.xAxis.data=o[Object.keys(o)[0]].metrics.map((function(t,e){return e+1})),this.operatorCpuChart.option.legend.data=a,this.operatorCpuChart.option.tooltip.formatter=function(t){return e.formatCpuChartTip(t,e.cpuInfo.stepArray)},this.$nextTick((function(){e.operatorCpuChart.chartDom||e.$refs.operatorCpuChart&&(e.operatorCpuChart.chartDom=r["a"].init(e.$refs.operatorCpuChart)),e.operatorCpuChart.chartDom.setOption(e.operatorCpuChart.option)})))}}},destroyed:function(){window.removeEventListener("resize",this.resizeDebounce),this.$bus.$off("collapse")}},g=C,m=(i("6415"),Object(h["a"])(g,s,n,!1,null,null,null));e["default"]=m.exports},"60da":function(t,e,i){"use strict";var a=i("83ab"),o=i("d039"),s=i("df75"),n=i("7418"),r=i("d1e7"),p=i("7b0b"),c=i("44ad"),u=Object.assign,h=Object.defineProperty;t.exports=!u||o((function(){if(a&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach((function(t){e[t]=t})),7!=u({},t)[i]||s(u({},e)).join("")!=o}))?function(t,e){var i=p(t),o=arguments.length,u=1,h=n.f,l=r.f;while(o>u){var f,d=c(arguments[u++]),v=h?s(d).concat(h(d)):s(d),C=v.length,g=0;while(C>g)f=v[g++],a&&!l.call(d,f)||(i[f]=d[f])}return i}:u},6415:function(t,e,i){"use strict";i("cb85")},9485:function(t,e,i){t.exports=i.p+"static/img/nodata.8290bed9.png"},b0c0:function(t,e,i){var a=i("83ab"),o=i("9bf2").f,s=Function.prototype,n=s.toString,r=/^\s*function ([^ (]*)/,p="name";a&&!(p in s)&&o(s,p,{configurable:!0,get:function(){try{return n.call(this).match(r)[1]}catch(t){return""}}})},c740:function(t,e,i){"use strict";var a=i("23e7"),o=i("b727").findIndex,s=i("44d2"),n=i("ae40"),r="findIndex",p=!0,c=n(r);r in[]&&Array(1)[r]((function(){p=!1})),a({target:"Array",proto:!0,forced:p||!c},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},cb85:function(t,e,i){},cca6:function(t,e,i){var a=i("23e7"),o=i("60da");a({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})}}]);