(self.webpackChunk=self.webpackChunk||[]).push([["app_components_activity_note_index_tsx-app_components_activity_note_inputWithStorage_tsx"],{"./app/components/activity/note/index.tsx":function(e,t,r){"use strict";r.d(t,{Z:function(){return M}}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),d=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/react/index.js")),p=r("./app/components/activity/item/index.tsx"),m=r("./app/styles/space.tsx"),f=r("./app/utils/marked.tsx"),h=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),b=function(e){var t=e.className,r=e.text;return(0,h.tZ)("div",{className:t,"data-test-id":"activity-note-body",dangerouslySetInnerHTML:{__html:(0,f.Z)(r)}})};b.displayName="NoteBody";var y=b,j=(0,u.Z)("span",{target:"el2wm7k0"})({name:"eivff4",styles:"display:none"}),g=r("./app/components/activity/author.tsx"),v=r("./app/components/links/linkWithConfirmation.tsx"),Z=r("./app/components/tooltip.tsx"),x=r("./app/locale.tsx"),_=r("./app/stores/configStore.tsx"),w=function(e){var t=e.authorName,r=e.user,n=e.onEdit,o=e.onDelete,s=_.Z.get("user"),i=s&&(s.isSuperuser||r.id===s.id);return(0,h.BX)("div",{children:[(0,h.tZ)(g.Z,{children:t}),i&&(0,h.BX)(j,{children:[(0,h.tZ)(Z.Z,{title:(0,x.t)("You can edit this comment due to your superuser status"),disabled:!s.isSuperuser,children:(0,h.tZ)(k,{onClick:n,children:(0,x.t)("Edit")})}),(0,h.tZ)(Z.Z,{title:(0,x.t)("You can delete this comment due to your superuser status"),disabled:!s.isSuperuser,children:(0,h.tZ)(v.Z,{title:(0,x.t)("Remove"),message:(0,x.t)("Are you sure you wish to delete this comment?"),onConfirm:o,children:(0,h.tZ)(P,{children:(0,x.t)("Remove")})})})]})]})};w.displayName="NoteHeader";var O=function(e){return"\n  padding: 0 7px;\n  color: ".concat(e.theme.gray200,";\n  font-weight: normal;\n")},k=(0,u.Z)("a",{target:"e1u67hq51"})(O,";margin-left:7px;&:hover{color:",(function(e){return e.theme.gray300}),";}"),P=(0,u.Z)("span",{target:"e1u67hq50"})(O,";border-left:1px solid ",(function(e){return e.theme.border}),";&:hover{color:",(function(e){return e.theme.error}),";}"),C=w,S=r("./app/components/activity/note/input.tsx");function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(e){(0,i.Z)(d,e);var t,r,u=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var o=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,a.Z)(this,e)});function d(){var e;(0,n.Z)(this,d);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=u.call.apply(u,[this].concat(r)),(0,c.Z)((0,s.Z)(e),"state",{editing:!1}),(0,c.Z)((0,s.Z)(e),"handleEdit",(function(){e.setState({editing:!0})})),(0,c.Z)((0,s.Z)(e),"handleEditFinish",(function(){e.setState({editing:!1})})),(0,c.Z)((0,s.Z)(e),"handleDelete",(function(){(0,e.props.onDelete)(e.props)})),(0,c.Z)((0,s.Z)(e),"handleCreate",(function(t){var r=e.props.onCreate;r&&r(t)})),(0,c.Z)((0,s.Z)(e),"handleUpdate",(function(t){(0,e.props.onUpdate)(t,e.props),e.setState({editing:!1})})),e}return(0,o.Z)(d,[{key:"render",value:function(){var e=this,t=this.props,r=t.modelId,n=t.user,o=t.dateCreated,s=t.text,i=t.authorName,a=t.hideDate,l=t.minHeight,c=t.showTime,u=t.projectSlugs,d={hideDate:a,showTime:c,id:"activity-item-".concat(r),author:{type:"user",user:n},date:o};return this.state.editing?(0,h.tZ)(E,D(D({},d),{},{children:function(){return(0,h.tZ)(S.Z,{modelId:r,minHeight:l,text:s,onEditFinish:e.handleEditFinish,onUpdate:e.handleUpdate,onCreate:e.handleCreate,projectSlugs:u})}})):(0,h.tZ)(T,D(D({},d),{},{header:(0,h.tZ)(C,{authorName:i,user:n,onEdit:this.handleEdit,onDelete:this.handleDelete}),children:(0,h.tZ)(y,{text:s})}))}}]),d}(d.Component);N.displayName="Note";var E=(0,u.Z)(p.Z,{target:"e1hfgqls1"})("ul{list-style:disc;}h1,h2,h3,h4,p,ul:not(.nav),ol,pre,hr,blockquote{margin-bottom:",(0,m.Z)(2),";}ul:not(.nav),ol{padding-left:20px;}p{a{word-wrap:break-word;}}blockquote{font-size:15px;background:",(function(e){return e.theme.gray200}),";p:last-child{margin-bottom:0;}}"),T=(0,u.Z)(E,{target:"e1hfgqls0"})("&:hover{",j,"{display:inline-block;}}"),M=N},"./app/components/activity/note/input.tsx":function(e,t,r){"use strict";r.d(t,{Z:function(){return W}}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var n=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.regexp.exec.js"),r("../node_modules/core-js/modules/es.string.replace.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/react/index.js")),f=r("../node_modules/react-mentions/dist/react-mentions.esm.js"),h=r("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),b=r("./app/components/button.tsx"),y=r("./app/components/navTabs.tsx"),j=r("./app/icons/index.tsx"),g=r("./app/locale.tsx"),v=r("./app/stores/configStore.tsx"),Z=r("./app/styles/space.tsx"),x=r("./app/styles/text.tsx"),_=r("./app/utils/marked.tsx"),w=(r("../node_modules/core-js/modules/es.function.name.js"),r("../node_modules/lodash/uniqBy.js")),O=r.n(w),k=r("./app/stores/memberListStore.tsx"),P=r("./app/utils/callIfFunction.tsx"),C=r("./app/utils/isRenderFunc.tsx"),S=r("./app/utils/projects.tsx"),R=r("./app/utils/withOrganization.tsx"),D=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var N=function(e){(0,l.Z)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function o(){var e;(0,s.Z)(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=n.call.apply(n,[this].concat(r)),(0,d.Z)((0,a.Z)(e),"state",{members:k.Z.getAll()}),(0,d.Z)((0,a.Z)(e),"listeners",[k.Z.listen((function(t){e.handleMemberListUpdate(t)}),void 0)]),(0,d.Z)((0,a.Z)(e),"handleMemberListUpdate",(function(t){t!==e.state.members&&e.setState({members:t})})),(0,d.Z)((0,a.Z)(e),"renderChildren",(function(t){var r=t.projects,n=e.props,o=n.children,s=n.me;return(0,C.l)(o)?o({members:e.getMemberList(e.state.members,s),teams:e.getTeams(r)}):null})),e}return(0,i.Z)(o,[{key:"componentWillUnmount",value:function(){this.listeners.forEach(P.g)}},{key:"getMemberList",value:function(e,t){return O()(e,(function(e){return e.id})).filter((function(e){var r=e.id;return!t||t.id!==r})).map((function(e){return{id:(t=e.id,"user:".concat(t)),display:e.name,email:e.email};var t}))}},{key:"getTeams",value:function(e){return O()(e.map((function(e){return e.teams})).reduce((function(e,t){return e.concat(t||[])}),[]),"id").map((function(e){return{id:(t=e.id,"team:".concat(t)),display:"#".concat(e.slug),email:e.id};var t}))}},{key:"render",value:function(){var e=this.props,t=e.organization,r=e.projectSlugs;return r&&r.length?(0,D.tZ)(S.Z,{slugs:r,orgId:t.slug,children:this.renderChildren}):this.renderChildren({projects:[]})}}]),o}(m.PureComponent);N.displayName="Mentionables";var E=(0,R.Z)(N);function T(e){var t=e.theme,r=e.minHeight;return{control:{backgroundColor:"".concat(t.background),fontSize:15,fontWeight:"normal"},input:{margin:0},"&singleLine":{control:{display:"inline-block",width:130},highlighter:{padding:1,border:"2px inset transparent"},input:{padding:1,border:"2px inset"}},"&multiLine":{control:{fontFamily:"Rubik, Avenir Next, Helvetica Neue, sans-serif",minHeight:r},highlighter:{padding:20,minHeight:r},input:{padding:"".concat((0,Z.Z)(1.5)," ").concat((0,Z.Z)(2)," 0"),minHeight:r,overflow:"auto",outline:0,border:0}},suggestions:{list:{maxHeight:150,overflow:"auto",backgroundColor:"white",border:"1px solid rgba(0,0,0,0.15)",fontSize:12},item:{padding:"5px 15px",borderBottom:"1px solid rgba(0,0,0,0.15)","&focused":{backgroundColor:"#f8f6f9"}}}}}var M=["projectSlugs"];function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var A={placeholder:(0,g.t)("Add a comment.\nTag users with @, or teams with #"),minHeight:140,busy:!1},F=function(e){(0,l.Z)(r,e);var t=I(r);function r(){var e;(0,s.Z)(this,r);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,d.Z)((0,a.Z)(e),"state",{preview:!1,value:e.props.text||"",memberMentions:[],teamMentions:[]}),(0,d.Z)((0,a.Z)(e),"handleToggleEdit",(function(){e.setState({preview:!1})})),(0,d.Z)((0,a.Z)(e),"handleTogglePreview",(function(){e.setState({preview:!0})})),(0,d.Z)((0,a.Z)(e),"handleSubmit",(function(t){t.preventDefault(),e.submitForm()})),(0,d.Z)((0,a.Z)(e),"handleChange",(function(t){e.setState({value:t.target.value}),e.props.onChange&&e.props.onChange(t,{updating:!!e.props.modelId})})),(0,d.Z)((0,a.Z)(e),"handleKeyDown",(function(t){"Enter"===t.key&&(t.metaKey||t.ctrlKey)&&e.submitForm()})),(0,d.Z)((0,a.Z)(e),"handleCancel",(function(t){t.preventDefault(),e.finish()})),(0,d.Z)((0,a.Z)(e),"handleAddMember",(function(t,r){e.setState((function(e){var n=e.memberMentions;return{memberMentions:[].concat((0,o.Z)(n),[["".concat(t),r]])}}))})),(0,d.Z)((0,a.Z)(e),"handleAddTeam",(function(t,r){e.setState((function(e){var n=e.teamMentions;return{teamMentions:[].concat((0,o.Z)(n),[["".concat(t),r]])}}))})),e}return(0,i.Z)(r,[{key:"cleanMarkdown",value:function(e){return e.replace(/\[sentry\.strip:member\]/g,"@").replace(/\[sentry\.strip:team\]/g,"")}},{key:"submitForm",value:function(){this.props.modelId?this.update():this.create()}},{key:"create",value:function(){var e=this.props.onCreate;e&&e({text:this.cleanMarkdown(this.state.value),mentions:this.finalizeMentions()})}},{key:"update",value:function(){var e=this.props.onUpdate;e&&e({text:this.cleanMarkdown(this.state.value),mentions:this.finalizeMentions()})}},{key:"finish",value:function(){this.props.onEditFinish&&this.props.onEditFinish()}},{key:"finalizeMentions",value:function(){var e=this,t=this.state,r=t.memberMentions,n=t.teamMentions;return[].concat((0,o.Z)(r),(0,o.Z)(n)).filter((function(t){return-1!==e.state.value.indexOf(t[1])})).map((function(e){return e[0]}))}},{key:"render",value:function(){var e=this.state,t=e.preview,r=e.value,n=this.props,o=n.modelId,s=n.busy,i=n.placeholder,a=n.minHeight,l=n.errorJSON,c=n.memberList,u=n.teams,d=n.theme,p=!!o,m=p?(0,g.t)("Save Comment"):(0,g.t)("Post Comment"),h=l&&("string"==typeof l.detail?l.detail:l.detail&&l.detail.message||(0,g.t)("Unable to post comment"))||null;return(0,D.BX)(K,{"data-test-id":"note-input-form",noValidate:!0,onSubmit:this.handleSubmit,children:[(0,D.BX)(V,{children:[(0,D.tZ)(Y,{className:t?"":"active",children:(0,D.tZ)($,{onClick:this.handleToggleEdit,children:p?(0,g.t)("Edit"):(0,g.t)("Write")})}),(0,D.tZ)(Y,{className:t?"active":"",children:(0,D.tZ)($,{onClick:this.handleTogglePreview,children:(0,g.t)("Preview")})}),(0,D.BX)(G,{children:[(0,D.tZ)(j.kh,{}),(0,D.tZ)(Q,{children:(0,g.t)("Markdown supported")})]})]}),(0,D.tZ)(U,{children:t?(0,D.tZ)(ee,{minHeight:a,dangerouslySetInnerHTML:{__html:(0,_.Z)(this.cleanMarkdown(r))}}):(0,D.BX)(f.r,{style:T({theme:d,minHeight:a}),placeholder:i,onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:r,required:!0,autoFocus:!0,children:[(0,D.tZ)(f.p,{trigger:"@",data:c,onAdd:this.handleAddMember,displayTransform:function(e,t){return"@".concat(t)},markup:"**[sentry.strip:member]__display__**",appendSpaceOnAdd:!0}),(0,D.tZ)(f.p,{trigger:"#",data:u,onAdd:this.handleAddTeam,markup:"**[sentry.strip:team]__display__**",appendSpaceOnAdd:!0})]})}),(0,D.BX)(q,{children:[(0,D.tZ)("div",{children:h&&(0,D.tZ)(J,{children:h})}),(0,D.BX)("div",{children:[p&&(0,D.tZ)(X,{priority:"danger",type:"button",onClick:this.handleCancel,children:(0,g.t)("Cancel")}),(0,D.tZ)(X,{error:h,type:"submit",disabled:s,children:m})]})]})]})}}]),r}(m.Component);F.displayName="NoteInputComponent";var H=(0,h.b)(F),L=function(e){(0,l.Z)(r,e);var t=I(r);function r(){var e;(0,s.Z)(this,r);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,d.Z)((0,a.Z)(e),"renderInput",(function(t){var r=t.members,o=t.teams,s=e.props,i=(s.projectSlugs,(0,n.Z)(s,M));return(0,D.tZ)(H,z({memberList:r,teams:o},i))})),e}return(0,i.Z)(r,[{key:"render",value:function(){var e=this.props.projectSlugs,t=v.Z.get("user");return(0,D.tZ)(E,{me:t,projectSlugs:e,children:this.renderInput})}}]),r}(m.Component);L.displayName="NoteInputContainer",(0,d.Z)(L,"defaultProps",A);var W=L,K=(0,p.Z)("form",{target:"ewxfxsb10"})("font-size:15px;line-height:22px;transition:padding 0.2s ease-in-out;",(function(e){return function(e){return e.error?"\n  color: ".concat(e.theme.error,";\n  margin: -1px;\n  border: 1px solid ").concat(e.theme.error,";\n  border-radius: ").concat(e.theme.borderRadius,";\n\n    &:before {\n      display: block;\n      content: '';\n      width: 0;\n      height: 0;\n      border-top: 7px solid transparent;\n      border-bottom: 7px solid transparent;\n      border-right: 7px solid ").concat(e.theme.red300,";\n      position: absolute;\n      left: -7px;\n      top: 12px;\n    }\n\n    &:after {\n      display: block;\n      content: '';\n      width: 0;\n      height: 0;\n      border-top: 6px solid transparent;\n      border-bottom: 6px solid transparent;\n      border-right: 6px solid #fff;\n      position: absolute;\n      left: -5px;\n      top: 12px;\n    }\n  "):""}(e)}),";"),U=(0,p.Z)("div",{target:"ewxfxsb9"})(x.Z,";"),q=(0,p.Z)("div",{target:"ewxfxsb8"})("display:flex;border-top:1px solid ",(function(e){return e.theme.border}),";justify-content:space-between;transition:opacity 0.2s ease-in-out;padding-left:",(0,Z.Z)(1.5),";"),X=(0,p.Z)(b.ZP,{target:"ewxfxsb7"})("font-size:13px;margin:-1px -1px -1px;border-radius:0 0 ",(function(e){return e.theme.borderRadius}),";",(function(e){return e.error&&"\n  &, &:active, &:focus, &:hover {\n  border-bottom-color: ".concat(e.theme.error,";\n  border-right-color: ").concat(e.theme.error,";\n  }\n  ")}),";"),J=(0,p.Z)("span",{target:"ewxfxsb6"})("display:flex;align-items:center;height:100%;color:",(function(e){return e.theme.error}),";font-size:0.9em;"),V=(0,p.Z)(y.Z,{target:"ewxfxsb5"})("padding:",(0,Z.Z)(1)," ",(0,Z.Z)(2)," 0;border-bottom:1px solid ",(function(e){return e.theme.border}),";margin-bottom:0;"),Y=(0,p.Z)("li",{target:"ewxfxsb4"})({name:"1uwyn4z",styles:"margin-right:13px"}),$=(0,p.Z)("a",{target:"ewxfxsb3"})({name:"k7xpx9",styles:".nav-tabs>li>&{font-size:15px;padding-bottom:5px;}"}),G=(0,p.Z)(Y,{target:"ewxfxsb2"})(".nav-tabs>&{display:flex;align-items:center;margin-right:0;color:",(function(e){return e.theme.subText}),";float:right;}"),Q=(0,p.Z)("span",{target:"ewxfxsb1"})("margin-left:",(0,Z.Z)(.5),";font-size:14px;"),ee=(0,p.Z)("div",{target:"ewxfxsb0"})((function(e){return function(e){var t=T(e)["&multiLine"].input,r=t.minHeight,n=t.padding,o=t.overflow,s=t.border;return"\n  max-height: 1000px;\n  max-width: 100%;\n  ".concat(r&&"min-height: ".concat(r,"px")||"",";\n  padding: ").concat(n,";\n  overflow: ").concat(o,";\n  border: ").concat(s,";\n")}(e)}),";padding-bottom:",(0,Z.Z)(1),";")},"./app/components/activity/note/inputWithStorage.tsx":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.symbol.to-primitive.js"),r("../node_modules/core-js/modules/es.date.to-primitive.js"),r("../node_modules/core-js/modules/es.symbol.description.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.number.constructor.js");var n=r("../node_modules/@babel/runtime/helpers/esm/typeof.js"),o=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/react/index.js")),m=r("../node_modules/@sentry/minimal/esm/index.js"),f=r("../node_modules/lodash/debounce.js"),h=r.n(f),b=r("./app/components/activity/note/input.tsx"),y=r("./app/utils/localStorage.tsx"),j=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function g(e){var t=function(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==(0,n.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=function(e){(0,l.Z)(p,e);var t,r,n=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function p(){var e;(0,s.Z)(this,p);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=n.call.apply(n,[this].concat(r)),(0,d.Z)((0,a.Z)(e),"save",h()((function(t){var r=e.props,n=r.itemKey,o=r.onSave,s=e.fetchFromStorage()||{};e.saveToStorage(Z(Z({},s),{},(0,d.Z)({},n,o(t))))}),150)),(0,d.Z)((0,a.Z)(e),"handleChange",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.props.onChange;n&&n(t,r),r.updating||e.save(t.target.value)})),(0,d.Z)((0,a.Z)(e),"handleCreate",(function(t){var r=e.props,n=r.itemKey,s=r.onCreate;s&&s(t);var i=e.fetchFromStorage()||{};if(i.hasOwnProperty(n)){i[n];var a=(0,o.Z)(i,[n].map(g));e.saveToStorage(a)}})),e}return(0,i.Z)(p,[{key:"fetchFromStorage",value:function(){var e=this.props.storageKey,t=y.Z.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(e){return m.$e((function(r){r.setExtra("storage",t),m.Tb(e)})),null}}},{key:"saveToStorage",value:function(e){var t=this.props.storageKey;try{y.Z.setItem(t,JSON.stringify(e))}catch(t){m.Tb(t),m.$e((function(r){r.setExtra("storage",e),m.Tb(t)}))}}},{key:"getValue",value:function(){var e=this.props,t=e.itemKey,r=e.text,n=e.onLoad;if(r)return r;var o=this.fetchFromStorage();return o&&o.hasOwnProperty(t)?n?n(o[t]):o[t]:""}},{key:"render",value:function(){return(0,j.tZ)(b.Z,Z(Z({},this.props),{},{text:this.getValue(),onCreate:this.handleCreate,onChange:this.handleChange}))}}]),p}(p.Component);x.displayName="NoteInputWithStorage",(0,d.Z)(x,"defaultProps",{onLoad:function(e){return e},onSave:function(e){return e}}),t.Z=x},"./app/components/links/linkWithConfirmation.tsx":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=r("../node_modules/react/index.js"),d=r("../node_modules/classnames/index.js"),p=r.n(d),m=r("./app/components/confirm.tsx"),f=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),h=["className","disabled","title","children"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){(0,a.Z)(u,e);var t,r,n=(t=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(r){var o=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function u(){return(0,s.Z)(this,u),n.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.disabled,n=e.title,s=e.children,i=(0,o.Z)(e,h);return(0,f.tZ)(m.Z,y(y({},i),{},{disabled:r,children:(0,f.tZ)("a",{href:"#",className:p()(t||"",{disabled:r}),title:n,children:s})}))}}]),u}(u.PureComponent);j.displayName="LinkWithConfirmation",t.Z=j},"./app/utils/marked.tsx":function(e,t,r){"use strict";r.d(t,{A:function(){return _}}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/dompurify/dist/purify.js")),u=r.n(c),d=r("../node_modules/marked/lib/marked.js"),p=r.n(d),m=r("./app/constants/index.tsx");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var y=/^(https?:|mailto:)/i,j=/^https?:\/\/./i;function g(e,t){try{return t.test(decodeURIComponent(unescape(e)))}catch(e){return!1}}var v=function(e){(0,i.Z)(r,e);var t=b(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"link",value:function(e,t,r){if(!g(e,y))return e;var n='<a href="'.concat(e,'"').concat(t?' title="'.concat(t,'"'):"",">").concat(r,"</a>");return u().sanitize(n)}},{key:"image",value:function(e,t,r){return this.options.sanitize&&!g(e,j)?"":'<img src="'.concat(e,'" alt="').concat(r,'"').concat(t?' title="'.concat(t,'"'):""," />")}}]),r}(p().Renderer),Z=function(e){(0,i.Z)(r,e);var t=b(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"paragraph",value:function(e){return e}}]),r}(v);p().setOptions({renderer:new v,sanitize:!0,silent:!!m.Bo||"test"===m.lC});var x=function(){return u().sanitize(p().apply(void 0,arguments))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return x(e,h(h({},t),{},{renderer:new Z}))};t.Z=x}}]);
//# sourceMappingURL=../sourcemaps/app_components_activity_note_index_tsx-app_components_activity_note_inputWithStorage_tsx.dc9eb23e441279f977f60fbd2d96042c.js.map