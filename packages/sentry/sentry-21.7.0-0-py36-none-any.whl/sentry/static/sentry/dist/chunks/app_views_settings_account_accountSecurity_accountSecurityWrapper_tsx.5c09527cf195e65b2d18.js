(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_account_accountSecurity_accountSecurityWrapper_tsx"],{"./app/views/settings/account/accountSecurity/accountSecurityWrapper.tsx":function(e,t,n){"use strict";n.r(t),n("../node_modules/core-js/modules/es.reflect.construct.js");var r=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),u=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),i=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("../node_modules/@babel/runtime/regenerator/index.js"),p=n.n(d),m=(n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/react/index.js")),h=n("./app/actionCreators/indicator.tsx"),f=n("./app/components/asyncComponent.tsx"),b=n("./app/locale.tsx"),y=n("./app/utils.tsx");var g="/users/me/authenticators/",v=function(e){(0,u.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,i.Z)(t);if(n){var s=(0,i.Z)(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function f(){var e;(0,s.Z)(this,f);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=d.call.apply(d,[this].concat(n)),(0,l.Z)((0,o.Z)(e),"handleDisable",function(){var t=(0,r.Z)(p().mark((function t(n){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&n.authId){t.next=2;break}return t.abrupt("return");case 2:return e.setState({loading:!0}),t.prev=3,t.next=6,e.api.requestPromise("".concat(g).concat(n.authId,"/"),{method:"DELETE"});case 6:e.remountComponent(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),e.setState({loading:!1}),(0,h.Iw)((0,b.t)("Error disabling %s",n.name));case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()),(0,l.Z)((0,o.Z)(e),"handleRegenerateBackupCodes",(0,r.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,e.api.requestPromise("".concat(g).concat(e.props.params.authId,"/"),{method:"PUT"});case 4:e.remountComponent(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({loading:!1}),(0,h.Iw)((0,b.t)("Error regenerating backup codes"));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))),(0,l.Z)((0,o.Z)(e),"handleRefresh",(function(){e.fetchData()})),e}return(0,a.Z)(f,[{key:"getEndpoints",value:function(){return[["authenticators",g],["organizations","/organizations/"],["emails","/users/me/emails/"]]}},{key:"renderBody",value:function(){var e=this.props.children,t=this.state,n=t.authenticators,r=t.organizations,s=t.emails,a=((null==n?void 0:n.filter((function(e){return e.isEnrolled&&!e.isBackupInterface})))||[]).length,o=(null==r?void 0:r.filter((function(e){return e.require2FA})))||[],u=o.length>0&&1===a,c=!(null==s||!s.find((function(e){return e.isVerified})));return(0,y.ri)(e)?m.cloneElement(this.props.children,{onDisable:this.handleDisable,onRegenerateBackupCodes:this.handleRegenerateBackupCodes,authenticators:n,deleteDisabled:u,orgsRequire2fa:o,countEnrolled:a,hasVerifiedEmail:c,handleRefresh:this.handleRefresh}):null}}]),f}(f.Z);t.default=v}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_accountSecurity_accountSecurityWrapper_tsx.a99e6815f96bcf15a96f78e8b5701c84.js.map