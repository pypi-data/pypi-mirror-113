(self.webpackChunk=self.webpackChunk||[]).push([["app_views_alerts_list_header_tsx-app_views_alerts_rules_teamFilter_tsx"],{"./app/views/alerts/list/header.tsx":function(e,t,r){"use strict";var o=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=r("../node_modules/react/index.js"),s=r("./app/actionCreators/navigation.tsx"),i=r("./app/components/acl/feature.tsx"),a=r("./app/components/button.tsx"),l=r("./app/components/buttonBar.tsx"),c=r("./app/components/createAlertButton.tsx"),d=r("./app/components/globalSelectionLink.tsx"),u=r("./app/components/layouts/thirds.tsx"),m=r("./app/icons/index.tsx"),p=r("./app/locale.tsx"),h=r("./app/styles/space.tsx"),f=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),g=function(e){var t=e.router,r=e.organization,o=e.activeTab,l=(0,f.tZ)("li",{className:"rules"===o?"active":"",children:(0,f.tZ)(d.Z,{to:"/organizations/".concat(r.slug,"/alerts/rules/"),children:(0,p.t)("Alert Rules")})});return(0,f.BX)(n.Fragment,{children:[(0,f.BX)(b,{children:[(0,f.tZ)(j,{children:(0,f.tZ)(y,{children:(0,p.t)("Alerts")})}),(0,f.tZ)(u.kP,{children:(0,f.BX)(v,{gap:1,children:[(0,f.tZ)(c.Z,{organization:r,iconProps:{size:"sm"},priority:"primary",referrer:"alert_stream",showPermissionGuide:!0,children:(0,p.t)("Create Alert Rule")}),(0,f.tZ)(a.ZP,{onClick:function(e){e.preventDefault(),(0,s.T)("/settings/".concat(r.slug,"/projects/:projectId/alerts/"),t)},href:"#",icon:(0,f.tZ)(m.iC,{size:"sm"}),"aria-label":"Settings"})]})})]}),(0,f.tZ)(Z,{children:(0,f.tZ)(u.mL,{underlined:!0,children:(0,f.tZ)(i.Z,{features:["alert-details-redesign"],organization:r,children:function(e){return e.hasFeature?(0,f.BX)(n.Fragment,{children:[l,(0,f.tZ)("li",{className:"stream"===o?"active":"",children:(0,f.tZ)(d.Z,{to:"/organizations/".concat(r.slug,"/alerts/"),children:(0,p.t)("History")})})]}):(0,f.BX)(n.Fragment,{children:[(0,f.tZ)(i.Z,{features:["incidents"],organization:r,children:(0,f.tZ)("li",{className:"stream"===o?"active":"",children:(0,f.tZ)(d.Z,{to:"/organizations/".concat(r.slug,"/alerts/"),children:(0,p.t)("Metric Alerts")})})}),l]})}})})})]})};g.displayName="AlertHeader",t.Z=g;var b=(0,o.Z)(u.h4,{target:"e59niir4"})({name:"1gj9nea",styles:"border-bottom:0;grid-template-columns:1fr auto"}),j=(0,o.Z)(u.oB,{target:"e59niir3"})("margin-bottom:0;margin-right:",(0,h.Z)(2),";"),y=(0,o.Z)(u.Dx,{target:"e59niir2"})("margin-top:",(0,h.Z)(.5),";"),Z=(0,o.Z)(u.h4,{target:"e59niir1"})("padding-top:",(0,h.Z)(1),";@media (max-width: ",(function(e){return e.theme.breakpoints[1]}),"){padding-top:",(0,h.Z)(1),";}"),v=(0,o.Z)(l.ZP,{target:"e59niir0"})({name:"s0vnfv",styles:"height:32px"})},"./app/views/alerts/rules/teamFilter.tsx":function(e,t,r){"use strict";r.d(t,{Z:function(){return W},L:function(){return L}});var o=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),n=r("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(r("../node_modules/core-js/modules/es.array.iterator.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.set.js"),r("../node_modules/core-js/modules/es.string.iterator.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.function.name.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/react/index.js")),a=(r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js")),l=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),c=r("../node_modules/classnames/index.js"),d=r.n(c),u=r("../node_modules/lodash/omit.js"),m=r.n(u),p=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),h=["className"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function g(e){var t=e.className,r=(0,l.Z)(e,h);return(0,p.tZ)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({className:d()("form-control",t)},m()(r,"children")))}g.displayName="Input";var b=r("./app/locale.tsx"),j=(r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js")),y=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),Z=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),v=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),w=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),x=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),_=(r("../node_modules/core-js/modules/es.array.find.js"),r("../node_modules/core-js/modules/es.array.flat.js"),r("./app/components/checkboxFancy/checkboxFancy.tsx")),k=r("./app/components/dropdownButton.tsx"),O=r("./app/components/dropdownControl.tsx"),C=r("./app/icons/index.tsx"),P=r("./app/styles/overflowEllipsis.tsx"),S=r("./app/styles/space.tsx");function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e){var t=e.id,r=e.label,o=e.items,n=e.toggleSection,s=e.toggleFilter,a=o.filter((function(e){return e.checked})).length;return(0,p.BX)(i.Fragment,{children:[(0,p.BX)(N,{children:[(0,p.tZ)("span",{children:r}),(0,p.tZ)(_.Z,{isChecked:a===o.length,isIndeterminate:a>0&&a!==o.length,onClick:function(e){e.stopPropagation(),n(t)}})]}),o.filter((function(e){return!e.filtered})).map((function(e){return(0,p.BX)(T,{isChecked:e.checked,onClick:function(r){r.stopPropagation(),s(t,e.value)},children:[(0,p.tZ)(M,{children:e.label}),(0,p.tZ)(_.Z,{isChecked:e.checked})]},e.value)}))]})}z.displayName="FilterSection";var A=function(e){(0,v.Z)(n,e);var t,r,o=(t=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,x.Z)(t);if(r){var n=(0,x.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,w.Z)(this,e)});function n(){var e;(0,j.Z)(this,n);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=o.call.apply(o,[this].concat(r)),(0,a.Z)((0,Z.Z)(e),"toggleFilter",(function(t,r){var o=e.props,n=o.onFilterChange,s=o.dropdownSections.find((function(e){return e.id===t})),i=new Set(s.items.filter((function(e){return e.checked})).map((function(e){return e.value})));i.has(r)?i.delete(r):i.add(r),n(t,i)})),(0,a.Z)((0,Z.Z)(e),"toggleSection",(function(t){var r=e.props.onFilterChange,o=e.props.dropdownSections.find((function(e){return e.id===t})),n=o.items.filter((function(e){return e.checked})),s=o.items.length===n.length?new Set:new Set(o.items.map((function(e){return e.value})));r(t,s)})),(0,a.Z)((0,Z.Z)(e),"getNumberOfActiveFilters",(function(){return e.props.dropdownSections.map((function(e){return e.items})).flat().filter((function(e){return e.checked})).length})),e}return(0,y.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,r=t.dropdownSections,o=t.header,n=this.getNumberOfActiveFilters(),s={children:(0,b.t)("Filter"),priority:"default",hasDarkBorderBottomColor:!1};return n>0&&(s.children=(0,b.tn)("%s Active Filter","%s Active Filters",n),s.hasDarkBorderBottomColor=!0),(0,p.tZ)(O.ZP,{menuWidth:"240px",blendWithActor:!0,alwaysRenderMenu:!1,button:function(e){var t=e.isOpen,r=e.getActorProps;return(0,p.tZ)(R,B(B({},r()),{},{showChevron:!1,isOpen:t,icon:(0,p.tZ)(C.wH,{size:"xs"}),hasDarkBorderBottomColor:s.hasDarkBorderBottomColor,priority:s.priority,"data-test-id":"filter-button",children:s.children}))},children:function(t){var n=t.isOpen,s=t.getMenuProps;return(0,p.tZ)(D,B(B({},s()),{},{isOpen:n,blendCorner:!0,alignMenu:"left",width:"240px",children:(0,p.BX)(X,{children:[o,r.map((function(t){return(0,p.tZ)(z,B(B({},t),{},{toggleSection:e.toggleSection,toggleFilter:e.toggleFilter}),t.id)}))]})}))}})}}]),n}(i.Component);A.displayName="Filter";var D=(0,s.Z)(O.VY,{target:"e18owixo5"})({name:"uoed0r",styles:"max-height:290px;overflow-y:auto"}),N=(0,s.Z)("div",{target:"e18owixo4"})("display:grid;grid-template-columns:auto min-content;grid-column-gap:",(0,S.Z)(1),";align-items:center;margin:0;background-color:",(function(e){return e.theme.backgroundSecondary}),";color:",(function(e){return e.theme.gray300}),";font-weight:normal;font-size:",(function(e){return e.theme.fontSizeMedium}),";padding:",(0,S.Z)(1)," ",(0,S.Z)(2),";border-bottom:1px solid ",(function(e){return e.theme.border}),";"),R=(0,s.Z)(k.Z,{target:"e18owixo3"})("white-space:nowrap;max-width:200px;z-index:",(function(e){return e.theme.zIndex.dropdown}),";"),X=(0,s.Z)("ul",{target:"e18owixo2"})({name:"z06qs",styles:"list-style:none;margin:0;padding:0"}),T=(0,s.Z)("li",{target:"e18owixo1"})("display:grid;grid-template-columns:1fr max-content;grid-column-gap:",(0,S.Z)(1),";align-items:center;padding:",(0,S.Z)(1)," ",(0,S.Z)(2),";border-bottom:1px solid ",(function(e){return e.theme.border}),";:hover{background-color:",(function(e){return e.theme.backgroundSecondary}),";}",_.Z,"{opacity:",(function(e){return e.isChecked?1:.3}),";}&:hover ",_.Z,"{opacity:1;}&:hover span{color:",(function(e){return e.theme.blue300}),";text-decoration:underline;}"),M=(0,s.Z)("div",{target:"e18owixo0"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";",P.Z,";"),E=A,I=["myteams","unassigned"];function L(e){return void 0===e?I:""===e?[]:Array.isArray(e)?e:[e]}function H(e){var t=e.teams,r=e.selectedTeams,s=e.showStatus,a=void 0!==s&&s,l=e.selectedStatus,c=void 0===l?new Set:l,d=e.handleChangeFilter,u=(0,i.useState)(),m=(0,n.Z)(u,2),h=m[0],f=m[1],g=[{label:(0,b.t)("Unresolved"),value:"open",checked:c.has("open"),filtered:!1},{label:(0,b.t)("Resolved"),value:"closed",checked:c.has("closed"),filtered:!1}],j=[{label:(0,b.t)("My Teams"),value:"myteams",checked:r.has("myteams"),filtered:!1},{label:(0,b.t)("Unassigned"),value:"unassigned",checked:r.has("unassigned"),filtered:!1}],y=t.map((function(e){var t=e.id,o=e.name;return{label:o,value:t,filtered:!!h&&!o.toLowerCase().includes(h.toLowerCase()),checked:r.has(t)}}));return(0,p.tZ)(E,{header:(0,p.tZ)(U,{autoFocus:!0,placeholder:(0,b.t)("Filter by team name"),onClick:function(e){e.stopPropagation()},onChange:function(e){f(e.target.value)},value:h||""}),onFilterChange:d,dropdownSections:[].concat((0,o.Z)(a?[{id:"status",label:(0,b.t)("Status"),items:g}]:[]),[{id:"teams",label:(0,b.t)("Teams"),items:[].concat(j,(0,o.Z)(y))}])})}H.displayName="TeamFilter";var W=H,U=(0,s.Z)(g,{target:"e1jkzz580"})("border:none;border-bottom:1px solid ",(function(e){return e.theme.gray200}),";border-radius:0;")}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_list_header_tsx-app_views_alerts_rules_teamFilter_tsx.9a07571ac95bc95b5dc2176e04a56fc3.js.map