(self.webpackChunk=self.webpackChunk||[]).push([["app_views_organizationGroupDetails_groupActivity_tsx"],{"./app/components/commitLink.tsx":function(e,t,s){"use strict";s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.find.js"),s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.string.includes.js"),s("../node_modules/react/index.js");var r=s("./app/components/button.tsx"),n=s("./app/components/links/externalLink.tsx"),o=s("./app/icons/index.tsx"),i=s("./app/locale.tsx"),a=s("./app/utils.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),c=[{icon:(0,u.tZ)(o.Uv,{size:"xs"}),providerIds:["github","integrations:github","integrations:github_enterprise"],commitUrl:function(e){var t=e.baseUrl,s=e.commitId;return"".concat(t,"/commit/").concat(s)}},{icon:(0,u.tZ)(o.Ub,{size:"xs"}),providerIds:["bitbucket","integrations:bitbucket"],commitUrl:function(e){var t=e.baseUrl,s=e.commitId;return"".concat(t,"/commits/").concat(s)}},{icon:(0,u.tZ)(o.mT,{size:"xs"}),providerIds:["visualstudio","integrations:vsts"],commitUrl:function(e){var t=e.baseUrl,s=e.commitId;return"".concat(t,"/commit/").concat(s)}},{icon:(0,u.tZ)(o.Et,{size:"xs"}),providerIds:["gitlab","integrations:gitlab"],commitUrl:function(e){var t=e.baseUrl,s=e.commitId;return"".concat(t,"/commit/").concat(s)}}];t.Z=function(e){var t=e.inline,s=e.commitId,o=e.repository;if(!s||!o)return(0,u.tZ)("span",{children:(0,i.t)("Unknown Commit")});var d=(0,a.e4)(s),l=c.find((function(e){return!!o.provider&&e.providerIds.includes(o.provider.id)}));if(void 0===l)return(0,u.tZ)("span",{children:d});var p=o.url&&l.commitUrl({commitId:s,baseUrl:o.url});return t?(0,u.BX)(n.Z,{className:"inline-commit",href:p,children:[l.icon," "+d]}):(0,u.tZ)(r.ZP,{external:!0,href:p,size:"small",icon:l.icon,children:d})}},"./app/components/pullRequestLink.tsx":function(e,t,s){"use strict";s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/core-js/modules/es.string.includes.js"),s("../node_modules/core-js/modules/es.regexp.exec.js"),s("../node_modules/core-js/modules/es.string.split.js"),s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.function.name.js");var r=s("./app/components/links/externalLink.tsx"),n=s("./app/icons/index.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){if(!e.provider)return null;var t=e.provider.id;switch(t.includes(":")?t.split(":").pop():t){case"github":return(0,o.tZ)(n.Uv,{size:"xs"});case"gitlab":return(0,o.tZ)(n.Et,{size:"xs"});case"bitbucket":return(0,o.tZ)(n.Ub,{size:"xs"});default:return null}}t.Z=function(e){var t=e.pullRequest,s=e.repository,n=e.inline,a="".concat(s.name," #").concat(t.id,": ").concat(t.title);return t.externalUrl?(0,o.BX)(r.Z,{className:n?"inline-commit":"btn btn-default btn-sm",href:t.externalUrl,children:[i(s),n?"":" ",a]}):(0,o.tZ)("span",{children:a})}},"./app/components/reprocessedBox.tsx":function(e,t,s){"use strict";s("../node_modules/core-js/modules/es.reflect.construct.js");var r=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),l=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.number.constructor.js"),s("../node_modules/react/index.js")),p=s("./app/components/events/styles.tsx"),m=s("./app/components/links/link.tsx"),h=s("./app/icons/index.tsx"),f=s("./app/locale.tsx"),v=s("./app/styles/space.tsx"),g=s("./app/utils/localStorage.tsx"),_=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var Z=function(e){(0,i.Z)(l,e);var t,s,d=(t=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(s){var n=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function l(){var e;(0,r.Z)(this,l);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e=d.call.apply(d,[this].concat(s)),(0,c.Z)((0,o.Z)(e),"state",{isBannerHidden:"true"===g.Z.getItem(e.getBannerUniqueId())}),(0,c.Z)((0,o.Z)(e),"handleBannerDismiss",(function(){g.Z.setItem(e.getBannerUniqueId(),"true"),e.setState({isBannerHidden:!0})})),e}return(0,n.Z)(l,[{key:"getBannerUniqueId",value:function(){var e=this.props.reprocessActivity.id;return"reprocessed-activity-".concat(e,"-banner-dismissed")}},{key:"renderMessage",value:function(){var e=this.props,t=e.orgSlug,s=e.reprocessActivity,r=e.groupCount,n=e.groupId,o=s.data,i=o.eventCount,a=o.oldGroupId,u=o.newGroupId,c="/organizations/".concat(t,"/issues/?query=reprocessing.original_issue_id:").concat(a);return 0===r?(0,f._N)("All events in this issue were moved during reprocessing. [link]",{link:(0,_.tZ)(m.Z,{to:c,children:(0,f.tn)("See %s new event","See %s new events",i)})}):(0,f._N)("Events in this issue were successfully reprocessed. [link]",{link:(0,_.tZ)(m.Z,{to:c,children:u===Number(n)?(0,f.tn)("See %s reprocessed event","See %s reprocessed events",i):(0,f.tn)("See %s new event","See %s new events",i)})})}},{key:"render",value:function(){if(this.state.isBannerHidden)return null;var e=this.props.className;return(0,_.tZ)(p.UP,{priority:"success",className:e,children:(0,_.BX)(y,{children:[(0,_.tZ)(h.DL,{color:"green300",isCircled:!0}),(0,_.tZ)("span",{children:this.renderMessage()}),(0,_.tZ)(b,{color:"green300","aria-label":(0,f.t)("Dismiss"),isCircled:!0,onClick:this.handleBannerDismiss})]})})}}]),l}(l.Component);Z.displayName="ReprocessedBox",t.Z=Z;var y=(0,d.Z)(p._B,{target:"e17keqf51"})("&>svg:last-child{margin-right:0;margin-left:",(0,v.Z)(1),";}"),b=(0,d.Z)(h.bM,{target:"e17keqf50"})({name:"e0dnmk",styles:"cursor:pointer"})},"./app/views/organizationGroupDetails/groupActivity.tsx":function(e,t,s){"use strict";s.r(t),s.d(t,{GroupActivity:function(){return J},default:function(){return H}}),s("../node_modules/core-js/modules/es.reflect.construct.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var r=s("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),n=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),p=s("../node_modules/@babel/runtime/regenerator/index.js"),m=s.n(p),h=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.number.constructor.js"),s("../node_modules/core-js/modules/es.array.map.js"),s("../node_modules/core-js/modules/es.function.name.js"),s("../node_modules/react/index.js")),f=s("./app/actionCreators/group.tsx"),v=s("./app/actionCreators/indicator.tsx"),g=s("./app/components/activity/author.tsx"),_=s("./app/components/activity/item/index.tsx"),Z=s("./app/components/activity/note/index.tsx"),y=s("./app/components/activity/note/inputWithStorage.tsx"),b=s("./app/components/errorBoundary.tsx"),j=s("./app/components/reprocessedBox.tsx"),x=s("./app/constants/index.tsx"),N=s("./app/locale.tsx"),E=s("./app/stores/configStore.tsx"),S=s("./app/styles/space.tsx"),w=s("./app/types/index.tsx"),k=s("./app/utils/guid.tsx"),I=s("./app/utils/withApi.tsx"),R=s("./app/utils/withOrganization.tsx"),O=s("../node_modules/@babel/runtime/helpers/esm/typeof.js"),C=s("./app/components/commitLink.tsx"),U=s("./app/components/duration.tsx"),B=s("./app/components/links/externalLink.tsx"),D=s("./app/components/links/link.tsx"),T=s("./app/components/pullRequestLink.tsx"),A=s("./app/components/version.tsx"),P=s("./app/stores/memberListStore.tsx"),z=s("./app/stores/teamStore.tsx"),L=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function G(e){var t=e.activity,s=e.orgSlug,r=e.projectId,n=e.author,o="/organizations/".concat(s,"/issues/");return(0,L.tZ)(h.Fragment,{children:function(){switch(t.type){case w.fc.NOTE:return(0,N._N)("[author] left a comment",{author:n});case w.fc.SET_RESOLVED:return(0,N._N)("[author] marked this issue as resolved",{author:n});case w.fc.SET_RESOLVED_BY_AGE:return(0,N._N)("[author] marked this issue as resolved due to inactivity",{author:n});case w.fc.SET_RESOLVED_IN_RELEASE:return t.data.version?(0,N._N)("[author] marked this issue as resolved in [version]",{author:n,version:(0,L.tZ)(A.Z,{version:t.data.version,projectId:r,tooltipRawVersion:!0})}):(0,N._N)("[author] marked this issue as resolved in the upcoming release",{author:n});case w.fc.SET_RESOLVED_IN_COMMIT:return(0,N._N)("[author] marked this issue as resolved in [version]",{author:n,version:(0,L.tZ)(C.Z,{inline:!0,commitId:t.data.commit.id,repository:t.data.commit.repository})});case w.fc.SET_RESOLVED_IN_PULL_REQUEST:var e=t.data.pullRequest;return(0,N._N)("[author] marked this issue as resolved in [version]",{author:n,version:(0,L.tZ)(T.Z,{inline:!0,pullRequest:e,repository:e.repository})});case w.fc.SET_UNRESOLVED:return(0,N._N)("[author] marked this issue as unresolved",{author:n});case w.fc.SET_IGNORED:return(_=t.data).ignoreDuration?(0,N._N)("[author] ignored this issue for [duration]",{author:n,duration:(0,L.tZ)(U.Z,{seconds:60*_.ignoreDuration})}):_.ignoreCount&&_.ignoreWindow?(0,N._N)("[author] ignored this issue until it happens [count] time(s) in [duration]",{author:n,count:_.ignoreCount,duration:(0,L.tZ)(U.Z,{seconds:60*_.ignoreWindow})}):_.ignoreCount?(0,N._N)("[author] ignored this issue until it happens [count] time(s)",{author:n,count:_.ignoreCount}):_.ignoreUserCount&&_.ignoreUserWindow?(0,N._N)("[author] ignored this issue until it affects [count] user(s) in [duration]",{author:n,count:_.ignoreUserCount,duration:(0,L.tZ)(U.Z,{seconds:60*_.ignoreUserWindow})}):_.ignoreUserCount?(0,N._N)("[author] ignored this issue until it affects [count] user(s)",{author:n,count:_.ignoreUserCount}):(0,N._N)("[author] ignored this issue",{author:n});case w.fc.SET_PUBLIC:return(0,N._N)("[author] made this issue public",{author:n});case w.fc.SET_PRIVATE:return(0,N._N)("[author] made this issue private",{author:n});case w.fc.SET_REGRESSION:var i=t.data;return i.version?(0,N._N)("[author] marked this issue as a regression in [version]",{author:n,version:(0,L.tZ)(A.Z,{version:i.version,projectId:r,tooltipRawVersion:!0})}):(0,N._N)("[author] marked this issue as a regression",{author:n});case w.fc.CREATE_ISSUE:var a=t.data;return(0,N._N)("[author] created an issue on [provider] titled [title]",{author:n,provider:a.provider,title:(0,L.tZ)(B.Z,{href:a.location,children:a.title})});case w.fc.UNMERGE_SOURCE:var u=t.data,c=u.destination,l=u.fingerprints;return(0,N.tn)("%2$s migrated %1$s fingerprint to %3$s","%2$s migrated %1$s fingerprints to %3$s",l.length,n,c?(0,L.tZ)(D.Z,{to:"".concat(o).concat(c.id),children:c.shortId}):(0,N.t)("a group"));case w.fc.UNMERGE_DESTINATION:var p=t.data,m=p.source,h=p.fingerprints;return(0,N.tn)("%2$s migrated %1$s fingerprint from %3$s","%2$s migrated %1$s fingerprints from %3$s",h.length,n,m?(0,L.tZ)(D.Z,{to:"".concat(o).concat(m.id),children:m.shortId}):(0,N.t)("a group"));case w.fc.FIRST_SEEN:return(0,N._N)("[author] first saw this issue",{author:n});case w.fc.ASSIGNED:return function(e){var s,r=void 0;if("team"===e.assigneeType){var o=z.Z.getById(e.assignee);return r=o?o.slug:"<unknown-team>",(0,N._N)("[author] assigned this issue to #[assignee]",{author:n,assignee:r})}return t.user&&t.assignee===t.user.id?(0,N._N)("[author] assigned this issue to themselves",{author:n}):(r=P.Z.getById(e.assignee),"object"===(0,O.Z)(r)&&null!==(s=r)&&void 0!==s&&s.email?(0,N._N)("[author] assigned this issue to [assignee]",{author:n,assignee:r.email}):(0,N._N)("[author] assigned this issue to an unknown user",{author:n}))}(t.data);case w.fc.UNASSIGNED:return(0,N._N)("[author] unassigned this issue",{author:n});case w.fc.MERGE:return(0,N.tn)("%2$s merged %1$s issue into this issue","%2$s merged %1$s issues into this issue",t.data.issues.length,n);case w.fc.REPROCESS:var f=t.data,v=f.oldGroupId,g=f.eventCount;return(0,N._N)("[author] reprocessed the events in this issue. [new-events]",(0,d.Z)({author:n},"new-events",(0,L.tZ)(D.Z,{to:"/organizations/".concat(s,"/issues/?query=reprocessing.original_issue_id:").concat(v),children:(0,N.tn)("See %s new event","See %s new events",g)})));case w.fc.MARK_REVIEWED:return(0,N._N)("[author] marked this issue as reviewed",{author:n});default:return""}var _}()})}G.displayName="GroupActivityItem";var $=G,q=s("./app/views/organizationGroupDetails/utils.tsx");function V(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function M(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?V(Object(s),!0).forEach((function(t){(0,d.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):V(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var J=function(e){(0,a.Z)(p,e);var t,s,l=(t=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(s){var n=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function p(){var e;(0,n.Z)(this,p);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=l.call.apply(l,[this].concat(s)),(0,d.Z)((0,i.Z)(e),"state",{createBusy:!1,error:!1,errorJSON:null,inputId:(0,k.E)()}),(0,d.Z)((0,i.Z)(e),"handleNoteDelete",function(){var t=(0,r.Z)(m().mark((function t(s){var r,n,o,i,a;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.modelId,n=s.text,o=e.props,i=o.api,a=o.group,(0,v.E3)((0,N.t)("Removing comment...")),t.prev=3,t.next=6,(0,f.f_)(i,a,r,n);case 6:(0,v.B8)(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),(0,v.Iw)((0,N.t)("Failed to delete comment"));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()),(0,d.Z)((0,i.Z)(e),"handleNoteCreate",function(){var t=(0,r.Z)(m().mark((function t(s){var r,n,o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,n=r.api,o=r.group,e.setState({createBusy:!0}),(0,v.E3)((0,N.t)("Posting comment...")),t.prev=3,t.next=6,(0,f.kT)(n,o,s);case 6:e.setState({createBusy:!1,inputId:(0,k.E)()}),(0,v.B8)(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),e.setState({createBusy:!1,error:!0,errorJSON:t.t0.responseJSON||x.N7}),(0,v.Iw)((0,N.t)("Unable to post comment"));case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()),(0,d.Z)((0,i.Z)(e),"handleNoteUpdate",function(){var t=(0,r.Z)(m().mark((function t(s,r){var n,o,i,a,u;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.modelId,o=r.text,i=e.props,a=i.api,u=i.group,(0,v.E3)((0,N.t)("Updating comment...")),t.prev=3,t.next=6,(0,f.Qk)(a,u,s,n,o);case 6:(0,v.B8)(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),e.setState({error:!0,errorJSON:t.t0.responseJSON||x.N7}),(0,v.Iw)((0,N.t)("Unable to update comment"));case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,s){return t.apply(this,arguments)}}()),e}return(0,o.Z)(p,[{key:"render",value:function(){var e=this,t=this.props,s=t.group,r=t.organization,n=s.activity,o=s.count,i=s.id,a=Number(o),u=(0,q.Ad)(n),c=(0,q.M3)(s,u),d=E.Z.get("user"),l=s&&s.project?[s.project.slug]:[],p={minHeight:140,group:s,projectSlugs:l,placeholder:(0,N.t)("Add details or updates to this event. \nTag users with @, or teams with #")};return(0,L.BX)(h.Fragment,{children:[(c===q.m7.REPROCESSED_AND_HASNT_EVENT||c===q.m7.REPROCESSED_AND_HAS_EVENT)&&(0,L.tZ)(W,{reprocessActivity:u,groupCount:a,orgSlug:r.slug,groupId:i}),(0,L.tZ)("div",{className:"row",children:(0,L.tZ)("div",{className:"col-md-9",children:(0,L.BX)("div",{children:[(0,L.tZ)(_.Z,{author:{type:"user",user:d},children:function(){return(0,L.tZ)(y.Z,M({storageKey:"groupinput:latest",itemKey:s.id,onCreate:e.handleNoteCreate,busy:e.state.createBusy,error:e.state.error,errorJSON:e.state.errorJSON},p),e.state.inputId)}}),s.activity.map((function(t){var r,n=t.user?t.user.name:"Sentry";return t.type===w.fc.NOTE?(0,L.tZ)(b.Z,{mini:!0,children:(0,L.tZ)(Z.Z,M({showTime:!1,text:t.data.text,modelId:t.id,user:t.user,dateCreated:t.dateCreated,authorName:n,onDelete:e.handleNoteDelete,onUpdate:e.handleNoteUpdate},p))},"note-".concat(t.id)):(0,L.tZ)(b.Z,{mini:!0,children:(0,L.tZ)(_.Z,{author:{type:t.user?"user":"system",user:null!==(r=t.user)&&void 0!==r?r:void 0},date:t.dateCreated,header:(0,L.tZ)($,{author:(0,L.tZ)(g.Z,{children:n}),activity:t,orgSlug:e.props.params.orgId,projectId:s.project.id})})},"item-".concat(t.id))}))]})})})]})}}]),p}(h.Component);J.displayName="GroupActivity";var H=(0,I.Z)((0,R.Z)(J)),W=(0,l.Z)(j.Z,{target:"e1emkr30"})("margin:-",(0,S.Z)(3)," -",(0,S.Z)(4)," ",(0,S.Z)(4)," -",(0,S.Z)(4),";z-index:1;")}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationGroupDetails_groupActivity_tsx.b806929fbb7b9164310878ac86894bfb.js.map