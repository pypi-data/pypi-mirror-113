---
format_version: "0.108"
notes: 
   - " used to show how to change response stages"
revision: 
    date: "2020-02-24"
    authors:
        - {$ref: "authors/Wayne_Crawford.author.yaml#author"}
instrumentation:
    operator: {$ref: "../operators/INSU-IPGP.operator_info.yaml#operator"}
    equipment:
        model: "SPOBS"
        type: "Short Period Ocean Bottom Seismometer"
        description: "Guralp short-period OBS"
        manufacturer: "Guralp"
        vendor: "Guralp"
            
    channels:
       default:
           datalogger:
               equipment:
                   model: "Guralp"
                   type: "Guralp"
                   description: "Guralp"
                   manufacturer: "Guralp"
                   vendor: "Guralp"
               
               response_stages:
                   -
                       description : "Guralp Digitizer"
                       input_units : { name: "V", description: "Volts"}
                       output_units : { name: "counts", description: "Digital Counts"}
                       input_sample_rate: 100 #make sure this is OK, I see no decimation factor
                       gain : 
                           frequency: 0
                           value: 1529051 #  counts/V (from 0.654 uV/ Count)
                       filter:
                           type : "ANALOG"
                           
               sample_rate: 100
               delay_correction: 0
               
               response_modifications: 
                   "1": {gain: {value: 1533742}}
             
                               
           sensor:
               equipment:
                   model: "?????"
                   type: "Geophone"
                   description: "Guralp SPOBS acceleration sensor"
                   manufacturer: "Guralp"
                   vendor: "Guralp"
               seed_codes:
                   band_base: "S"
                   instrument: "H"
                   polarity: "+"
               response_stages:
                   -
                     description : "Guralp SPOBS seismometer" # optionel
                     input_units :  {name: "m/s", description: "VELOCITY"}
                     output_units : {name: "V", description: "VOLTS"}
                     gain : 
                       value: 1247.3
                       frequency: 10
                     filter:
                       type: "PolesZeros"
                       transfer_function_type: "LAPLACE (RADIANS/SECOND)"
                       zeros:
                           - [0.0, 0.0]
                           - [0.0, 0.0]
                           - [1700, 0.0]
                       poles:
                           - [-0.0707, 0.0707]
                           - [-0.0707, -0.0707]
                           - [-322.2, 0]
                           - [-98.00, 130.0]
                           - [-98.00, -130.0]
               
                
       "1":
           orientation_code : "H"
           notes: ["NO RESPONSE PROVIDED, VALUES ARE WORTHLESS!"]
       "2":
           orientation_code: "2"  # E-W channel
           sensor:
               response_modifications: 
                   "3": {gain: {value: 753.27} }
       "3":
           orientation_code: "1"  # N-S channel
           sensor:
               response_modifications: 
                   "*": 
                       gain: 
                            value: 762.16
       "4":
           orientation_code: "3" # vertical channel
           datalogger:
                response_modifications: 
                    "1": {gain: {value: 1533742}}
           sensor:
                response_modifications: 
                    "3": {gain: {value: 1247.3}}
               