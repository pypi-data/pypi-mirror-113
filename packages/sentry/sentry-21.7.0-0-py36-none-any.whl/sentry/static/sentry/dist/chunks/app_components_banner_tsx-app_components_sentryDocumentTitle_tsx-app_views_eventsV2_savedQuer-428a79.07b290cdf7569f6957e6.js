(self.webpackChunk=self.webpackChunk||[]).push([["app_components_banner_tsx-app_components_sentryDocumentTitle_tsx-app_views_eventsV2_savedQuer-428a79","node_modules_lodash_omitBy_js"],{"./app/actionCreators/discoverSavedQueries.tsx":function(e,t,r){"use strict";r.d(t,{Yi:function(){return s},GH:function(){return a},M6:function(){return i},qF:function(){return c}}),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.array.concat.js");var n=r("./app/actionCreators/indicator.tsx"),o=r("./app/locale.tsx");function s(e,t,r){var s=e.requestPromise("/organizations/".concat(t,"/discover/saved/").concat(r,"/"),{method:"GET"});return s.catch((function(){(0,n.Iw)((0,o.t)("Unable to load saved query"))})),s}function a(e,t,r){var s=e.requestPromise("/organizations/".concat(t,"/discover/saved/"),{method:"POST",data:r});return s.catch((function(){(0,n.Iw)((0,o.t)("Unable to create your saved query"))})),s}function i(e,t,r){var s=e.requestPromise("/organizations/".concat(t,"/discover/saved/").concat(r.id,"/"),{method:"PUT",data:r});return s.catch((function(){(0,n.Iw)((0,o.t)("Unable to update your saved query"))})),s}function c(e,t,r){var s=e.requestPromise("/organizations/".concat(t,"/discover/saved/").concat(r,"/"),{method:"DELETE"});return s.catch((function(){(0,n.Iw)((0,o.t)("Unable to delete the saved query"))})),s}},"./app/components/banner.tsx":function(e,t,r){"use strict";var n=r("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=r("../node_modules/react/index.js"),a=r("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=r("./app/components/button.tsx"),c=r("./app/components/buttonBar.tsx"),u=r("./app/icons/index.tsx"),d=r("./app/locale.tsx"),l=r("./app/styles/space.tsx"),v=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),m=function(e){return"".concat(e,"-banner-dismissed")};function p(e){localStorage.setItem(m(e),"true")}var y=function(e){var t,r,o,a,i,c,u=e.title,d=e.subtitle,l=e.isDismissable,y=void 0===l||l,q=e.dismissKey,w=void 0===q?"generic-banner":q,x=e.className,z=e.backgroundImg,I=e.backgroundComponent,D=e.children,Z=(r=m(t=w),o=s.useState(localStorage.getItem(r)),i=(a=(0,n.Z)(o,2))[0],c=a[1],["true"===i,function(){c("true"),p(t)}]),k=(0,n.Z)(Z,2),S=k[0],N=k[1];return S?null:(0,v.BX)(f,{backgroundImg:z,className:x,children:[I,y?(0,v.tZ)(j,{onClick:N}):null,(0,v.BX)(_,{children:[(0,v.tZ)(g,{children:u}),(0,v.tZ)(h,{children:d}),(0,v.tZ)(b,{gap:1,children:D})]})]})};y.displayName="Banner",y.dismiss=p;var f=(0,o.Z)("div",{target:"e8az5815"})((function(e){return e.backgroundImg?(0,a.iv)("background:url(",e.backgroundImg,");background-repeat:no-repeat;background-size:cover;background-position:center center;",""):(0,a.iv)("background-color:",e.theme.gray500,";","")})," display:flex;overflow:hidden;align-items:center;justify-content:center;position:relative;margin-bottom:",(0,l.Z)(2),";box-shadow:",(function(e){return e.theme.dropShadowLight}),";border-radius:",(function(e){return e.theme.borderRadius}),";height:180px;color:",(function(e){return e.theme.white}),";@media (min-width: ",(function(e){return e.theme.breakpoints[0]}),"){height:220px;}"),_=(0,o.Z)("div",{target:"e8az5814"})("position:absolute;display:grid;justify-items:center;grid-template-rows:repeat(3, max-content);text-align:center;padding:",(0,l.Z)(4),";"),g=(0,o.Z)("h1",{target:"e8az5813"})("margin:0;@media (min-width: ",(function(e){return e.theme.breakpoints[0]}),"){font-size:40px;}"),h=(0,o.Z)("div",{target:"e8az5812"})("margin:0;@media (min-width: ",(function(e){return e.theme.breakpoints[0]}),"){font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";}"),b=(0,o.Z)(c.ZP,{target:"e8az5811"})("margin-top:",(0,l.Z)(2),";width:fit-content;"),j=(0,o.Z)(i.ZP,{target:"e8az5810"})("position:absolute;display:block;top:",(0,l.Z)(2),";right:",(0,l.Z)(2),";color:",(function(e){return e.theme.white}),";cursor:pointer;z-index:1;");j.defaultProps={icon:(0,v.tZ)(u.bM,{}),label:(0,d.t)("Close"),priority:"link",borderless:!0,size:"xsmall"},t.Z=y},"./app/components/sentryDocumentTitle.tsx":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/react/index.js");var n=r("../node_modules/react-document-title/index.js"),o=r.n(n),s=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){var t=e.title,r=e.orgSlug,n=e.projectSlug,a=e.children,i=r||n?r&&n?"".concat(t," - ").concat(r," - ").concat(n):r?"".concat(t," - ").concat(r):"".concat(t," - ").concat(n):t;return(0,s.tZ)(o(),{title:"".concat(i," - Sentry"),children:a})}a.displayName="SentryDocumentTitle",t.Z=a},"./app/views/eventsV2/savedQuery/utils.tsx":function(e,t,r){"use strict";r.d(t,{b2:function(){return d},O$:function(){return m},pb:function(){return p},Uc:function(){return y}}),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(r("../node_modules/core-js/modules/es.function.name.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.promise.js"),r("./app/actionCreators/discoverSavedQueries.tsx")),s=r("./app/actionCreators/indicator.tsx"),a=r("./app/locale.tsx"),i=r("./app/utils/analytics.tsx");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=r.toNewQuery();(0,i.ec)(u(u({},f(n,"request")),{},{organization_id:parseInt(t.id,10)},_(c)));var d=(0,o.GH)(e,t.slug,c);return d.then((function(e){return(0,s.S9)((0,a.t)("Query saved")),(0,i.ec)(u(u({},f(n,"success")),{},{organization_id:parseInt(t.id,10)},_(c))),e})).catch((function(e){(0,s.Iw)((0,a.t)("Query not saved")),(0,i.ec)(u(u(u({},f(n,"failed")),{},{organization_id:parseInt(t.id,10)},_(c)),{},{error:e&&e.message||"Could not save a ".concat(n?"new":"existing"," query")}))})),d}var l={request:"Discoverv2: Request to save a saved query as a new query",success:"Discoverv2: Successfully saved a saved query as a new query",failed:"Discoverv2: Failed to save a saved query as a new query"},v={request:"Discoverv2: Request to save a new query",success:"Discoverv2: Successfully saved a new query",failed:"Discoverv2: Failed to save a new query"};function m(e,t,r){var n=r.toNewQuery();if(!r.name)return(0,s.Iw)((0,a.t)("Please name your query")),Promise.reject();(0,i.ec)(u({eventKey:"discover_v2.update_query_request",eventName:"Discoverv2: Request to update a saved query",organization_id:parseInt(t.id,10)},_(n)));var c=(0,o.M6)(e,t.slug,n);return c.then((function(e){return(0,s.S9)((0,a.t)("Query updated")),(0,i.ec)(u({eventKey:"discover_v2.update_query_success",eventName:"Discoverv2: Successfully updated a saved query",organization_id:parseInt(t.id,10)},_(n))),e})).catch((function(e){(0,s.Iw)((0,a.t)("Query not updated")),(0,i.ec)(u(u({eventKey:"discover_v2.update_query_failed",eventName:"Discoverv2: Failed to update a saved query",organization_id:parseInt(t.id,10)},_(n)),{},{error:e&&e.message||"Failed to update a query"}))})),c}function p(e,t,r){var n=r.toNewQuery();(0,i.ec)(u({eventKey:"discover_v2.update_query_name_request",eventName:"Discoverv2: Request to update a saved query's name",organization_id:parseInt(t.id,10)},_(n)));var c=(0,o.M6)(e,t.slug,n);return c.then((function(e){(0,s.S9)((0,a.t)("Query name saved")),(0,i.ec)(u({eventKey:"discover_v2.update_query_name_success",eventName:"Discoverv2: Successfully updated a saved query's name",organization_id:parseInt(t.id,10)},_(n)))})).catch((function(e){(0,s.Iw)((0,a.t)("Query name not saved")),(0,i.ec)(u(u({eventKey:"discover_v2.update_query_failed",eventName:"Discoverv2: Failed to update a saved query's name",organization_id:parseInt(t.id,10)},_(n)),{},{error:e&&e.message||"Failed to update a query name"}))})),c}function y(e,t,r){(0,i.ec)(u({eventKey:"discover_v2.delete_query_request",eventName:"Discoverv2: Request to delete a saved query",organization_id:parseInt(t.id,10)},_(r.toNewQuery())));var n=(0,o.qF)(e,t.slug,r.id);return n.then((function(){(0,s.S9)((0,a.t)("Query deleted")),(0,i.ec)(u({eventKey:"discover_v2.delete_query_success",eventName:"Discoverv2: Successfully deleted a saved query",organization_id:parseInt(t.id,10)},_(r.toNewQuery())))})).catch((function(e){(0,s.Iw)((0,a.t)("Query not deleted")),(0,i.ec)(u(u({eventKey:"discover_v2.delete_query_failed",eventName:"Discoverv2: Failed to delete a saved query",organization_id:parseInt(t.id,10)},_(r.toNewQuery())),{},{error:e&&e.message||"Failed to delete query"}))})),n}function f(e,t){return{eventKey:e?"discover_v2.save_new_query_"+t:"discover_v2.save_existing_query_"+t,eventName:e?v[t]:l[t]}}function _(e){return{projects:e.projects,fields:e.fields,query:e.query}}},"../node_modules/lodash/negate.js":function(e){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},"../node_modules/lodash/omitBy.js":function(e,t,r){var n=r("../node_modules/lodash/_baseIteratee.js"),o=r("../node_modules/lodash/negate.js"),s=r("../node_modules/lodash/pickBy.js");e.exports=function(e,t){return s(e,o(n(t)))}}}]);
//# sourceMappingURL=../sourcemaps/app_components_banner_tsx-app_components_sentryDocumentTitle_tsx-app_views_eventsV2_savedQuer-428a79.43cd742742ceed73c021c2fe54489028.js.map