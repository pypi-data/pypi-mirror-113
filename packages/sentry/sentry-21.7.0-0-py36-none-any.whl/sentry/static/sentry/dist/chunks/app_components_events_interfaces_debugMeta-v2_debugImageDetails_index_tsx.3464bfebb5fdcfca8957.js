(self.webpackChunk=self.webpackChunk||[]).push([["app_components_events_interfaces_debugMeta-v2_debugImageDetails_index_tsx"],{"./app/components/events/interfaces/debugMeta-v2/debugImageDetails/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return bt},modalCss:function(){return jt}}),n("../node_modules/core-js/modules/es.reflect.construct.js"),n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var r=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=n("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),d=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),c=n("../node_modules/@babel/runtime/helpers/esm/get.js"),u=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),p=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),m=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),f=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),g=n("../node_modules/@babel/runtime/regenerator/index.js"),b=n.n(g),y=(n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.array.find.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.string.includes.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("../node_modules/core-js/modules/es.regexp.exec.js"),n("../node_modules/core-js/modules/es.string.split.js"),n("../node_modules/core-js/modules/es.array.iterator.js"),n("../node_modules/core-js/modules/es.object.to-string.js"),n("../node_modules/core-js/modules/es.set.js"),n("../node_modules/core-js/modules/es.string.iterator.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/react/index.js")),Z=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),v=n("../node_modules/lodash/partition.js"),w=n.n(v),j=n("../node_modules/lodash/sortBy.js"),x=n.n(j),_=n("./app/actionCreators/indicator.tsx"),D=n("./app/components/alertLink.tsx"),S=n("./app/components/asyncComponent.tsx"),k=n("./app/components/button.tsx"),O=n("./app/components/buttonBar.tsx"),B=n("./app/locale.tsx"),C=n("./app/styles/space.tsx"),E=n("./app/types/debugFiles.tsx"),F=n("./app/types/debugImage.tsx"),R=n("./app/utils/displayReprocessEventAction.tsx"),I=n("./app/utils/theme.tsx"),T=n("./app/views/settings/projectDebugFiles/utils.tsx"),z=n("./app/components/events/interfaces/debugMeta-v2/utils.tsx"),P=(n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.number.constructor.js"),n("../node_modules/core-js/modules/es.array.flat-map.js"),n("../node_modules/core-js/modules/es.array.unscopables.flat-map.js"),n("../node_modules/core-js/modules/es.object.values.js"),n("../node_modules/lodash/debounce.js")),N=n.n(P),L=n("../node_modules/lodash/isEqual.js"),U=n.n(L),A=n("../node_modules/lodash/pick.js"),M=n.n(A),W=n("./app/components/links/externalLink.tsx"),X=n("./app/components/panels/panelTable.tsx"),q=n("./app/components/questionTooltip.tsx"),K=n("./app/utils.tsx"),G=n("./app/components/events/interfaces/searchBarAction/index.tsx"),J=n("./app/components/events/interfaces/searchBarAction/searchBarActionFilter.tsx"),Y=n("../node_modules/@sentry/minimal/esm/index.js"),$=n("../node_modules/@sentry/types/esm/severity.js"),H=n("./app/components/tag.tsx"),V=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),Q=function(e){switch(e.status){case F.il.OK:return(0,V.tZ)(H.Z,{type:"success",children:(0,B.t)("Ok")});case F.il.ERROR:case F.il.MALFORMED:return(0,V.tZ)(H.Z,{type:"error",children:(0,B.t)("Failed")});case F.il.NOT_FOUND:return(0,V.tZ)(H.Z,{children:(0,B.t)("Not Found")});case F.il.NO_PERMISSION:return(0,V.tZ)(H.Z,{type:"highlight",children:(0,B.t)("Permissions")});case F.il.DELETED:return(0,V.tZ)(H.Z,{type:"success",children:(0,B.t)("Deleted")});case F.il.UNAPPLIED:return(0,V.tZ)(H.Z,{type:"warning",children:(0,B.t)("Unapplied")});default:return Y.$e((function(e){e.setLevel($.z.Warning),Y.Tb(new Error("Unknown image candidate download status"))})),(0,V.tZ)(H.Z,{children:(0,B.t)("Unknown")})}},ee="sentry:project",te="sentry://project_debug_file/",ne=(n("../node_modules/core-js/modules/es.symbol.description.js"),n("./app/components/tooltip.tsx"));function re(e){var t=e.candidate,n=e.hasReprocessWarning,r=t.download,i=function(e,t){var n=e.download,r=e.location,i=e.source;switch(n.status){case F.il.OK:return{label:(0,B.t)("Download Details"),description:r,disabled:!r||i===ee};case F.il.ERROR:case F.il.MALFORMED:var o=n.details;return{label:(0,B.t)("Download Details"),description:o,disabled:!o};case F.il.NOT_FOUND:return{};case F.il.NO_PERMISSION:var s=n.details;return{label:(0,B.t)("Permission Error"),description:s,disabled:!s};case F.il.DELETED:return{label:(0,B.t)("This file was deleted after the issue was processed.")};case F.il.UNAPPLIED:return{label:t?(0,B.t)("This issue was processed before this debug information file was available. To apply new debug information, reprocess this issue."):(0,B.t)("This issue was processed before this debug information file was available")};default:return Y.$e((function(e){e.setLevel($.z.Warning),Y.Tb(new Error("Unknown image candidate download status"))})),{}}}(t,n),o=i.label,s=i.description,a=i.disabled;return(0,V.tZ)(ne.Z,{title:o&&(0,V.BX)(oe,{children:[(0,V.tZ)(se,{children:o}),s&&(0,V.tZ)("div",{children:s})]}),disabled:a,children:(0,V.tZ)(Q,{status:r.status})})}re.displayName="StatusTooltip";var ie=re,oe=(0,h.Z)("div",{target:"exze6f61"})({name:"1flj9lk",styles:"text-align:left"}),se=(0,h.Z)("div",{target:"exze6f60"})("display:inline-block;margin-bottom:",(0,C.Z)(.25),";"),ae=n("./app/components/acl/access.tsx"),le=n("./app/components/acl/role.tsx"),de=n("./app/components/actions/button.tsx"),ce=n("./app/components/actions/menuItemActionLink.tsx"),ue=n("./app/components/confirm.tsx"),pe=n("./app/components/dropdownLink.tsx"),me=n("./app/icons/index.tsx"),fe=(0,B.t)("You do not have permission to download debug files"),he=(0,B.t)("You do not have permission to delete debug files"),ge=(0,B.t)("Are you sure you wish to delete this file?");function be(e){var t=e.candidate,n=e.organization,r=e.isInternalSource,i=e.baseUrl,o=e.projectId,s=e.onDelete,a=t.download,l=t.location,d=a.status;if(!l||!r)return null;var c=d===F.il.DELETED,u="".concat(i,"/projects/").concat(n.slug,"/").concat(o,"/files/dsyms/?id=").concat(l),p=(0,V.tZ)(le.Z,{role:n.debugFilesRole,organization:n,children:function(e){var t=e.hasRole;return(0,V.tZ)(ae.Z,{access:["project:write"],organization:n,children:function(e){var n=e.hasAccess;return(0,V.BX)(y.Fragment,{children:[(0,V.BX)(Ze,{caret:!1,customTitle:(0,V.tZ)(de.Z,{label:(0,B.t)("Actions"),disabled:c,icon:(0,V.tZ)(me.YR,{size:"sm"})}),anchorRight:!0,children:[(0,V.tZ)(ne.Z,{disabled:t,title:fe,children:(0,V.tZ)(ce.Z,{shouldConfirm:!1,icon:(0,V.tZ)(me.Dj,{size:"xs"}),title:(0,B.t)("Download"),href:u,onClick:function(e){c&&e.preventDefault()},disabled:!t||c,children:(0,B.t)("Download")})}),(0,V.tZ)(ne.Z,{disabled:n,title:he,children:(0,V.tZ)(ce.Z,{onAction:function(){return s(l)},message:ge,title:(0,B.t)("Delete"),disabled:!n||c,shouldConfirm:!0,children:(0,B.t)("Delete")})})]}),(0,V.BX)(ve,{gap:1,children:[(0,V.tZ)(ne.Z,{disabled:t,title:fe,children:(0,V.tZ)(k.ZP,{size:"xsmall",icon:(0,V.tZ)(me.Dj,{size:"xs"}),href:u,disabled:!t,children:(0,B.t)("Download")})}),(0,V.tZ)(ne.Z,{disabled:n,title:he,children:(0,V.tZ)(ue.Z,{confirmText:(0,B.t)("Delete"),message:ge,onConfirm:function(){return s(l)},disabled:!n,children:(0,V.tZ)(k.ZP,{priority:"danger",icon:(0,V.tZ)(me.Fz,{size:"xs"}),size:"xsmall",disabled:!n})})})]})]})}})}});return c?(0,V.tZ)(ne.Z,{title:(0,B.t)("Actions not available because this debug file was deleted"),children:p}):p}be.displayName="Actions";var ye=be,Ze=(0,h.Z)(pe.Z,{target:"e1yh202n1"})("display:none;@media (min-width: ",(function(e){return e.theme.breakpoints[4]}),"){display:flex;align-items:center;transition:none;}"),ve=(0,h.Z)(O.ZP,{target:"e1yh202n0"})("@media (min-width: ",(function(e){return e.theme.breakpoints[4]}),"){display:none;}"),we=n("../node_modules/lodash/capitalize.js"),je=n.n(we),xe=n("../node_modules/moment-timezone/index.js"),_e=n.n(xe),De=n("./app/components/dateTime.tsx"),Se=n("./app/components/fileSize.tsx"),ke=n("./app/components/timeSince.tsx"),Oe=n("./app/components/events/interfaces/debugMeta-v2/processing/item.tsx"),Be=n("./app/components/events/interfaces/debugMeta-v2/processing/list.tsx");function Ce(){return(0,V.tZ)(Fe,{children:"|"})}Ce.displayName="Divider";var Ee=Ce,Fe=(0,h.Z)("div",{target:"e12uydbn0"})("color:",(function(e){return e.theme.gray200}),";");function Re(e){var t=e.download,n=[];return t.status!==F.il.OK&&t.status!==F.il.DELETED&&t.status!==F.il.UNAPPLIED||(n=Object.keys(t.features).filter((function(e){return t.features[e]}))),(0,V.tZ)(y.Fragment,{children:Object.keys(F.xe).map((function(e){var t=function(e){switch(e){case F.xe.has_debug_info:return{label:(0,B.t)("debug"),description:(0,B.t)("Debug information provides function names and resolves inlined frames during symbolication")};case F.xe.has_sources:return{label:(0,B.t)("sources"),description:(0,B.t)("Source code information allows Sentry to display source code context for stack frames")};case F.xe.has_symbols:return{label:(0,B.t)("symtab"),description:(0,B.t)("Symbol tables are used as a fallback when full debug information is not available")};case F.xe.has_unwind_info:return{label:(0,B.t)("unwind"),description:(0,B.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps")};default:return Y.$e((function(e){e.setLevel($.z.Warning),Y.Tb(new Error("Unknown image candidate feature"))})),{}}}(e),r=t.label,i=t.description,o=!n.includes(e);return(0,V.tZ)(Te,{disabled:o,tooltipText:o?void 0:i,children:r},r)}))})}Re.displayName="Features";var Ie=Re,Te=(0,h.Z)(H.Z,{target:"e18zsjal0"})("opacity:",(function(e){return e.disabled?"0.35":1}),";"),ze=function(e){var t=e.processingInfo;switch(t.status){case F.kJ.OK:return(0,V.tZ)(me.DL,{color:"green300",size:"xs"});case F.kJ.ERROR:var n=t.details;return(0,V.tZ)(ne.Z,{title:n,disabled:!n,children:(0,V.tZ)(me.bM,{color:"red300",size:"xs"})});case F.kJ.MALFORMED:var r=t.details;return(0,V.tZ)(ne.Z,{title:r,disabled:!r,children:(0,V.tZ)(me.FC,{color:"yellow300",size:"xs"})});default:return Y.$e((function(e){e.setLevel($.z.Warning),Y.Tb(new Error("Unknown image candidate ProcessingIcon status"))})),null}};function Pe(e){var t=e.candidate,n=e.isInternalSource,r=e.hasReprocessWarning,i=e.eventDateReceived,o=t.source_name,s=t.source,a=t.location,l=t.download,d=function(){if(t.download.status===F.il.UNAPPLIED||t.download.status===F.il.OK&&n){var e=t,r=e.symbolType,i=e.filename;return r===F.Ko.PROGUARD&&"proguard-mapping"===i?null:i}return a&&!n?a:null}();return(0,V.BX)(Le,{children:[(0,V.BX)("div",{children:[(0,V.tZ)("strong",{"data-test-id":"source_name",children:o?je()(o):(0,B.t)("Unknown")}),d&&(0,V.tZ)(Ue,{children:d})]}),(0,V.BX)(Ae,{children:[function(){if(t.download.status!==F.il.UNAPPLIED&&t.download.status!==F.il.OK||s!==ee)return null;var e=t,n=e.symbolType,o=e.fileType,a=e.cpuName,l=e.size,d=e.dateCreated,c=function(e){var n=(0,V.tZ)(De.Z,{date:e});return t.download.status!==F.il.UNAPPLIED?{tooltipDesc:n,displayIcon:!1}:_e()(e).isBefore(i)?r?{tooltipDesc:(0,V.BX)(y.Fragment,{children:[(0,B._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate. To apply new debug information, reprocess this issue.",{when:_e()(i).from(e,!0)}),(0,V.tZ)(We,{children:n})]}),displayIcon:!0}:_e()(i).diff(e,"minutes")>=60?{tooltipDesc:n,displayIcon:!1}:{tooltipDesc:(0,V.BX)(y.Fragment,{children:[(0,B._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate.",{when:_e()(i).from(e,!0)}),(0,V.tZ)(We,{children:n})]}),displayIcon:!0}:r?{tooltipDesc:(0,V.BX)(y.Fragment,{children:[(0,B._N)("This debug file was uploaded [when] after this event. To apply new debug information, reprocess this issue.",{when:_e()(e).from(i,!0)}),(0,V.tZ)(We,{children:n})]}),displayIcon:!0}:{tooltipDesc:(0,V.BX)(y.Fragment,{children:[(0,B._N)("This debug file was uploaded [when] after this event.",{when:_e()(i).from(e,!0)}),(0,V.tZ)(We,{children:n})]}),displayIcon:!0}}(d),u=c.tooltipDesc,p=c.displayIcon;return(0,V.BX)(y.Fragment,{children:[(0,V.tZ)(ne.Z,{title:u,children:(0,V.BX)(Me,{children:[p&&(0,V.tZ)(me.FC,{color:"red300",size:"xs"}),(0,B._N)("Uploaded [timesince]",{timesince:(0,V.tZ)(ke.Z,{disabledAbsoluteTooltip:!0,date:d})})]})}),(0,V.tZ)(Ee,{}),(0,V.tZ)(Se.Z,{bytes:l}),(0,V.tZ)(Ee,{}),(0,V.tZ)("span",{children:n===F.Ko.PROGUARD&&"any"===a?(0,B.t)("proguard mapping"):"".concat(n).concat(o?" ".concat(o):"")}),(0,V.tZ)(Ee,{})]})}(),function(){if(t.download.status!==F.il.OK&&t.download.status!==F.il.DELETED)return null;var e=[],n=t,r=n.debug,i=n.unwind;return r&&e.push((0,V.tZ)(Oe.Z,{type:"symbolication",icon:(0,V.tZ)(ze,{processingInfo:r})},"symbolication")),i&&e.push((0,V.tZ)(Oe.Z,{type:"stack_unwinding",icon:(0,V.tZ)(ze,{processingInfo:i})},"stack_unwinding")),e.length?(0,V.BX)(y.Fragment,{children:[(0,V.tZ)(Xe,{items:e}),(0,V.tZ)(Ee,{})]}):null}(),(0,V.tZ)(Ie,{download:l})]})]})}Pe.displayName="Information";var Ne=Pe,Le=(0,h.Z)("div",{target:"ehqoafm5"})({name:"2w899g",styles:"white-space:pre-wrap;word-break:break-all;max-width:100%"}),Ue=(0,h.Z)("span",{target:"ehqoafm4"})("padding-left:",(0,C.Z)(1),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),Ae=(0,h.Z)("div",{target:"ehqoafm3"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",(0,C.Z)(1),";color:",(function(e){return e.theme.gray400}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),Me=(0,h.Z)("div",{target:"ehqoafm2"})("display:grid;grid-template-columns:max-content 1fr;align-items:center;grid-gap:",(0,C.Z)(.5),";"),We=(0,h.Z)("div",{target:"ehqoafm1"})("padding-top:",(0,C.Z)(1),";"),Xe=(0,h.Z)(Be.Z,{target:"ehqoafm0"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",(0,C.Z)(1),";");function qe(e){var t=e.candidate,n=e.builtinSymbolSources,r=e.organization,i=e.projectId,o=e.baseUrl,s=e.haveCandidatesAtLeastOneAction,a=e.hasReprocessWarning,l=e.onDelete,d=e.eventDateReceived,c=t.source===ee;return(0,V.BX)(y.Fragment,{children:[(0,V.tZ)(Ge,{children:(0,V.tZ)(ie,{candidate:t,hasReprocessWarning:a})}),(0,V.tZ)(Je,{children:(0,V.tZ)(Ne,{candidate:t,builtinSymbolSources:n,isInternalSource:c,eventDateReceived:d,hasReprocessWarning:a})}),s&&(0,V.tZ)(Ye,{children:(0,V.tZ)(ye,{onDelete:l,baseUrl:o,projectId:i,organization:r,candidate:t,isInternalSource:c})})]})}qe.displayName="Candidate";var Ke=qe,Ge=(0,h.Z)("div",{target:"e19z2lid2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Je=(0,h.Z)(Ge,{target:"e19z2lid1"})({name:"1ejri1g",styles:"flex-direction:column;align-items:flex-start"}),Ye=(0,h.Z)(Ge,{target:"e19z2lid0"})({name:"1f60if8",styles:"justify-content:flex-end"});function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=(0,B.t)("Status"),Qe=(0,B.t)("Source"),et=function(e){(0,u.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,m.Z)(t);if(n){var i=(0,m.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function o(){var e;(0,a.Z)(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),(0,f.Z)((0,d.Z)(e),"state",{searchTerm:"",filterOptions:{},filteredCandidatesBySearch:[],filteredCandidatesByFilter:[]}),(0,f.Z)((0,d.Z)(e),"doSearch",N()(e.filterCandidatesBySearch,300)),(0,f.Z)((0,d.Z)(e),"handleChangeSearchTerm",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({searchTerm:t})})),(0,f.Z)((0,d.Z)(e),"handleChangeFilter",(function(t){var n=e.state.filteredCandidatesBySearch,r=e.getFilteredCandidatedByFilter(n,t);e.setState({filterOptions:t,filteredCandidatesByFilter:r})})),(0,f.Z)((0,d.Z)(e),"handleResetFilter",(function(){var t=e.state.filterOptions;e.setState({filterOptions:Object.keys(t).reduce((function(e,n){return e[n]=t[n].map((function(e){return He(He({},e),{},{isChecked:!1})})),e}),{})},e.filterCandidatesBySearch)})),(0,f.Z)((0,d.Z)(e),"handleResetSearchBar",(function(){var t=e.props.candidates;e.setState({searchTerm:"",filteredCandidatesByFilter:t,filteredCandidatesBySearch:t})})),e}return(0,l.Z)(o,[{key:"componentDidMount",value:function(){this.getFilters()}},{key:"componentDidUpdate",value:function(e,t){U()(e.candidates,this.props.candidates)?t.searchTerm!==this.state.searchTerm&&this.doSearch():this.getFilters()}},{key:"filterCandidatesBySearch",value:function(){var e=this.state,t=e.searchTerm,n=e.filterOptions,r=this.props.candidates;if(t.trim()){var i=JSON.stringify(t).replace(/((^")|("$))/g,"").toLocaleLowerCase(),o=r.filter((function(e){return Object.keys(M()(e,["source_name","location"])).some((function(t){var n=e[t];return("location"!==t||"number"!=typeof Number(n))&&!(!(0,K.ri)(n)||!String(n).trim())&&JSON.stringify(n).replace(/((^")|("$))/g,"").toLocaleLowerCase().trim().includes(i)}))})),s=this.getFilteredCandidatedByFilter(o,n);this.setState({filteredCandidatesBySearch:o,filteredCandidatesByFilter:s})}else{var a=this.getFilteredCandidatedByFilter(r,n);this.setState({filteredCandidatesBySearch:r,filteredCandidatesByFilter:a})}}},{key:"getFilters",value:function(){var e=(0,i.Z)(this.props.candidates),t=this.getFilterOptions(e);this.setState({filterOptions:t,filteredCandidatesBySearch:e,filteredCandidatesByFilter:this.getFilteredCandidatedByFilter(e,t)})}},{key:"getFilterOptions",value:function(e){var t=this.props.imageStatus,n={},r=(0,i.Z)(new Set(e.map((function(e){return e.download.status}))));r.length>1&&(n[Ve]=r.map((function(e){return{id:e,symbol:(0,V.tZ)(Q,{status:e}),isChecked:e!==F.il.NOT_FOUND||t===F.zu.MISSING}})));var o=(0,i.Z)(new Set(e.map((function(e){var t;return null!==(t=e.source_name)&&void 0!==t?t:(0,B.t)("Unknown")}))));return o.length>1&&(n[Qe]=o.map((function(e){return{id:e,symbol:e,isChecked:!1}}))),n}},{key:"getFilteredCandidatedByFilter",value:function(e,t){var n,r,i=new Set(null===(n=t[Ve])||void 0===n?void 0:n.filter((function(e){return e.isChecked})).map((function(e){return e.id}))),o=new Set(null===(r=t[Qe])||void 0===r?void 0:r.filter((function(e){return e.isChecked})).map((function(e){return e.id})));if(0===i.size&&0===o.size)return e;if(i.size>0){var s=e.filter((function(e){return i.has(e.download.status)}));return 0===o.size?s:s.filter((function(e){var t;return o.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}return e.filter((function(e){var t;return o.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}},{key:"getEmptyMessage",value:function(){var e=this.state,t=e.searchTerm,n=e.filteredCandidatesByFilter,r=e.filterOptions;if(n.length)return{};var i=Object.values(r).flatMap((function(e){return e})).find((function(e){return e.isChecked}));return t||i?{emptyMessage:(0,B.t)("Sorry, no debug files match your search query"),emptyAction:i?(0,V.tZ)(k.ZP,{onClick:this.handleResetFilter,priority:"primary",children:(0,B.t)("Reset filter")}):(0,V.tZ)(k.ZP,{onClick:this.handleResetSearchBar,priority:"primary",children:(0,B.t)("Clear search bar")})}:{emptyMessage:(0,B.t)("There are no debug files to be displayed")}}},{key:"render",value:function(){var e=this,t=this.props,n=t.organization,r=t.projectId,i=t.baseUrl,o=t.builtinSymbolSources,s=t.onDelete,a=t.isLoading,l=t.candidates,d=t.eventDateReceived,c=t.hasReprocessWarning,u=this.state,p=u.searchTerm,m=u.filterOptions,f=u.filteredCandidatesByFilter,h=l.some((function(e){return e.download.status===F.il.OK&&e.source===ee||e.download.status===F.il.DELETED}))||c;return(0,V.BX)(nt,{children:[(0,V.BX)(rt,{children:[(0,V.BX)(it,{children:[(0,B.t)("Debug File Candidates"),(0,V.tZ)(q.Z,{title:(0,B._N)("These are the Debug Information Files (DIFs) corresponding to this image which have been looked up on [docLink:symbol servers] during the processing of the stacktrace.",{docLink:(0,V.tZ)(W.Z,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/symbol-servers/"})}),size:"xs",position:"top",isHoverable:!0})]}),!!l.length&&(0,V.tZ)(st,{query:p,onChange:function(t){return e.handleChangeSearchTerm(t)},placeholder:(0,B.t)("Search debug file candidates"),filter:(0,V.tZ)(J.Z,{options:m,onChange:this.handleChangeFilter})})]}),(0,V.tZ)(ot,He(He({headers:h?[(0,B.t)("Status"),(0,B.t)("Information"),""]:[(0,B.t)("Status"),(0,B.t)("Information")],isEmpty:!f.length,isLoading:a},this.getEmptyMessage()),{},{children:f.map((function(e,t){return(0,V.tZ)(Ke,{candidate:e,builtinSymbolSources:o,organization:n,baseUrl:i,projectId:r,eventDateReceived:d,hasReprocessWarning:c,haveCandidatesAtLeastOneAction:h,onDelete:s},t)}))}))]})}}]),o}(y.Component);et.displayName="Candidates";var tt=et,nt=(0,h.Z)("div",{target:"eex5oi54"})({name:"vetbs0",styles:"display:grid"}),rt=(0,h.Z)("div",{target:"eex5oi53"})("display:flex;flex-direction:column;@media (min-width: ",(function(e){return e.theme.breakpoints[0]}),"){flex-wrap:wrap;flex-direction:row;}"),it=(0,h.Z)("div",{target:"eex5oi52"})("padding-right:",(0,C.Z)(4),";display:grid;grid-gap:",(0,C.Z)(.5),";grid-template-columns:repeat(2, max-content);align-items:center;font-weight:600;color:",(function(e){return e.theme.gray400}),";height:32px;flex:1;@media (min-width: ",(function(e){return e.theme.breakpoints[0]}),"){margin-bottom:",(0,C.Z)(1),";}"),ot=(0,h.Z)(X.Z,{target:"eex5oi51"})("grid-template-columns:",(function(e){return 3===e.headers.length?"max-content 1fr max-content":"max-content 1fr"}),";height:100%;@media (min-width: ",(function(e){return e.theme.breakpoints[4]}),"){overflow:visible;}"),st=(0,h.Z)(G.Z,{target:"eex5oi50"})("margin-bottom:",(0,C.Z)(1.5),";"),at=n("./app/components/notAvailable.tsx"),lt=n("./app/components/events/interfaces/debugMeta-v2/debugImage/processings.tsx");function dt(e){var t=e.image,n=null!=t?t:{},r=n.debug_id,i=n.debug_file,o=n.code_id,s=n.code_file,a=n.arch,l=n.unwind_status,d=n.debug_status,c=t?(0,z.a$)(t):void 0;return(0,V.BX)(ut,{children:[(0,V.tZ)(pt,{coloredBg:!0,children:(0,B.t)("Address Range")}),(0,V.tZ)(mt,{coloredBg:!0,children:null!=c?c:(0,V.tZ)(at.Z,{})}),(0,V.tZ)(pt,{children:(0,B.t)("Debug ID")}),(0,V.tZ)(mt,{children:null!=r?r:(0,V.tZ)(at.Z,{})}),(0,V.tZ)(pt,{coloredBg:!0,children:(0,B.t)("Debug File")}),(0,V.tZ)(mt,{coloredBg:!0,children:null!=i?i:(0,V.tZ)(at.Z,{})}),(0,V.tZ)(pt,{children:(0,B.t)("Code ID")}),(0,V.tZ)(mt,{children:null!=o?o:(0,V.tZ)(at.Z,{})}),(0,V.tZ)(pt,{coloredBg:!0,children:(0,B.t)("Code File")}),(0,V.tZ)(mt,{coloredBg:!0,children:null!=s?s:(0,V.tZ)(at.Z,{})}),(0,V.tZ)(pt,{children:(0,B.t)("Architecture")}),(0,V.tZ)(mt,{children:null!=a?a:(0,V.tZ)(at.Z,{})}),(0,V.tZ)(pt,{coloredBg:!0,children:(0,B.t)("Processing")}),(0,V.tZ)(mt,{coloredBg:!0,children:l||d?(0,V.tZ)(lt.Z,{unwind_status:l,debug_status:d}):(0,V.tZ)(at.Z,{})})]})}dt.displayName="GeneralInfo";var ct=dt,ut=(0,h.Z)("div",{target:"eqrtww2"})({name:"24qvpm",styles:"display:grid;grid-template-columns:max-content 1fr"}),pt=(0,h.Z)("div",{target:"eqrtww1"})("color:",(function(e){return e.theme.textColor}),";padding:",(0,C.Z)(1)," ",(0,C.Z)(1.5)," ",(0,C.Z)(1)," ",(0,C.Z)(1),";",(function(e){return e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")}),";"),mt=(0,h.Z)(pt,{target:"eqrtww0"})("white-space:pre-wrap;word-break:break-all;color:",(function(e){return e.theme.subText}),";padding:",(0,C.Z)(1),";font-family:",(function(e){return e.theme.text.familyMono}),";",(function(e){return e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")}),";"),ft=["location"];function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt=function(e){(0,u.Z)(g,e);var t,n,h=(t=g,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,m.Z)(t);if(n){var i=(0,m.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,p.Z)(this,e)});function g(){var e;(0,a.Z)(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=h.call.apply(h,[this].concat(n)),(0,f.Z)((0,d.Z)(e),"handleDelete",function(){var t=(0,s.Z)(b().mark((function t(n){var r,i,o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,i=r.organization,o=r.projectId,e.setState({loading:!0}),t.prev=2,t.next=5,e.api.requestPromise("/projects/".concat(i.slug,"/").concat(o,"/files/dsyms/?id=").concat(n),{method:"DELETE"});case 5:e.fetchData(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),(0,_.Iw)((0,B.t)("An error occurred while deleting the debug file.")),e.setState({loading:!1});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,l.Z)(g,[{key:"getDefaultState",value:function(){return gt(gt({},(0,c.Z)((0,m.Z)(g.prototype),"getDefaultState",this).call(this)),{},{debugFiles:[],builtinSymbolSources:[]})}},{key:"componentDidUpdate",value:function(e,t){!e.image&&this.props.image&&this.remountComponent(),(0,c.Z)((0,m.Z)(g.prototype),"componentDidUpdate",this).call(this,e,t)}},{key:"getUplodedDebugFiles",value:function(e){return e.find((function(e){return e.source===ee}))}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.projectId,r=e.image;if(!r)return[];var i=r.debug_id,o=r.candidates,s=void 0===o?[]:o,a=(this.state||{}).builtinSymbolSources,l=[];return this.getUplodedDebugFiles(s)&&l.push(["debugFiles","/projects/".concat(t.slug,"/").concat(n,"/files/dsyms/?debug_id=").concat(i),{query:{file_formats:["breakpad","macho","elf","pe","pdb","sourcebundle"]}}]),null!=a&&a.length||!t.features.includes("symbol-sources")||l.push(["builtinSymbolSources","/builtin-symbol-sources/",{}]),l}},{key:"sortCandidates",value:function(e,t){var n=w()(e,(function(e){return e.download.status===F.il.NO_PERMISSION})),r=(0,o.Z)(n,2),s=r[0],a=r[1],l=w()(a,(function(e){return e.download.status===F.il.MALFORMED})),d=(0,o.Z)(l,2),c=d[0],u=d[1],p=w()(u,(function(e){return e.download.status===F.il.ERROR})),m=(0,o.Z)(p,2),f=m[0],h=m[1],g=w()(h,(function(e){return e.download.status===F.il.OK})),b=(0,o.Z)(g,2),y=b[0],Z=b[1],v=w()(Z,(function(e){return e.download.status===F.il.DELETED})),j=(0,o.Z)(v,2),_=j[0],D=j[1];return[].concat((0,i.Z)(x()(s,["source_name","location"])),(0,i.Z)(x()(c,["source_name","location"])),(0,i.Z)(x()(f,["source_name","location"])),(0,i.Z)(x()(y,["source_name","location"])),(0,i.Z)(x()(_,["source_name","location"])),(0,i.Z)(x()(t,["source_name","location"])),(0,i.Z)(x()(D,["source_name","location"])))}},{key:"getCandidates",value:function(){var e=this.state,t=e.debugFiles,n=e.loading,s=this.props.image,a=(null!=s?s:{}).candidates,l=void 0===a?[]:a;if(!t||n)return l;var d=l.map((function(e){var t=e.location;return gt(gt({},(0,r.Z)(e,ft)),{},{location:null!=t&&t.includes(te)?t.split(te)[1]:t})})),c=new Set(d.map((function(e){return e.location})).filter((function(e){return!!e}))),u=w()(t,(function(e){return!c.has(e.id)})),p=(0,o.Z)(u,2),m=p[0],f=p[1],h=m.map((function(e){var t,n=e.data,r=e.symbolType,i=e.objectName,o=e.id,s=e.size,a=e.dateCreated,l=e.cpuName,d=null!==(t=null==n?void 0:n.features)&&void 0!==t?t:[];return{download:{status:F.il.UNAPPLIED,features:{has_sources:d.includes(E.W.SOURCES),has_debug_info:d.includes(E.W.DEBUG),has_unwind_info:d.includes(E.W.UNWIND),has_symbols:d.includes(E.W.SYMTAB)}},cpuName:l,location:o,filename:i,size:s,dateCreated:a,symbolType:r,fileType:(0,T.J)(e),source:ee,source_name:(0,B.t)("Sentry")}})),g=w()(d,(function(e){return e.download.status===F.il.OK&&e.source===ee})),b=(0,o.Z)(g,2),y=b[0],Z=b[1],v=y.map((function(e){var t=f.find((function(t){return t.id===e.location}));if(!t)return gt(gt({},e),{},{download:gt(gt({},e.download),{},{status:F.il.DELETED})});var n=t.symbolType,r=t.objectName,i=t.id,o=t.size,s=t.dateCreated,a=t.cpuName;return gt(gt({},e),{},{cpuName:a,location:i,filename:r,size:o,dateCreated:s,symbolType:n,fileType:(0,T.J)(t)})}));return this.sortCandidates([].concat((0,i.Z)(v),(0,i.Z)(Z)),h)}},{key:"getDebugFilesSettingsLink",value:function(){var e=this.props,t=e.organization,n=e.projectId,r=e.image,i=t.slug,o=null==r?void 0:r.debug_id;if(i&&n&&o)return"/settings/".concat(i,"/projects/").concat(n,"/debug-symbols/?query=").concat(o)}},{key:"renderBody",value:function(){var e=this.props,t=e.Header,n=e.Body,r=e.Footer,i=e.image,o=e.organization,s=e.projectId,a=e.onReprocessEvent,l=e.event,d=this.state,c=d.loading,u=d.builtinSymbolSources,p=null!=i?i:{},m=p.code_file,f=p.status,h=this.getDebugFilesSettingsLink(),g=this.getCandidates(),b=this.api.baseUrl,Z=(0,z.UO)(m),v=g.some((function(e){return e.download.status===F.il.UNAPPLIED}))&&(0,R.B)(o.features,l)&&!!a;return(0,V.BX)(y.Fragment,{children:[(0,V.tZ)(t,{closeButton:!0,children:(0,V.BX)(Zt,{children:[(0,B.t)("Image"),(0,V.tZ)(vt,{children:null!=Z?Z:(0,B.t)("Unknown")})]})}),(0,V.tZ)(n,{children:(0,V.BX)(yt,{children:[(0,V.tZ)(ct,{image:i}),v&&(0,V.tZ)(D.Z,{priority:"warning",size:"small",onClick:a,withoutMarginBottom:!0,children:(0,B.t)("You’ve uploaded new debug files. Reprocess events in this issue to view a better stack trace")}),(0,V.tZ)(tt,{imageStatus:f,candidates:g,organization:o,projectId:s,baseUrl:b,isLoading:c,eventDateReceived:l.dateReceived,builtinSymbolSources:u,onDelete:this.handleDelete,hasReprocessWarning:v})]})}),(0,V.tZ)(r,{children:(0,V.BX)(wt,{gap:1,children:[(0,V.tZ)(k.ZP,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/",external:!0,children:(0,B.t)("Read the docs")}),h&&(0,V.tZ)(k.ZP,{title:(0,B.t)("Search for this debug file in all images for the %s project",s),to:h,children:(0,B.t)("Open in Settings")})]})})]})}}]),g}(S.Z),yt=(0,h.Z)("div",{target:"ez3htky3"})("display:grid;grid-gap:",(0,C.Z)(3),";font-size:",(function(e){return e.theme.fontSizeMedium}),";"),Zt=(0,h.Z)("div",{target:"ez3htky2"})("display:grid;grid-template-columns:max-content 1fr;grid-gap:",(0,C.Z)(1),";align-items:center;font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";max-width:calc(100% - 40px);word-break:break-all;"),vt=(0,h.Z)("span",{target:"ez3htky1"})("font-family:",(function(e){return e.theme.text.familyMono}),";"),wt=(0,h.Z)(O.ZP,{target:"ez3htky0"})({name:"1bmnxg7",styles:"white-space:nowrap"}),jt=(0,Z.iv)("[role='document']{overflow:initial;}@media (min-width: ",I.ZP.breakpoints[0],"){width:90%;}@media (min-width: ",I.ZP.breakpoints[3],"){width:70%;}@media (min-width: ",I.ZP.breakpoints[4],"){width:50%;}","")},"./app/types/debugFiles.tsx":function(e,t,n){"use strict";var r,i;n.d(t,{B:function(){return r},W:function(){return i}}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(r||(r={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(i||(i={}))},"./app/views/settings/projectDebugFiles/utils.tsx":function(e,t,n){"use strict";n.d(t,{J:function(){return o},V:function(){return s}});var r=n("./app/locale.tsx"),i=n("./app/types/debugFiles.tsx");function o(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.type){case i.B.EXE:return(0,r.t)("executable");case i.B.DBG:return(0,r.t)("debug companion");case i.B.LIB:return(0,r.t)("dynamic library");default:return null}}function s(e){switch(e){case i.W.SYMTAB:return(0,r.t)("Symbol tables are used as a fallback when full debug information is not available");case i.W.DEBUG:return(0,r.t)("Debug information provides function names and resolves inlined frames during symbolication");case i.W.UNWIND:return(0,r.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case i.W.SOURCES:return(0,r.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_interfaces_debugMeta-v2_debugImageDetails_index_tsx.c8c9069454f9298d733dc4e388fbccbe.js.map