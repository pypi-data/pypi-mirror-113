(self.webpackChunk=self.webpackChunk||[]).push([["app_views_organizationGroupDetails_groupEvents_tsx"],{"./app/components/acl/role.tsx":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.reflect.construct.js");var s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=(r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/react/index.js")),c=r("./app/stores/configStore.tsx"),l=r("./app/utils/isActiveSuperuser.tsx"),d=r("./app/utils/isRenderFunc.tsx"),p=r("./app/utils/withOrganization.tsx");var m=function(e){(0,o.Z)(p,e);var t,r,u=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,a.Z)(t);if(r){var n=(0,a.Z)(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return(0,i.Z)(this,e)});function p(){return(0,s.Z)(this,p),u.apply(this,arguments)}return(0,n.Z)(p,[{key:"hasRole",value:function(){var e,t=c.Z.get("user"),r=this.props,s=r.organization,n=r.role,o=s.availableRoles,i=null!==(e=s.role)&&void 0!==e?e:"";if(!t)return!1;if((0,l.M)())return!0;if(!Array.isArray(o))return!1;var a=o.map((function(e){return e.id}));if(!a.includes(n)||!a.includes(i))return!1;var u=a.indexOf(n);return a.indexOf(i)>=u}},{key:"render",value:function(){var e=this.props.children,t=this.hasRole();return(0,d.l)(e)?e({hasRole:t}):t&&e?e:null}}]),p}(u.Component);m.displayName="Role",t.Z=(0,p.Z)(m)},"./app/components/deviceName.tsx":function(e,t,r){"use strict";r.d(t,{qW:function(){return h},f:function(){return v},ZP:function(){return j}}),r("../node_modules/core-js/modules/es.reflect.construct.js");var s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),d=r("../node_modules/@babel/runtime/regenerator/index.js"),p=r.n(d),m=(r("../node_modules/core-js/modules/es.regexp.exec.js"),r("../node_modules/core-js/modules/es.string.split.js"),r("../node_modules/core-js/modules/es.array.join.js"),r("../node_modules/core-js/modules/es.array.splice.js"),r("../node_modules/core-js/modules/es.array.iterator.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.promise.js"),r("../node_modules/core-js/modules/es.string.iterator.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),f=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e,t){var r=e.split(" ")[0],s=e.split(" ").splice(1).join(" "),n=t.generationByIdentifier(r);return void 0===n?e:n+" "+s}function v(){return y.apply(this,arguments)}function y(){return(y=(0,l.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.e("vendors-node_modules_ios-device-list_dist_ios-device-list_min_js").then(r.t.bind(r,"../node_modules/ios-device-list/dist/ios-device-list.min.js",23)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(e){(0,i.Z)(d,e);var t,r,l=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,u.Z)(t);if(r){var n=(0,u.Z)(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return(0,a.Z)(this,e)});function d(e){var t;return(0,s.Z)(this,d),t=l.call(this,e),(0,c.Z)((0,o.Z)(t),"_isMounted",void 0),t.state={iOSDeviceList:null},t}return(0,n.Z)(d,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,v().then((function(t){e._isMounted&&e.setState({iOSDeviceList:t})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.value,r=e.children,s=this.state.iOSDeviceList;if(!t)return null;if(!s)return t;var n=h(t,s);return(0,f.tZ)("span",{"data-test-id":"loaded-device-name",children:r?r(n):n})}}]),d}(m.Component);j.displayName="DeviceName"},"./app/components/fileSize.tsx":function(e,t,r){"use strict";var s=r("./app/utils.tsx"),n=r("./app/utils/getDynamicText.tsx"),o=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){var t=e.className,r=e.bytes;return(0,o.tZ)("span",{className:t,children:(0,n.Z)({value:(0,s.F)(r),fixed:"xx KB"})})}i.displayName="FileSize",t.Z=i},"./app/utils/attachmentUrl.tsx":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.array.concat.js");var s=r("../node_modules/react/index.js"),n=r("./app/components/acl/role.tsx"),o=r("./app/utils/withOrganization.tsx"),i=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){var t=e.attachment,r=e.organization,s=e.eventId,o=e.projectId,a=e.children;return(0,i.tZ)(n.Z,{role:r.attachmentsRole,children:function(e){var n=e.hasRole;return a(n?"/api/0/projects/".concat(r.slug,"/").concat(o,"/events/").concat(s,"/attachments/").concat(t.id,"/"):null)}})}a.displayName="AttachmentUrl",t.Z=(0,o.Z)((0,s.memo)(a))},"./app/utils/isActiveSuperuser.tsx":function(e,t,r){"use strict";r.d(t,{M:function(){return i}});var s=r("../node_modules/js-cookie/src/js.cookie.js"),n=r.n(s),o=r("./app/stores/configStore.tsx");function i(){return!(!(o.Z.get("user")||{}).isSuperuser||(n().set("su","test"),void 0!==n().get("su")))}},"./app/views/organizationGroupDetails/groupEvents.tsx":function(e,t,r){"use strict";r.r(t),r.d(t,{GroupEvents:function(){return z},default:function(){return E}}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.regexp.exec.js"),r("../node_modules/core-js/modules/es.string.search.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/react/index.js")),d=r("../node_modules/react-router/es/index.js"),p=r("../node_modules/lodash/pick.js"),m=r.n(p),f=r("./app/components/emptyStateWarning.tsx"),h=(r("../node_modules/core-js/modules/es.array.find.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.function.name.js"),r("./app/components/avatar/userAvatar.tsx")),v=r("./app/components/dateTime.tsx"),y=r("./app/components/deviceName.tsx"),j=r("./app/components/fileSize.tsx"),Z=r("./app/components/globalSelectionLink.tsx"),b=r("./app/utils/attachmentUrl.tsx"),g=r("./app/utils/withOrganization.tsx"),_=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var x=function(e){(0,i.Z)(c,e);var t,r,o=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,u.Z)(t);if(r){var n=(0,u.Z)(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return(0,a.Z)(this,e)});function c(){return(0,s.Z)(this,c),o.apply(this,arguments)}return(0,n.Z)(c,[{key:"renderCrashFileLink",value:function(){var e=this.props,t=e.event,r=e.projectId;if(!t.crashFile)return null;var s="event.minidump"===t.crashFile.type?"Minidump":"Crash file";return(0,_.tZ)(b.Z,{projectId:r,eventId:t.id,attachment:t.crashFile,children:function(e){var r,n;return e&&(0,_.BX)("small",{children:[s,": ",(0,_.tZ)("a",{href:"".concat(e,"?download=1"),children:null===(r=t.crashFile)||void 0===r?void 0:r.name})," (",(0,_.tZ)(j.Z,{bytes:(null===(n=t.crashFile)||void 0===n?void 0:n.size)||0}),")"]})}})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.event,s=e.orgId,n=e.groupId,o=e.tagList,i=e.hasUser,a={};r.tags.forEach((function(e){a[e.key]=e.value}));var u="/organizations/".concat(s,"/issues/").concat(n,"/events/").concat(r.id,"/");return(0,_.BX)("tr",{className:t,children:[(0,_.tZ)("td",{children:(0,_.BX)("h5",{children:[(0,_.tZ)(Z.Z,{to:u,children:(0,_.tZ)(v.Z,{date:r.dateCreated})}),(0,_.tZ)("small",{children:r.title.substr(0,100)}),this.renderCrashFileLink()]})}),i&&(0,_.tZ)("td",{className:"event-user table-user-info",children:r.user?(0,_.BX)("div",{children:[(0,_.tZ)(h.Z,{user:r.user,size:24,className:"avatar",gravatar:!1}),r.user.email]}):(0,_.tZ)("span",{children:"—"})}),o.map((function(e){return(0,_.tZ)("td",{children:(0,_.tZ)("div",{children:"device"===e.key?(0,_.tZ)(y.ZP,{value:a[e.key]}):a[e.key]})},e.key)}))]},r.id)}}]),c}(l.Component);x.displayName="EventsTableRow";var R=(0,g.Z)(x),k=r("./app/locale.tsx");var O=function(e){(0,i.Z)(c,e);var t,r,o=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,u.Z)(t);if(r){var n=(0,u.Z)(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return(0,a.Z)(this,e)});function c(){return(0,s.Z)(this,c),o.apply(this,arguments)}return(0,n.Z)(c,[{key:"render",value:function(){var e=this.props,t=e.events,r=e.tagList,s=e.orgId,n=e.projectId,o=e.groupId,i=!!t.find((function(e){return e.user}));return(0,_.BX)("table",{className:"table events-table",children:[(0,_.tZ)("thead",{children:(0,_.BX)("tr",{children:[(0,_.tZ)("th",{children:(0,k.t)("ID")}),i&&(0,_.tZ)("th",{children:(0,k.t)("User")}),r.map((function(e){return(0,_.tZ)("th",{children:e.name},e.key)}))]})}),(0,_.tZ)("tbody",{children:t.map((function(e){return(0,_.tZ)(R,{event:e,orgId:s,projectId:n,groupId:o,tagList:r,hasUser:i},e.id)}))})]})}}]),c}(l.Component);O.displayName="EventsTable";var w=O,I=r("./app/components/loadingError.tsx"),S=r("./app/components/loadingIndicator.tsx"),B=r("./app/components/pagination/index.tsx"),C=r("./app/components/panels/index.tsx"),N=r("./app/components/searchBar.tsx"),P=r("./app/utils/parseApiError.tsx"),q=r("./app/utils/withApi.tsx");function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z=function(e){(0,i.Z)(p,e);var t,r,l=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,u.Z)(t);if(r){var n=(0,u.Z)(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return(0,a.Z)(this,e)});function p(e){var t;(0,s.Z)(this,p),t=l.call(this,e),(0,c.Z)((0,o.Z)(t),"handleSearch",(function(e){var r=D({},t.props.location.query);r.query=e;var s=t.props.params,n=s.groupId,o=s.orgId;d.browserHistory.push({pathname:"/organizations/".concat(o,"/issues/").concat(n,"/events/"),query:r})})),(0,c.Z)((0,o.Z)(t),"fetchData",(function(){t.setState({loading:!0,error:!1});var e=D(D({},m()(t.props.location.query,["cursor","environment"])),{},{limit:50,query:t.state.query});t.props.api.request("/issues/".concat(t.props.params.groupId,"/events/"),{query:e,method:"GET",success:function(e,r,s){var n;t.setState({eventList:e,error:!1,loading:!1,pageLinks:null!==(n=null==s?void 0:s.getResponseHeader("Link"))&&void 0!==n?n:""})},error:function(e){t.setState({error:(0,P.Z)(e),loading:!1})}})}));var r=t.props.location.query;return t.state={eventList:[],loading:!0,error:!1,pageLinks:"",query:r.query||""},t}return(0,n.Z)(p,[{key:"UNSAFE_componentWillMount",value:function(){this.fetchData()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.location.search!==e.location.search){var t=e.location.query;this.setState({query:t.query},this.fetchData)}}},{key:"renderNoQueryResults",value:function(){return(0,_.tZ)(f.Z,{children:(0,_.tZ)("p",{children:(0,k.t)("Sorry, no events match your search query.")})})}},{key:"renderEmpty",value:function(){return(0,_.tZ)(f.Z,{children:(0,_.tZ)("p",{children:(0,k.t)("There don't seem to be any events yet.")})})}},{key:"renderResults",value:function(){var e=this.props,t=e.group,r=e.params,s=t.tags.filter((function(e){return"user"!==e.key}))||[];return(0,_.tZ)(w,{tagList:s,events:this.state.eventList,orgId:r.orgId,projectId:t.project.slug,groupId:r.groupId})}},{key:"renderBody",value:function(){return this.state.loading?(0,_.tZ)(S.Z,{}):this.state.error?(0,_.tZ)(I.Z,{message:this.state.error,onRetry:this.fetchData}):this.state.eventList.length>0?this.renderResults():this.state.query&&""!==this.state.query?this.renderNoQueryResults():this.renderEmpty()}},{key:"render",value:function(){return(0,_.BX)("div",{children:[(0,_.tZ)("div",{style:{marginBottom:20},children:(0,_.tZ)(N.Z,{defaultQuery:"",placeholder:(0,k.t)("search event id, message, or tags"),query:this.state.query,onSearch:this.handleSearch})}),(0,_.tZ)(C.s_,{className:"event-list",children:(0,_.tZ)(C.N,{children:this.renderBody()})}),(0,_.tZ)(B.Z,{pageLinks:this.state.pageLinks})]})}}]),p}(l.Component);z.displayName="GroupEvents";var E=(0,q.Z)(z)}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationGroupDetails_groupEvents_tsx.08fee5d7b341ba0adda73f87c1c33e42.js.map