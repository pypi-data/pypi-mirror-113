(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51e8b3f3"],{"1dde":function(t,e,a){var i=a("d039"),n=a("b622"),r=a("2d00"),o=n("species");t.exports=function(t){return r>=51||!i((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2dd7":function(t,e,a){"use strict";e["a"]={barColorArr:["#6c91fb","#7cdc9f","#fc8b5d","#f1689b","#ab74ff"],pieColorArr:["#6C92FA","#6CBFFF","#4EDED2","#7ADFA0","#A6DD82","#F6DF66","#FDCA5A","#FA8E5A","#F45C5E","#F3689A","#A97AF8","#3D58A6","#3673A3","#2C9990","#469965","#68994D","#A89636","#A8812C","#A6542D","#A34142","#664EA3"],radarColorArr:["#00A5A7","#F45C5E","#4C6BC2","#C2663A","#7EB05D","#468BC2","#BF5254","#C2AE44","#56B077","#25386E","#8A4321","#388252"],commonColorArr:["#00A5A7","#6C92FA","#FA8E5A","#A6DD82","#6CBFFF","#F45C5E","#F6DF66","#4EDED2","#F3689A","#FDCA5A","#7ADFA0","#4C6BC2","#C2663A","#7EB05D","#468BC2","#BF5254","#C2AE44","#33B0A6","#BA456F","#C49939","#56B077","#A1BAFF","#FFBA99","#C7EDAD","#9ED5FF","#FA9698","#FAEB9D","#8CEDE5","#F79CBC","#FFDE96","#A8EDC2","#25386E","#8A4321","#59823D","#285C85","#873233","#8F7E29","#1E827A","#822849","#8C6A20","#388252","#DCFCE8","#FFE4D6","#D2FCF9","#FFF2D4","#D1EBFF","#FFF9D9","#D4DFFF","#FCD2E1","#E9FCDC","#FFD1D2"],graphColorArrPhg:["#F5FBFB","#EDF9F9","#DEF5F5","#C9F5F5"],fullScreenIcon:"path://M432.45,595.444c0,2.177-4.661,6.82-11.305,6.82c-6.475,0-11.306-4.567-11.306-6.82s4.852-6.812,11.306-6.812C427.841,588.632,432.452,593.191,432.45,595.444L432.45,595.444z M421.155,589.876c-3.009,0-5.448,2.495-5.448,5.572s2.439,5.572,5.448,5.572c3.01,0,5.449-2.495,5.449-5.572C426.604,592.371,424.165,589.876,421.155,589.876L421.155,589.876z M421.146,591.891c-1.916,0-3.47,1.589-3.47,3.549c0,1.959,1.554,3.548,3.47,3.548s3.469-1.589,3.469-3.548C424.614,593.479,423.062,591.891,421.146,591.891L421.146,591.891zM421.146,591.891",graphDownloadStyle:"<style>.graph {margin: 20px;width: calc(100% - 40px);height: calc(100% - 40px);border: 1px solid #e6ebf5;}.selected {stroke: red !important;stroke-width: 2px;}.node {cursor: pointer;}.node:hover > path,.node:hover > ellipse,.node:hover > polygon,.node:hover > rect {stroke-width: 2px;}.edge path {stroke: rgb(120, 120, 120);}.edge polygon {fill: rgb(120, 120, 120);}.node.aggregation > polygon {stroke: #e3aa00;fill: #ffe794;}.node.cluster.aggregation > rect {stroke: #e3aa00;fill: #ffe794;stroke-dasharray: 3, 3;}.node.cluster > rect:hover {stroke: #8df1f2;}.node > polygon {stroke: #00a5a7;fill: rgb(141,241,242);}.node > ellipse {stroke: #4ea6e6;fill: #b8e0ff;}.node > path {stroke: #e37d29;fill: #ffd0a6;stroke-dasharray: 3, 3;}.hide {visibility: hidden;}.show {visibility: visible;}.edgePoint ellipse{stroke:#a7a7a7;fill:#a7a7a7;}text {fill: black;}.edge.highlighted path {stroke: red;}.edge.highlighted polygon {stroke: red;fill: red;}.edge.highlighted marker path {fill: red;}</style>",dataMapDownloadStyle:"<style> #graph0 > polygon { fill: transparent; }.node, .cluster { cursor: pointer; }.selected { polygon, ellipse { stroke: red !important; stroke-width: 2px; } }.Create > polygon, .Operator > ellipse { stroke: #4ea6e6; fill: #b8e0ff; }.cluster > polygon { fill: #8df1f2; stroke: #00a5a7; }.Repeat > polygon { stroke: #fdca5a; fill: #fff2d4; }.Shuffle > polygon { stroke: #e37d29; fill: #ffd0a6; }.Batch > polygon { stroke: #de504e; fill: #ffbcba; }.edge path { stroke: rgb(167, 167, 167); }.edge polygon { fill: rgb(167, 167, 167); stroke: rgb(167, 167, 167); }</style>",clusterHeatmapDashboardColorArr:["#fff2d0","#fbeeb2","#f8eb94","#c1e891","#8ae58f","#64d4ab","#3fc3c8","#36afc2","#2d9cbc","#1e74a0"],clusterHeatmapColorArr:["#fff2d0","#f8eb94","#8ae58f","#3fc3c8","#2d9cbc","#104d85"]}},"2fcd":function(t,e,a){t.exports=a.p+"static/img/repeat-dataset.129b2a7f.svg"},"30d6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkMyMzY4N0NDQUQyMzExRTk5OEVEQzJBOEUzMkNBMTQyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkMyMzY4N0NEQUQyMzExRTk5OEVEQzJBOEUzMkNBMTQyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzIzNjg3Q0FBRDIzMTFFOTk4RURDMkE4RTMyQ0ExNDIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzIzNjg3Q0JBRDIzMTFFOTk4RURDMkE4RTMyQ0ExNDIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz60vH4DAAAAw0lEQVR42mL8//8/AyWAkVIDWGbNmkWRAUwMFAKYAVeAeAMQcxFQzwbEK4H4DLoBIAF/IN4OxHw4NIMM3wTEYUB8Cd2AZCCeAcR2QLwXiIXRNPNCDXcHYlCgpaAb8BeIs4C4C4hNgPggEEtC5QSBeA/U8D4gzgDif9gCERSf5UBcA8TaQHwYiM2AeB+UbgbiYqg6RDRi8WsrEH8C4olAfBIqVg51HdHROBmI44H4LRBn49KMywUwsBiKaZuUh4EBAAEGAI/gMqWZGi6/AAAAAElFTkSuQmCC"},3778:function(t,e,a){"use strict";a("ac1f"),a("1276"),a("159b");var i=a("f756");e["a"]={queryDatasetGraph:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datasets/dataset_graph",params:t})},queryLineagesData:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/lineagemgr/lineages",data:t.body})},putLineagesData:function(t){return Object(i["b"])({method:"put",url:"v1/mindinsight/lineagemgr/lineages?train_id="+encodeURIComponent(t.train_id),data:t.body})},queryTargetsData:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/optimizer/targets/search",data:t.body})},querySummaryList:function(t,e){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/train-jobs",params:t,headers:{ignoreError:e}})},getScalarsSample:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/scalar/metadata",params:t,headers:{ignoreError:!0}})},getTensorsSample:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/tensors",params:t,headers:{ignoreError:!0}})},queryGraphData:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/graphs/nodes",params:t})},searchNodesNames:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/graphs/nodes/names",params:t})},querySingleNode:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/graphs/single-node",params:t})},getSingleTrainJob:function(t,e){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/single-job",params:t,headers:{ignoreError:e}})},trainJobsCaches:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/datavisual/train-job-caches",data:t})},getSummarySample:function(t){var e=t.train_id,a=e.split("&"),n="";return a.forEach((function(t){t&&(n+="train_id=".concat(t,"&"))})),n+="tag=".concat(encodeURIComponent(t.tag)),Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/scalars?".concat(n)})},getImageMetadatas:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/image/metadata",params:t,headers:{ignoreError:!0}})},getImageData:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/image/single-image",params:t,headers:{ignoreError:!0}})},getDatavisualPlugins:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/plugins",params:t})},getHistogramData:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/datavisual/histograms",params:t})},getProfilerDeviceData:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/devices",params:t})},getProfilerOpData:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/profile/ops/search",params:t.params,data:t.body,headers:{ignoreError:!0}})},queryDataOfProfileHelper:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/summary/propose",params:t})},queryTrainingTrace:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/training-trace/graph",params:t,headers:{ignoreError:!0}})},targetTimeInfo:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/training-trace/target-time-info",params:t,headers:{ignoreError:!0}})},queryTimeline:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/timeline",params:t,headers:{ignoreError:!0}})},queryTimelineInfo:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/timeline-summary",params:t,headers:{ignoreError:!0}})},queryOpQueue:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/profile/minddata-pipeline/op-queue",params:t.params,data:t.body,headers:{ignoreError:!0}})},queryQueue:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/minddata-pipeline/queue",params:t,headers:{ignoreError:!0}})},queryProcessSummary:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/process_summary",params:t,headers:{ignoreError:!0}})},queueInfo:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/queue_info",params:t,headers:{ignoreError:!0}})},minddataOp:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/minddata_op",params:t,headers:{ignoreError:!0}})},getSession:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions",data:t})},deleteSession:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(t,"/delete")})},checkSessions:function(){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/sessions"})},pollData:function(t,e){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/poll-data"),params:t,headers:{ignoreError:!0}})},retrieve:function(t,e){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/retrieve"),data:t})},createWatchpoint:function(t,e){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/create-watchpoint"),data:t})},updateWatchpoint:function(t,e){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/update-watchpoint"),data:t})},deleteWatchpoint:function(t,e){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/delete-watchpoint"),data:t})},control:function(t,e){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/control"),data:t})},search:function(t,e){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/search"),params:t})},retrieveNodeByBfs:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/retrieve_node_by_bfs",params:t})},tensorComparisons:function(t,e){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-comparisons"),params:t})},tensors:function(t,e){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensors"),params:t})},retrieveTensorHistory:function(t,e){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-history"),data:t})},queryConditions:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(t,"/condition-collections")})},recheckWatchPoints:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(t,"/recheck")})},searchWatchpointHits:function(t,e){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/search-watchpoint-hits"),data:t})},queryStackList:function(t,e){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/stacks"),params:t})},loadTensor:function(t,e){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-files/load"),data:t})},getExplainList:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/explainer/explain-jobs",params:t})},queryTrainInfo:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/explainer/explain-job",params:t})},queryPageInfo:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/explainer/saliency",data:t})},getEvaluation:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/explainer/evaluation",params:t})},queryHOCData:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/explainer/hoc",data:t})},tensorHitsData:function(t,e){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-hits"),params:t})},getTensorGraphData:function(t,e){return Object(i["b"])({method:"get",url:"v1/mindinsight/debugger/sessions/".concat(e,"/tensor-graphs"),params:t})},getCpuUtilization:function(t){return Object(i["b"])({method:"post",url:"v1/mindinsight/profile/minddata-cpu-utilization-summary",params:t.params,data:t.body})},setRecommendWatchPoints:function(t,e){return Object(i["b"])({method:"post",url:"v1/mindinsight/debugger/sessions/".concat(e,"/set-recommended-watch-points"),data:t})},queryMemorySummary:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/memory-summary",params:t})},queryMemoryGraphics:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/memory-graphics",params:t})},queryMemoryBreakdowns:function(t){return Object(i["b"])({method:"get",url:"v1/mindinsight/profile/memory-breakdowns",params:t})},getClusterInfo:function(t){return Object(i["b"])({method:"post",params:t.params,data:t.body,url:"v1/mindinsight/profile/cluster-step-trace-summary"})},getCommInfo:function(t){return Object(i["b"])({method:"post",params:t.params,data:t.body,url:"v1/mindinsight/profile/search-cluster-communication"})},getLinkInfo:function(t){return Object(i["b"])({method:"post",params:t.params,data:t.body,url:"v1/mindinsight/profile/search-cluster-link"})},getClusterPeakMemory:function(t){return Object(i["b"])({method:"get",params:t,url:"v1/mindinsight/profile/cluster-peak-memory"})},getFlopsSummary:function(t){return Object(i["b"])({method:"get",params:t,url:"v1/mindinsight/profile/flops-summary"})},getClusterFlops:function(t){return Object(i["b"])({method:"get",params:t,url:"v1/mindinsight/profile/cluster-flops"})}}},4702:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cl-data-map-manage"},[i("div",{staticClass:"data-map-p32"},[i("div",{staticClass:"cl-title cl-data-map-title"},[i("div",{staticClass:"cl-title-left"},[t._v(t._s(t.$t("dataMap.titleText"))+" "),i("div",{staticClass:"path-message"},[i("span",[t._v(t._s(t.$t("symbols.leftbracket")))]),i("span",[t._v(t._s(t.$t("trainingDashboard.summaryDirPath")))]),i("span",[t._v(t._s(t.summaryPath))]),i("span",[t._v(t._s(t.$t("symbols.rightbracket")))])])]),i("div",{staticClass:"cl-title-right"},[i("div",{staticClass:"cl-close-btn",on:{click:t.jumpToTrainDashboard}},[i("img",{attrs:{src:a("4d06")}})])])]),i("div",{staticClass:"cl-content"},[i("div",{attrs:{id:"data-maps"}},[i("div",{staticClass:"cl-data-map",class:t.fullScreen?"full-screen":""},[i("div",{staticClass:"data-map-container",class:t.rightShow?"":"all"},[i("div",{attrs:{id:"graph"}}),t.noData?i("div",{staticClass:"image-noData"},[i("div",[i("img",{attrs:{src:a("9485"),alt:""}})]),i("div",{staticClass:"noData-text"},[t._v(t._s(t.$t("public.noData")))])]):t._e(),i("div",{staticClass:"full-screen-button",attrs:{title:t.$t("graph.fullScreen")},on:{click:function(e){t.fullScreen=!t.fullScreen}}}),i("div",{staticClass:"fit-screen",attrs:{title:t.$t("graph.fitScreen")},on:{click:function(e){return t.fit()}}}),i("div",{staticClass:"download-button",attrs:{title:t.$t("graph.downloadPic")},on:{click:t.downLoadSVG}})]),i("div",{class:t.rightShow?"":"right-hide",attrs:{id:"sidebar"}},[i("div",{staticClass:"toggle-right",on:{click:t.toggleRight}},[i("i",{class:t.rightShow?"icon-toggle":"icon-toggle icon-left"})]),i("div",{staticClass:"node-info",class:t.showLegend?"node-info-con node-info-container":"node-info-con node-info-container-long"},[i("div",{staticClass:"title"},[t._v(t._s(t.$t("graph.nodeInfo")))]),t.selectedNode&&t.selectedNode.length?i("div",{staticClass:"node-info-list"},t._l(t.selectedNode,(function(e){return i("div",{key:e.key,staticClass:"item"},[i("div",{staticClass:"label"},[t._v(t._s(e.key))]),i("div",{staticClass:"value"},[t._v(t._s(e.value))])])})),0):t._e()]),t.fullScreen?t._e():i("div",{staticClass:"legend"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("graph.legend"))+" "),i("img",{directives:[{name:"show",rawName:"v-show",value:!t.showLegend,expression:"!showLegend"}],attrs:{src:a("e08c"),alt:""},on:{click:t.foldLegend}}),i("img",{directives:[{name:"show",rawName:"v-show",value:t.showLegend,expression:"showLegend"}],attrs:{src:a("30d6"),alt:""},on:{click:t.foldLegend}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLegend,expression:"showLegend"}],staticClass:"legend-content"},[i("div",{staticClass:"legend-item"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:a("8cb0"),alt:""}})]),i("div",[t._v("Create")])]),i("div",{staticClass:"legend-item"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:a("9175"),alt:""}})]),i("div",[t._v("Map")])]),i("div",{staticClass:"legend-item"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:a("5185"),alt:""}})]),i("div",[t._v("Operator")])]),i("div",{staticClass:"legend-item"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:a("98f4"),alt:""}})]),i("div",[t._v("Shuffle")])]),i("div",{staticClass:"legend-item"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:a("eba6"),alt:""}})]),i("div",[t._v("Batch")])]),i("div",{staticClass:"legend-item"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:a("2fcd"),alt:""}})]),i("div",[t._v("Repeat")])])])])])])])])])])},n=[],r=(a("99af"),a("b64b"),a("159b"),a("caad"),a("ac1f"),a("5319"),a("1276"),a("498a"),a("d81d"),a("fb6a"),a("466d"),a("a15b"),a("3778")),o=a("2dd7"),s=a("5698"),c=a("0165"),d=(a("6d21"),{select:s["d"],selectAll:s["e"],zoom:s["f"]}),l={data:function(){return{allGraphData:{},graphviz:null,totalMemory:33554432,scaleRange:[1e-4,1e4],rightShow:!0,showLegend:!0,fullScreen:!1,trainJobID:"",selectedNode:[],noData:!1,summaryPath:this.$route.query.summaryPath}},mounted:function(){var t=this;if(!this.$route.query||!this.$route.query.train_id)return this.trainJobID="",this.$message.error(this.$t("trainingDashboard.invalidId")),void(document.title="".concat(this.$t("trainingDashboard.dataMap"),"-MindInsight"));this.trainJobID=this.$route.query.train_id,document.title="".concat(decodeURIComponent(this.trainJobID),"-").concat(this.$t("trainingDashboard.dataMap"),"-MindInsight"),this.$nextTick((function(){t.queryGraphData()}))},destroyed:function(){},methods:{queryGraphData:function(){var t=this,e={train_id:this.trainJobID};r["a"].queryDatasetGraph(e).then((function(e){if(e&&e.data&&e.data.dataset_graph){var a=JSON.parse(JSON.stringify(e.data.dataset_graph));if(t.dealResponseData(a),Object.keys(t.allGraphData).length){t.noData=!1;var i=t.packageGraphData();t.initGraph(i)}else t.noData=!0}}))},dealResponseData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t){var n="".concat(a?a+"/":"").concat(t.op_type||"","_").concat(i),r={key:n,id:""};Object.keys(t).forEach((function(a){"children"!==a?r[a]=JSON.parse(JSON.stringify(t[a])):(r.children=[],t.children&&t.children.length&&t.children.forEach((function(t,a){r.children.push("".concat(r.key,"/").concat(t.op_type,"_").concat(a)),e.dealResponseData(t,r.key,a)})))})),this.allGraphData[n]=r}},packageGraphData:function(){var t=this,e=["BatchDataset","ShuffleDataset","RepeatDataset","MapDataset","Batch","Shuffle","Repeat","Map"],a=["Map","MapDataset"],i="",n="";Object.keys(this.allGraphData).forEach((function(n){var r=t.allGraphData[n];a.includes(r.op_type)?i+=t.packageSubGraph(n):(r.id=n,i+="<".concat(r.key,'>[id="').concat(r.key,'";label="').concat(r.op_type,'";')+"class=".concat(e.includes(r.op_type)?r.op_type.replace("Dataset",""):"Create",';shape=rect;fillcolor="#9cc3e5";];'))})),Object.keys(this.allGraphData).forEach((function(e){var i=t.allGraphData[e];i.children.forEach((function(e){var r=t.allGraphData[e];n+="<".concat(r.id,">-><").concat(i.id,">[").concat(a.includes(r.op_type)?"ltail=<cluster_".concat(r.key,">;"):"").concat(a.includes(i.op_type)?"lhead=<cluster_".concat(i.key,">;"):"","];")}))}));var r='node[style="filled";fontsize="10px"];edge[fontsize="6px";];';return"digraph {compound=true;rankdir=LR;".concat(r).concat(i).concat(n,"}")},packageSubGraph:function(t){var e=this.allGraphData[t],a="";if(e.operations&&e.operations.length){var i="";e.operations.forEach((function(t,a){var n="".concat(e.key,"/").concat(t.tensor_op_name,"_").concat(a);t.key=n,i+="<".concat(n,'>[id="').concat(n,'";class=Operator;label="').concat(t.tensor_op_name,'";fillcolor="#c5e0b3"];'),e.id||(e.id=n)})),a+="subgraph <cluster_".concat(t,'>{style="filled";id="').concat(t,'";')+'label="'.concat(e.op_type,'";fillcolor="#9cc3e5";').concat(i,"};")}return a},initGraph:function(t){this.graphviz=d.select("#graph").graphviz({useWorker:!1,totalMemory:this.totalMemory}).zoomScaleExtent(this.scaleRange).dot(t).attributer(this.attributer).render(this.afterInitGraph)},afterInitGraph:function(){var t=this;setTimeout((function(){t.graphviz&&(t.graphviz._data=null,t.graphviz._dictionary=null,t.graphviz=null)}),100),d.select("#graph").selectAll("title").remove(),this.startApp()},attributer:function(t,e,a){if("svg"===t.tag){var i="100%",n="100%";t.attributes.width=i,t.attributes.height=n}},startApp:function(){var t=this;this.initZooming();var e=d.selectAll("g.node, g.cluster");e.on("click",(function(a,i,n){t.selectNodeInfo(a);var r=n[i];e.classed("selected",!1),d.select('g[id="'.concat(r.id,'"]')).classed("selected",!0)}))},initZooming:function(){var t=this,e=document.querySelector("#graph svg"),a=e.getBoundingClientRect(),i=document.querySelector("#graph #graph0"),n=i.getBBox(),r=i.getBoundingClientRect(),o={},s=Math.min(a.width/2/r.width,a.height/2/r.height),l=4,u=50,g={start:{x:0,y:0},end:{x:0,y:0}},h=d.zoom().on("start",(function(){var t=c["c"].sourceEvent;g.start.x=t.x,g.start.y=t.y})).on("zoom",(function(){var e=c["c"].sourceEvent,r=t.getTransformData(i);Object.keys(o).length||(o={x:r.translate[0],y:r.translate[1],k:r.scale[0]});var d="",h={},p=r.scale[0],m=i.getBoundingClientRect(),f=n.width/m.width;if("mousemove"===e.type){g.end.x=e.x,g.end.y=e.y;var b=g.end.x-g.start.x,v=g.end.y-g.start.y,A=Math.max(l/f*p,u);m.left+A+b>=a.left+a.width&&(b=Math.min(b,0)),m.left+m.width-A+b<=a.left&&(b=Math.max(b,0)),m.top+A+v>=a.top+a.height&&(v=Math.min(v,0)),m.top+m.height-A+v<=a.top&&(v=Math.max(v,0)),h={x:b*f*p,y:v*f*p},g.start.x=g.end.x,g.start.y=g.end.y}else if("wheel"===e.type){var y=-e.deltaY,D=1.2;p=y>0?r.scale[0]*D:r.scale[0]/D,p=Math.max(t.scaleRange[0],p,s),p=Math.min(t.scaleRange[1],p),h={x:(m.x+l/f-e.x)*f*(p-r.scale[0]),y:(m.bottom-l/f-e.y)*f*(p-r.scale[0])}}o={x:r.translate[0]+h.x,y:r.translate[1]+h.y,k:p},d="translate(".concat(o.x,",").concat(o.y,") scale(").concat(o.k,")"),i.setAttribute("transform",d),e.stopPropagation(),e.preventDefault()})),p=d.select("#graph svg");p.on(".zoom",null),p.call(h),p.on("dblclick.zoom",null),p.on("wheel.zoom",null);var m=d.select("#graph #graph0");m.on(".zoom",null),m.call(h)},getTransformData:function(t){if(!t)return[];var e=t.getAttribute("transform"),a={};if(e){var i=e.trim().split(" ");i.forEach((function(t){var e=t.indexOf("("),i=t.indexOf(")"),n=t.substring(0,e),r=t.substring(e+1,i).split(",").map((function(t){return parseFloat(t)||0}));a[n]=r}))}return a},selectNodeInfo:function(t){var e=this;if(this.selectedNode=[],t&&t.key){var a="",i="";if(-1!==t.attributes.class.indexOf("Operator")){a=t.attributes.id.slice(0,t.attributes.id.lastIndexOf("/"));var n=-1;t.attributes.id.match(/\d+$/)&&(n=parseInt(t.attributes.id.match(/\d+$/)[0])),this.allGraphData[a]&&n>-1&&(i=this.allGraphData[a].operations[n])}else a=t.attributes.id,i=this.allGraphData[a];if(i){var r=["op_module","op_type","children","operations","id","key"];Object.keys(i).forEach((function(t){if(!r.includes(t)){var a=i[t]instanceof Array?i[t].join(", "):null===i[t]?"None":i[t];e.selectedNode.push({key:t,value:a})}}))}}},fit:function(){var t=document.getElementById("graph0"),e=t.getBBox(),a="translate(".concat(-e.x,",").concat(-e.y,") scale(1)");t.setAttribute("transform",a)},downLoadSVG:function(){var t=document.querySelector("#graph #graph0").innerHTML,e=document.getElementById("graph0").getBBox(),a="".concat(e.x," ").concat(e.y," ").concat(e.width," ").concat(e.height),i='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" '+'width="'.concat(e.width,'" height="').concat(e.height,'" ')+'viewBox="'.concat(a,'">').concat(o["a"].dataMapDownloadStyle,"<g>").concat(t,"</g></svg>"),n="data:image/svg+xml;base64,\n      ".concat(window.btoa(unescape(encodeURIComponent(i)))),r=document.createElement("a");r.href=n,r.download="dataMap.svg";var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!0),r.dispatchEvent(s)},toggleRight:function(){this.rightShow=!this.rightShow},foldLegend:function(){this.showLegend=!this.showLegend},jumpToTrainDashboard:function(){this.$router.push({path:"/train-manage/training-dashboard",query:{id:this.trainJobID}})}}},u=l,g=(a("c2e4"),a("2877")),h=Object(g["a"])(u,i,n,!1,null,null,null);e["default"]=h.exports},"498a":function(t,e,a){"use strict";var i=a("23e7"),n=a("58a8").trim,r=a("c8d2");i({target:"String",proto:!0,forced:r("trim")},{trim:function(){return n(this)}})},"4d06":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAptJREFUOBGllEFoE0EUhudtbRUvRuhFcognz4V6sSCSg7Ee2kNpoyhYAt1GULEr3YhWsL0oZrWJoOBmK7GCoov2oAWpRSJ4UZDi2ZM9BC8FgweRtmZ8f9wZpprSgAObee+f/32Z2Zkdyhf9IZLithDidWes43Qmk/nJccutXC7vWKmt3uOClCRx3hKSbCnFHn6GV2prc2EYdrRKgxc1qAUDLItnN0PEv9yklEeXq9+e+b7fvhUUHnhRAy8YYFnuhdFQCjqnAPxPfd9/iCeVSmWb0v7uMQYPvGoMDLBICV4hGJOyXlA5/2OYiMdOpNPpX0pDz8tsW67WHvPM0konshzXsYvILSU2BBIXVY6CL9XaLPfagzjSNExwjYJtACLJOdk8kbiioPxST94qBvcZRHgQQ1Pj8KJG5ej1kk3RK/iT/H6uao3ETCOWYkRpDJtyneykylXfFIhBr1C6xrO6pIxmz+/3uuuMXjY1FW8KhIGhHkPHlRk9w24yzDU1M9Yv3BT/J27brDhast51w9eT6u3fvrjw8o2h6bApMD9dmuLvRu82CQr4WeKq7qjy4OEj/RZD32pSFPwD5B2e4DEG/mkW0YNxx7Z7DnTPv/+wlOBvtCsaOpTq7VtfXJh/p7zoN2xKvuDnhBQ3tIHokTtmn+KNqEPjDbK8YvDQPIs42OZZ1JuCT8+E4dPbG48NKxiAiCMtRN5oPIFGbZQ2ZpgvBGeErN+JNC4Uc/u79h1LJpPrSjN7XA4fP31+yod/QOtknc059l3ypktpnjbfHHw9ohG92LVTDmaz2TVtbhLg+uIb57m6cXj2kld43GLMiIKx+IqXNLQVDHx4EvHdg6hBDgZYliAZ8BK/8jPbGWsf4OtqFYZWGryoQS0YYP0GSgsoUPv9lyUAAAAASUVORK5CYII="},5185:function(t,e,a){t.exports=a.p+"static/img/operator-node.e4e15cb8.svg"},8418:function(t,e,a){"use strict";var i=a("c04e"),n=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var o=i(e);o in t?n.f(t,o,r(0,a)):t[o]=a}},"8cb0":function(t,e,a){t.exports=a.p+"static/img/creat-dataset.17b9b72d.svg"},9175:function(t,e,a){t.exports=a.p+"static/img/map-dataset.ea36ef19.svg"},9485:function(t,e,a){t.exports=a.p+"static/img/nodata.8290bed9.png"},"98f4":function(t,e,a){t.exports=a.p+"static/img/shuffle-dataset.3fa06fa2.svg"},"99af":function(t,e,a){"use strict";var i=a("23e7"),n=a("d039"),r=a("e8b5"),o=a("861d"),s=a("7b0b"),c=a("50c4"),d=a("8418"),l=a("65f0"),u=a("1dde"),g=a("b622"),h=a("2d00"),p=g("isConcatSpreadable"),m=9007199254740991,f="Maximum allowed index exceeded",b=h>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=u("concat"),A=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},y=!b||!v;i({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,i,n,r,o=s(this),u=l(o,0),g=0;for(e=-1,i=arguments.length;e<i;e++)if(r=-1===e?o:arguments[e],A(r)){if(n=c(r.length),g+n>m)throw TypeError(f);for(a=0;a<n;a++,g++)a in r&&d(u,g,r[a])}else{if(g>=m)throw TypeError(f);d(u,g++,r)}return u.length=g,u}})},a15b:function(t,e,a){"use strict";var i=a("23e7"),n=a("44ad"),r=a("fc6a"),o=a("a640"),s=[].join,c=n!=Object,d=o("join",",");i({target:"Array",proto:!0,forced:c||!d},{join:function(t){return s.call(r(this),void 0===t?",":t)}})},c2e4:function(t,e,a){"use strict";a("c850")},c850:function(t,e,a){},c8d2:function(t,e,a){var i=a("d039"),n=a("5899"),r="​᠎";t.exports=function(t){return i((function(){return!!n[t]()||r[t]()!=r||n[t].name!==t}))}},e08c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM2RTk2MTdDQUQyMzExRTk5NTMxREEwM0Y1RTkyRTgzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM2RTk2MTdEQUQyMzExRTk5NTMxREEwM0Y1RTkyRTgzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzZFOTYxN0FBRDIzMTFFOTk1MzFEQTAzRjVFOTJFODMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzZFOTYxN0JBRDIzMTFFOTk1MzFEQTAzRjVFOTJFODMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4nS1hsAAAAxElEQVR42mL8//8/AyWAceANmDlzJkUGMOGRSwTiN0CcTo4BBUA8F4iFgXg6EBeRYkAdEPcD8R0gNgfia0DcC8S12AxgQQ4PIO4G4mIgvgzEbkD8AojtgXgXEDcBMTcQV2BzATMQz4BqPgXEDlDNIPAWiJ2A+BgQlwPxFKhlKAaA/JsGxIeA2AWI36G59CMQuwPxPiDOhoYLigGmQLwRiD2B+DOO8PoCxD5AvB6IddDDQJvIaP8OxEHEpoOhkhcoNQAgwACvNDJTYJfE+QAAAABJRU5ErkJggg=="},eba6:function(t,e,a){t.exports=a.p+"static/img/batch-img.01b05453.svg"},fb6a:function(t,e,a){"use strict";var i=a("23e7"),n=a("861d"),r=a("e8b5"),o=a("23cb"),s=a("50c4"),c=a("fc6a"),d=a("8418"),l=a("b622"),u=a("1dde"),g=a("ae40"),h=u("slice"),p=g("slice",{ACCESSORS:!0,0:0,1:2}),m=l("species"),f=[].slice,b=Math.max;i({target:"Array",proto:!0,forced:!h||!p},{slice:function(t,e){var a,i,l,u=c(this),g=s(u.length),h=o(t,g),p=o(void 0===e?g:e,g);if(r(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[m],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return f.call(u,h,p);for(i=new(void 0===a?Array:a)(b(p-h,0)),l=0;h<p;h++,l++)h in u&&d(i,l,u[h]);return i.length=l,i}})}}]);