(()=>{"use strict";var e,t,o,n={69266:(e,t,o)=>{o(95499);var n=o(32735),s=o(12788),r=o(72865),a=o(19306);document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#session-calendar-link");if(!e)return;const{eventId:t,sessionId:o,sessionContribCount:i}=e.dataset,c=[{key:"session",text:a.vN.string("Session"),extraParams:{}}];parseInt(i,10)>0&&c.push({key:"contribution",text:a.vN.string("Detailed timetable"),extraParams:{detail:"contributions"}}),s.render(n.createElement(r.Os,{endpoint:"sessions.export_ics",params:{event_id:t,session_id:o},renderButton:e=>n.createElement(r.Lp,{icon:"calendar",classes:e}),options:c}),e)}));var i=o(96887).default;!function(e){function t(){$("#sessions .tablesorter").tablesorter({cssAsc:"header-sort-asc",cssDesc:"header-sort-desc",cssInfoBlock:"avoid-sort",cssChildRow:"session-blocks-row",headerTemplate:"",sortList:[[1,0]]})}function o(){$(".palette-picker-trigger").each((function(){const e=$(this);e.palettepicker({availableColors:e.data("colors"),selectedColor:e.data("color"),onSelect(e,t){$.ajax({url:$(this).data("href"),method:$(this).data("method"),data:JSON.stringify({colors:{text:t,background:e}}),dataType:"json",contentType:"application/json",error:handleAjaxError,complete:IndicoUI.Dialogs.Util.progress()})}})}))}const n={itemHandle:"tr",listItems:"#sessions-wrapper tr.session-row",term:"#search-input",state:"#filtering-state",placeholder:"#filter-placeholder"};e.setupSessionsList=function(e){var s;e=$.extend({createTypeURL:null},e),s=e.createTypeURL,$("#sessions").on("click",".session-type-picker",(function(){$(this).itempicker({filterPlaceholder:$T.gettext("Filter types"),containerClasses:"session-type-container",uncheckedItemIcon:"",footerElements:[{title:$T.gettext("Add new type"),onClick(e){ajaxDialog({title:$T.gettext("Add new type"),url:s,onClose(t){t&&($(".session-type-picker").each((function(){const e=$(this);e.data("indicoItempicker")?e.itempicker("updateItemList",t.types):e.data("items",t.types)})),e.itempicker("selectItem",t.new_type_id))}})}}],onSelect(e){const t=$(this),o={type_id:e?e.id:null};return(n=t.data("href"),s=t.data("method"),r=o,$.ajax({url:n,method:s,data:JSON.stringify(r),dataType:"json",contentType:"application/json",error:handleAjaxError,complete:IndicoUI.Dialogs.Util.progress()})).then((function(){const o=e?e.title:$T.gettext("No type");t.find(".label").text(o)}));var n,s,r}})})),enableIfChecked("#sessions-wrapper",".select-row","#sessions .js-requires-selected-row"),t(),o(),handleRowSelection(!1);const r=setupSearchBox(n);$("#sessions .toolbar").on("click",".disabled",(function(e){e.preventDefault(),e.stopPropagation()})),$("#sessions-wrapper").on("indico:htmlUpdated",(function(){t(),o(),handleRowSelection(!0),i.defer(r)})).on("click",".show-session-blocks",(function(){const e=$(this);ajaxDialog({title:e.data("title"),url:e.data("href")})})).on("attachments:updated",(function(e){const t=$(e.target);reloadManagementAttachmentInfoColumn(t.data("locator"),t.closest("td"))})),$(".js-submit-session-form").on("click",(function(e){e.preventDefault();const t=$(this);t.hasClass("disabled")||$("#sessions-wrapper form").attr("action",t.data("href")).submit()}))}}(window)}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var o=s[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=n,e=[],r.O=(t,o,n,s)=>{if(!o){var a=1/0;for(l=0;l<e.length;l++){for(var[o,n,s]=e[l],i=!0,c=0;c<o.length;c++)(!1&s||a>=s)&&Object.keys(r.O).every((e=>r.O[e](o[c])))?o.splice(c--,1):(i=!1,s<a&&(a=s));i&&(e.splice(l--,1),t=n())}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[o,n,s]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var s=Object.create(null);r.r(s);var a={};t=t||[null,o({}),o([]),o(o)];for(var i=2&n&&e;"object"==typeof i&&!~t.indexOf(i);i=o(i))Object.getOwnPropertyNames(i).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,r.d(s,a),s},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.e=()=>Promise.resolve(),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=9691,(()=>{var e={9691:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,s,[a,i,c]=o,l=0;for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(c)var d=c(r);for(t&&t(o);l<a.length;l++)s=a[l],r.o(e,s)&&e[s]&&e[s][0](),e[a[l]]=0;return r.O(d)},o=self.webpackChunk=self.webpackChunk||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=r.O(void 0,[5514,3044,8592],(()=>r(69266)));a=r.O(a)})();
//# sourceMappingURL=module_events.sessions.b460c682.bundle.js.map