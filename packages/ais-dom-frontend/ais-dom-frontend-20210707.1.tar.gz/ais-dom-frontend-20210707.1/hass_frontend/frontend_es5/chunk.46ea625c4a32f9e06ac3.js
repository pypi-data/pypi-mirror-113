(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[23766],{33897:function(t,n,r){"use strict";if(r.d(n,{q:function(){return i}}),32143==r.j)var e=r(58831);var i=function(t){var n=[],r={};return Object.keys(t).forEach((function(i){var a=t[i];"group"===(0,e.M)(i)?n.push(a):r[i]=a})),n.forEach((function(t){return t.attributes.entity_id.forEach((function(t){delete r[t]}))})),{groups:n,ungrouped:r}}},23197:function(t,n,r){"use strict";r.d(n,{VG:function(){return b},AP:function(){return w}});var e=r(58831);if(32143==r.j)var i=r(22311);var a=r(91741);if(32143==r.j)var o=r(33897);if(32143==r.j)var u=r(85415);if(32143==r.j)var s=r(5986);var c=r(41499);function f(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==r)return;var e,i,a=[],o=!0,u=!1;try{for(r=r.call(t);!(o=(e=r.next()).done)&&(a.push(e.value),!n||a.length!==n);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==r.return||r.return()}finally{if(u)throw i}}return a}(t,n)||d(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=d(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function d(t,n){if(t){if("string"==typeof t)return h(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,n):void 0}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var y=new Set(["automation","configurator","device_tracker","geo_location","persistent_notification","zone"]),p=new Set(["mobile_app"]),b=function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[],u=[],s=n.title?"".concat(n.title," "):void 0,f=v(t);try{for(f.s();!(r=f.n()).done;){var d=l(r.value,2),h=d[0],y=d[1],p=(0,e.M)(h);if("alarm_control_panel"===p){var b={type:"alarm-panel",entity:h};o.push(b)}else if("camera"===p){var w={type:"picture-entity",entity:h};o.push(w)}else if("climate"===p){var g={type:"thermostat",entity:h};o.push(g)}else if("humidifier"===p){var j={type:"humidifier",entity:h};o.push(j)}else if("light"===p&&i){var _={type:"light",entity:h};o.push(_)}else if("media_player"===p){var O={type:"media-control",entity:h};o.push(O)}else if("plant"===p){var E={type:"plant-status",entity:h};o.push(E)}else if("weather"===p){var A={type:"weather-forecast",entity:h,show_forecast:!1};o.push(A)}else if("sensor"===p&&(null==y?void 0:y.attributes.device_class)===c.A);else{var S=void 0,I=s&&y&&(S=(0,a.C)(y))!==s&&S.startsWith(s)?{entity:h,name:m(S.substr(s.length))}:h;u.push(I)}}}catch(k){f.e(k)}finally{f.f()}return u.length>0&&o.unshift(Object.assign({type:"entities",entities:u},n)),o},m=function(t){return(n=t.substr(0,t.indexOf(" "))).toLowerCase()!==n?t:t[0].toUpperCase()+t.slice(1);var n},w=function(t,n,r,e,c){var d,h=function(t,n){var r={},e=new Set(n.filter((function(t){return p.has(t.platform)})).map((function(t){return t.entity_id})));return Object.keys(t).forEach((function(n){var a=t[n];y.has((0,i.N)(a))||e.has(a.entity_id)||(r[n]=t[n])})),r}(e,r),m={};Object.keys(h).forEach((function(t){var n=h[t];n.attributes.order&&(m[t]=n.attributes.order)}));var w=function(t,n,r,e){var i,a=Object.assign({},e),o=[],u=v(t);try{var s=function(){var t,e=i.value,u=[],s=new Set(n.filter((function(t){return t.area_id===e.area_id})).map((function(t){return t.id}))),c=v(r);try{for(c.s();!(t=c.n()).done;){var f=t.value;(s.has(f.device_id)&&!f.area_id||f.area_id===e.area_id)&&f.entity_id in a&&(u.push(a[f.entity_id]),delete a[f.entity_id])}}catch(l){c.e(l)}finally{c.f()}u.length>0&&o.push([e,u])};for(u.s();!(i=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}return{areasWithEntities:o,otherEntities:a}}(t,n,r,h),g=function(t,n,r,e,c,f){var l=(0,o.q)(c);l.groups.sort((function(t,n){return f[t.entity_id]-f[n.entity_id]}));var v={};Object.keys(l.ungrouped).forEach((function(t){var n=l.ungrouped[t],r=(0,i.N)(n);r in v||(v[r]=[]),v[r].push(n.entity_id)}));var d=[];l.groups.forEach((function(t){d=d.concat(b(t.attributes.entity_id.map((function(t){return[t,c[t]]})),{title:(0,a.C)(t),show_header_toggle:"hidden"!==t.attributes.control}))})),Object.keys(v).sort().forEach((function(n){d=d.concat(b(v[n].sort((function(t,n){return(0,u.q)((0,a.C)(c[t]),(0,a.C)(c[n]))})).map((function(t){return[t,c[t]]})),{title:(0,s.Lh)(t,n)}))}));var h={path:n,title:r,cards:d};return e&&(h.icon=e),h}(c,"default_view","Home",undefined,w.otherEntities,m),j=[];return w.areasWithEntities.forEach((function(t){var n=l(t,2),r=n[0],e=n[1];j.push.apply(j,f(b(e.map((function(t){return[t.entity_id,t]})),{title:r.name})))})),(d=g.cards).unshift.apply(d,j),g}},97504:function(t,n,r){"use strict";r.d(n,{L:function(){return i},F:function(){return a}});var e=r(47181),i=function(){return Promise.all([r.e(13967),r.e(68644),r.e(79413),r.e(46363),r.e(81480),r.e(78498),r.e(5353),r.e(34821),r.e(7164),r.e(83511),r.e(67065),r.e(70063),r.e(73056)]).then(r.bind(r,52408))},a=function(t,n){(0,e.B)(t,"show-dialog",{dialogTag:"hui-dialog-create-card",dialogImport:i,dialogParams:n})}},54324:function(t,n,r){"use strict";function e(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==r)return;var e,i,a=[],o=!0,u=!1;try{for(r=r.call(t);!(o=(e=r.next()).done)&&(a.push(e.value),!n||a.length!==n);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==r.return||r.return()}finally{if(u)throw i}}return a}(t,n)||a(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){if(t){if("string"==typeof t)return o(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,n):void 0}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}r.d(n,{Z0:function(){return u},BN:function(){return s},LG:function(){return c},f1:function(){return f},qD:function(){return l},Y7:function(){return v},wI:function(){return d},Uo:function(){return h},YI:function(){return y},mA:function(){return p},PT:function(){return b}});var u=function(t,n,r){var a=i(n,1)[0],o=[];return t.views.forEach((function(n,i){if(i===a){var u=n.cards?[].concat(e(n.cards),[r]):[r];o.push(Object.assign({},n,{cards:u}))}else o.push(t.views[i])})),Object.assign({},t,{views:o})},s=function(t,n,r){var a=i(n,1)[0],o=[];return t.views.forEach((function(n,i){if(i===a){var u=n.cards?[].concat(e(n.cards),e(r)):e(r);o.push(Object.assign({},n,{cards:u}))}else o.push(t.views[i])})),Object.assign({},t,{views:o})},c=function(t,n,r){var e=i(n,2),a=e[0],o=e[1],u=[];return t.views.forEach((function(n,e){e===a?u.push(Object.assign({},n,{cards:(n.cards||[]).map((function(t,n){return n===o?r:t}))})):u.push(t.views[e])})),Object.assign({},t,{views:u})},f=function(t,n){var r=i(n,2),e=r[0],a=r[1],o=[];return t.views.forEach((function(n,r){r===e?o.push(Object.assign({},n,{cards:(n.cards||[]).filter((function(t,n){return n!==a}))})):o.push(t.views[r])})),Object.assign({},t,{views:o})},l=function(t,n,r){var a=i(n,2),o=a[0],u=a[1],s=[];return t.views.forEach((function(n,i){if(i===o){var a=n.cards?[].concat(e(n.cards.slice(0,u)),[r],e(n.cards.slice(u))):[r];s.push(Object.assign({},n,{cards:a}))}else s.push(t.views[i])})),Object.assign({},t,{views:s})},v=function(t,n,r){var e=t.views[n[0]].cards[n[1]],i=t.views[r[0]].cards[r[1]],a=t.views[n[0]],o=Object.assign({},a,{cards:a.cards.map((function(t,r){return r===n[1]?i:t}))}),u=n[0]===r[0]?o:t.views[r[0]],s=Object.assign({},u,{cards:u.cards.map((function(t,n){return n===r[1]?e:t}))});return Object.assign({},t,{views:t.views.map((function(t,e){return e===r[0]?s:e===n[0]?o:t}))})},d=function(t,n,r){if(n[0]===r[0])throw new Error("You can not move a card to the view it is in.");var i=t.views[n[0]],a=i.cards[n[1]],o=Object.assign({},i,{cards:(i.cards||[]).filter((function(t,r){return r!==n[1]}))}),u=t.views[r[0]],s=u.cards?[].concat(e(u.cards),[a]):[a],c=Object.assign({},u,{cards:s});return Object.assign({},t,{views:t.views.map((function(t,e){return e===r[0]?c:e===n[0]?o:t}))})},h=function(t,n){return Object.assign({},t,{views:t.views.concat(n)})},y=function(t,n,r){return Object.assign({},t,{views:t.views.map((function(t,e){return e===n?r:t}))})},p=function(t,n,r){var e=t.views[n],i=t.views[r];return Object.assign({},t,{views:t.views.map((function(t,a){return a===r?e:a===n?i:t}))})},b=function(t,n){return Object.assign({},t,{views:t.views.filter((function(t,r){return r!==n}))})}}}]);
//# sourceMappingURL=chunk.46ea625c4a32f9e06ac3.js.map