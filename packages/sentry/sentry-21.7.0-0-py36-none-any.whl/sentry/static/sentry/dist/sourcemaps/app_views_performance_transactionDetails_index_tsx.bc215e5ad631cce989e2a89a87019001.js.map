{"version":3,"sources":["webpack:///./app/views/performance/breadcrumb.tsx","webpack:///./app/components/events/eventMetadata.tsx","webpack:///./app/components/events/rootSpanStatus.tsx","webpack:///./app/views/performance/transactionDetails/content.tsx","webpack:///./app/views/performance/transactionDetails/index.tsx","webpack:///./app/views/performance/transactionSummary/transactionVitals/utils.tsx","webpack:///./app/views/performance/vitalDetail/utils.tsx"],"names":["Breadcrumb","crumbs","this","props","organization","location","transactionName","vitalName","eventSlug","traceSlug","transactionComparison","realUserMonitoring","performanceTarget","pathname","getPerformanceLandingUrl","query","transaction","undefined","push","to","label","t","preserveGlobalSelection","rumTarget","vitalDetailRouteWithQuery","orgSlug","slug","projectID","decodeScalar","project","vitalsRouteWithQuery","summaryTarget","transactionSummaryRouteWithQuery","getCrumbs","Component","EventMetadata","event","projectId","eventJsonUrl","eventID","MetaDataID","MetadataContainer","date","getDynamicText","value","dateCreated","endTimestamp","fixed","orgId","slugs","projects","find","p","StyledProjectBadge","avatarSize","MetadataJSON","href","className","bytes","size","space","theme","fontSizeMedium","ExternalLink","ProjectBadge","RootSpanStatus","type","getTransactionEvent","traceContext","contexts","trace","status","tags","Array","isArray","tag","tagObject","key","getHttpStatusCode","getRootSpanStatus","trim","Container","Header","subText","loading","reloading","error","errors","isSidebarVisible","setState","state","newQuery","appendTagCondition","title","params","split","renderContent","trackAnalyticsEvent","eventKey","eventName","event_type","organization_id","parseInt","id","traceId","trace_id","getTraceTimeRangeFromEvent","start","end","metaResults","results","Fragment","gap","onClick","toggleSidebar","icon","external","fullWidth","quickTrace","meta","errorDest","transactionDest","getViewChildTransactionTarget","childTransactionProps","getTransactionDetailsUrl","showExampleCommit","showTagSummary","api","isBorderless","generateUrl","generateTagUrl","notFound","Object","values","resp","permissionDenied","message","AsyncComponent","EventDetails","documentTitle","getEventSlug","projectSlug","StyledPageContent","withOrganization","PageContent","environment","statsPeriod","findNearestBucketIndex","chartData","xAxis","width","getBucketWidth","length","bin","Math","floor","getRefRect","i","data1","j","data2","count","point1","x","y","min","point2","max","asPixelRect","chartRef","dataRect","convertToPixel","xAxisIndex","yAxisIndex","isNaN","mapPoint","point","srcRect","destRect","xPercentage","yPercentage","VitalState","webVitalPoor","WebVital","webVitalMeh","vitalStateColors","POOR","MEH","GOOD","vitalStateIcons","color","isCircled","vitalNameFromLocation","_vitalName","v","getVitalDetailTablePoorStatusFunction","vitalThreshold","getAggregateAlias","getVitalDetailTableMehStatusFunction","vitalMap","vitalDescription","vitalAbbreviations","getMaxOfSeries","series","data"],"mappings":"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","file":"chunks/app_views_performance_transactionDetails_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","sourcesContent":["import {Component} from 'react';\nimport {Location, LocationDescriptor} from 'history';\n\nimport Breadcrumbs, {Crumb} from 'app/components/breadcrumbs';\nimport {t} from 'app/locale';\nimport {Organization} from 'app/types';\nimport {decodeScalar} from 'app/utils/queryString';\n\nimport {vitalsRouteWithQuery} from './transactionSummary/transactionVitals/utils';\nimport {transactionSummaryRouteWithQuery} from './transactionSummary/utils';\nimport {vitalDetailRouteWithQuery} from './vitalDetail/utils';\nimport {getPerformanceLandingUrl} from './utils';\n\ntype Props = {\n  organization: Organization;\n  location: Location;\n  transactionName?: string;\n  vitalName?: string;\n  eventSlug?: string;\n  traceSlug?: string;\n  transactionComparison?: boolean;\n  realUserMonitoring?: boolean;\n};\n\nclass Breadcrumb extends Component<Props> {\n  getCrumbs() {\n    const crumbs: Crumb[] = [];\n    const {\n      organization,\n      location,\n      transactionName,\n      vitalName,\n      eventSlug,\n      traceSlug,\n      transactionComparison,\n      realUserMonitoring,\n    } = this.props;\n\n    const performanceTarget: LocationDescriptor = {\n      pathname: getPerformanceLandingUrl(organization),\n      query: {\n        ...location.query,\n        // clear out the transaction name\n        transaction: undefined,\n      },\n    };\n\n    crumbs.push({\n      to: performanceTarget,\n      label: t('Performance'),\n      preserveGlobalSelection: true,\n    });\n\n    if (vitalName) {\n      const rumTarget = vitalDetailRouteWithQuery({\n        orgSlug: organization.slug,\n        vitalName: 'fcp',\n        projectID: decodeScalar(location.query.project),\n        query: location.query,\n      });\n      crumbs.push({\n        to: rumTarget,\n        label: t('Vital Detail'),\n        preserveGlobalSelection: true,\n      });\n    } else if (transactionName) {\n      if (realUserMonitoring) {\n        const rumTarget = vitalsRouteWithQuery({\n          orgSlug: organization.slug,\n          transaction: transactionName,\n          projectID: decodeScalar(location.query.project),\n          query: location.query,\n        });\n\n        crumbs.push({\n          to: rumTarget,\n          label: t('Web Vitals'),\n          preserveGlobalSelection: true,\n        });\n      } else {\n        const summaryTarget = transactionSummaryRouteWithQuery({\n          orgSlug: organization.slug,\n          transaction: transactionName,\n          projectID: decodeScalar(location.query.project),\n          query: location.query,\n        });\n\n        crumbs.push({\n          to: summaryTarget,\n          label: t('Transaction Summary'),\n          preserveGlobalSelection: true,\n        });\n      }\n    }\n\n    if (transactionName && eventSlug) {\n      crumbs.push({\n        to: '',\n        label: t('Event Details'),\n      });\n    } else if (transactionComparison) {\n      crumbs.push({\n        to: '',\n        label: t('Compare to Baseline'),\n      });\n    } else if (traceSlug) {\n      crumbs.push({\n        to: '',\n        label: t('Trace View'),\n      });\n    }\n\n    return crumbs;\n  }\n\n  render() {\n    return <Breadcrumbs crumbs={this.getCrumbs()} />;\n  }\n}\n\nexport default Breadcrumb;\n","import styled from '@emotion/styled';\n\nimport {SectionHeading} from 'app/components/charts/styles';\nimport DateTime from 'app/components/dateTime';\nimport FileSize from 'app/components/fileSize';\nimport ProjectBadge from 'app/components/idBadge/projectBadge';\nimport ExternalLink from 'app/components/links/externalLink';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {OrganizationSummary} from 'app/types';\nimport {Event} from 'app/types/event';\nimport getDynamicText from 'app/utils/getDynamicText';\nimport Projects from 'app/utils/projects';\n\ntype Props = {\n  event: Event;\n  organization: OrganizationSummary;\n  projectId: string;\n};\n\n/**\n * Render metadata about the event and provide a link to the JSON blob.\n * Used in the sidebar of performance event details and discover2 event details.\n */\nfunction EventMetadata({event, organization, projectId}: Props) {\n  const eventJsonUrl = `/api/0/projects/${organization.slug}/${projectId}/events/${event.eventID}/json/`;\n\n  return (\n    <MetaDataID>\n      <SectionHeading>{t('Event ID')}</SectionHeading>\n      <MetadataContainer data-test-id=\"event-id\">{event.eventID}</MetadataContainer>\n      <MetadataContainer>\n        <DateTime\n          date={getDynamicText({\n            value: event.dateCreated || (event.endTimestamp || 0) * 1000,\n            fixed: 'Dummy timestamp',\n          })}\n        />\n      </MetadataContainer>\n      <Projects orgId={organization.slug} slugs={[projectId]}>\n        {({projects}) => {\n          const project = projects.find(p => p.slug === projectId);\n          return (\n            <StyledProjectBadge\n              project={project ? project : {slug: projectId}}\n              avatarSize={16}\n            />\n          );\n        }}\n      </Projects>\n      <MetadataJSON href={eventJsonUrl} className=\"json-link\">\n        {t('Preview JSON')} (<FileSize bytes={event.size} />)\n      </MetadataJSON>\n    </MetaDataID>\n  );\n}\n\nconst MetaDataID = styled('div')`\n  margin-bottom: ${space(4)};\n`;\n\nconst MetadataContainer = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nconst MetadataJSON = styled(ExternalLink)`\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nconst StyledProjectBadge = styled(ProjectBadge)`\n  margin-bottom: ${space(2)};\n`;\n\nexport default EventMetadata;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {SectionHeading} from 'app/components/charts/styles';\nimport {TraceContextType} from 'app/components/events/interfaces/spans/types';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {Event, EventTransaction} from 'app/types/event';\n\ntype Props = {\n  event: Event;\n};\n\nclass RootSpanStatus extends Component<Props> {\n  getTransactionEvent(): EventTransaction | undefined {\n    const {event} = this.props;\n\n    if (event.type === 'transaction') {\n      return event as EventTransaction;\n    }\n\n    return undefined;\n  }\n\n  getRootSpanStatus(): string {\n    const event = this.getTransactionEvent();\n\n    const DEFAULT = '\\u2014';\n\n    if (!event) {\n      return DEFAULT;\n    }\n\n    const traceContext: TraceContextType | undefined = event?.contexts?.trace;\n\n    return traceContext?.status ?? DEFAULT;\n  }\n\n  getHttpStatusCode(): string {\n    const {event} = this.props;\n\n    const {tags} = event;\n\n    if (!Array.isArray(tags)) {\n      return '';\n    }\n\n    const tag = tags.find(tagObject => tagObject.key === 'http.status_code');\n\n    if (!tag) {\n      return '';\n    }\n\n    return tag.value;\n  }\n\n  render() {\n    const event = this.getTransactionEvent();\n\n    if (!event) {\n      return null;\n    }\n\n    const label = `${this.getHttpStatusCode()} ${this.getRootSpanStatus()}`.trim();\n\n    return (\n      <Container>\n        <Header>\n          <SectionHeading>{t('Status')}</SectionHeading>\n        </Header>\n        <div>{label}</div>\n      </Container>\n    );\n  }\n}\n\nconst Container = styled('div')`\n  color: ${p => p.theme.subText};\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin-bottom: ${space(4)};\n`;\n\nconst Header = styled('div')`\n  display: flex;\n  align-items: center;\n`;\n\nexport default RootSpanStatus;\n","import {Fragment} from 'react';\nimport {Params} from 'react-router/lib/Router';\nimport {Location} from 'history';\n\nimport AsyncComponent from 'app/components/asyncComponent';\nimport Button from 'app/components/button';\nimport ButtonBar from 'app/components/buttonBar';\nimport NotFound from 'app/components/errors/notFound';\nimport {BorderlessEventEntries} from 'app/components/events/eventEntries';\nimport EventMetadata from 'app/components/events/eventMetadata';\nimport EventVitals from 'app/components/events/eventVitals';\nimport * as SpanEntryContext from 'app/components/events/interfaces/spans/context';\nimport RootSpanStatus from 'app/components/events/rootSpanStatus';\nimport FileSize from 'app/components/fileSize';\nimport * as Layout from 'app/components/layouts/thirds';\nimport LoadingError from 'app/components/loadingError';\nimport SentryDocumentTitle from 'app/components/sentryDocumentTitle';\nimport TagsTable from 'app/components/tagsTable';\nimport {IconOpen} from 'app/icons';\nimport {t} from 'app/locale';\nimport {Organization, Project} from 'app/types';\nimport {Event, EventTag} from 'app/types/event';\nimport {trackAnalyticsEvent} from 'app/utils/analytics';\nimport * as QuickTraceContext from 'app/utils/performance/quickTrace/quickTraceContext';\nimport QuickTraceQuery from 'app/utils/performance/quickTrace/quickTraceQuery';\nimport TraceMetaQuery from 'app/utils/performance/quickTrace/traceMetaQuery';\nimport {getTraceTimeRangeFromEvent} from 'app/utils/performance/quickTrace/utils';\nimport Projects from 'app/utils/projects';\nimport {appendTagCondition, decodeScalar} from 'app/utils/queryString';\nimport Breadcrumb from 'app/views/performance/breadcrumb';\n\nimport {transactionSummaryRouteWithQuery} from '../transactionSummary/utils';\nimport {getTransactionDetailsUrl} from '../utils';\n\nimport EventMetas from './eventMetas';\n\ntype Props = {\n  organization: Organization;\n  location: Location;\n  params: Params;\n  eventSlug: string;\n};\n\ntype State = {\n  event: Event | undefined;\n  isSidebarVisible: boolean;\n} & AsyncComponent['state'];\n\nclass EventDetailsContent extends AsyncComponent<Props, State> {\n  state: State = {\n    // AsyncComponent state\n    loading: true,\n    reloading: false,\n    error: false,\n    errors: {},\n    event: undefined,\n\n    // local state\n    isSidebarVisible: true,\n  };\n\n  toggleSidebar = () => {\n    this.setState({isSidebarVisible: !this.state.isSidebarVisible});\n  };\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {organization, params} = this.props;\n    const {eventSlug} = params;\n\n    const url = `/organizations/${organization.slug}/events/${eventSlug}/`;\n\n    return [['event', url]];\n  }\n\n  get projectId() {\n    return this.props.eventSlug.split(':')[0];\n  }\n\n  generateTagUrl = (tag: EventTag) => {\n    const {location, organization} = this.props;\n    const {event} = this.state;\n    if (!event) {\n      return '';\n    }\n    const query = decodeScalar(location.query.query, '');\n    const newQuery = {\n      ...location.query,\n      query: appendTagCondition(query, tag.key, tag.value),\n    };\n    return transactionSummaryRouteWithQuery({\n      orgSlug: organization.slug,\n      transaction: event.title,\n      projectID: decodeScalar(location.query.project),\n      query: newQuery,\n    });\n  };\n\n  renderBody() {\n    const {event} = this.state;\n\n    if (!event) {\n      return <NotFound />;\n    }\n\n    return this.renderContent(event);\n  }\n\n  renderContent(event: Event) {\n    const {organization, location, eventSlug} = this.props;\n\n    // metrics\n    trackAnalyticsEvent({\n      eventKey: 'performance.event_details',\n      eventName: 'Performance: Opened Event Details',\n      event_type: event.type,\n      organization_id: parseInt(organization.id, 10),\n    });\n\n    const {isSidebarVisible} = this.state;\n    const transactionName = event.title;\n    const query = decodeScalar(location.query.query, '');\n\n    const eventJsonUrl = `/api/0/projects/${organization.slug}/${this.projectId}/events/${event.eventID}/json/`;\n    const traceId = event.contexts?.trace?.trace_id ?? '';\n    const {start, end} = getTraceTimeRangeFromEvent(event);\n\n    return (\n      <TraceMetaQuery\n        location={location}\n        orgSlug={organization.slug}\n        traceId={traceId}\n        start={start}\n        end={end}\n      >\n        {metaResults => (\n          <QuickTraceQuery event={event} location={location} orgSlug={organization.slug}>\n            {results => (\n              <Fragment>\n                <Layout.Header>\n                  <Layout.HeaderContent>\n                    <Breadcrumb\n                      organization={organization}\n                      location={location}\n                      transactionName={transactionName}\n                      eventSlug={eventSlug}\n                    />\n                    <Layout.Title data-test-id=\"event-header\">{event.title}</Layout.Title>\n                  </Layout.HeaderContent>\n                  <Layout.HeaderActions>\n                    <ButtonBar gap={1}>\n                      <Button onClick={this.toggleSidebar}>\n                        {isSidebarVisible ? 'Hide Details' : 'Show Details'}\n                      </Button>\n                      {results && (\n                        <Button icon={<IconOpen />} href={eventJsonUrl} external>\n                          {t('JSON')} (<FileSize bytes={event.size} />)\n                        </Button>\n                      )}\n                    </ButtonBar>\n                  </Layout.HeaderActions>\n                </Layout.Header>\n                <Layout.Body>\n                  {results && (\n                    <Layout.Main fullWidth>\n                      <EventMetas\n                        quickTrace={results}\n                        meta={metaResults?.meta ?? null}\n                        event={event}\n                        organization={organization}\n                        projectId={this.projectId}\n                        location={location}\n                        errorDest=\"issue\"\n                        transactionDest=\"performance\"\n                      />\n                    </Layout.Main>\n                  )}\n                  <Layout.Main fullWidth={!isSidebarVisible}>\n                    <Projects orgId={organization.slug} slugs={[this.projectId]}>\n                      {({projects}) => (\n                        <SpanEntryContext.Provider\n                          value={{\n                            getViewChildTransactionTarget: childTransactionProps => {\n                              return getTransactionDetailsUrl(\n                                organization,\n                                childTransactionProps.eventSlug,\n                                childTransactionProps.transaction,\n                                location.query\n                              );\n                            },\n                          }}\n                        >\n                          <QuickTraceContext.Provider value={results}>\n                            <BorderlessEventEntries\n                              organization={organization}\n                              event={event}\n                              project={projects[0] as Project}\n                              showExampleCommit={false}\n                              showTagSummary={false}\n                              location={location}\n                              api={this.api}\n                              isBorderless\n                            />\n                          </QuickTraceContext.Provider>\n                        </SpanEntryContext.Provider>\n                      )}\n                    </Projects>\n                  </Layout.Main>\n                  {isSidebarVisible && (\n                    <Layout.Side>\n                      {results === undefined && (\n                        <Fragment>\n                          <EventMetadata\n                            event={event}\n                            organization={organization}\n                            projectId={this.projectId}\n                          />\n                          <RootSpanStatus event={event} />\n                        </Fragment>\n                      )}\n                      <EventVitals event={event} />\n                      <TagsTable\n                        event={event}\n                        query={query}\n                        generateUrl={this.generateTagUrl}\n                      />\n                    </Layout.Side>\n                  )}\n                </Layout.Body>\n              </Fragment>\n            )}\n          </QuickTraceQuery>\n        )}\n      </TraceMetaQuery>\n    );\n  }\n\n  renderError(error: Error) {\n    const notFound = Object.values(this.state.errors).find(\n      resp => resp && resp.status === 404\n    );\n    const permissionDenied = Object.values(this.state.errors).find(\n      resp => resp && resp.status === 403\n    );\n\n    if (notFound) {\n      return <NotFound />;\n    }\n    if (permissionDenied) {\n      return (\n        <LoadingError message={t('You do not have permission to view that event.')} />\n      );\n    }\n\n    return super.renderError(error, true, true);\n  }\n\n  renderComponent() {\n    const {organization} = this.props;\n\n    return (\n      <SentryDocumentTitle\n        title={t('Performance - Event Details')}\n        orgSlug={organization.slug}\n      >\n        {super.renderComponent()}\n      </SentryDocumentTitle>\n    );\n  }\n}\n\nexport default EventDetailsContent;\n","import {Component} from 'react';\nimport {Params} from 'react-router/lib/Router';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\n\nimport LightWeightNoProjectMessage from 'app/components/lightWeightNoProjectMessage';\nimport SentryDocumentTitle from 'app/components/sentryDocumentTitle';\nimport {t} from 'app/locale';\nimport {PageContent} from 'app/styles/organization';\nimport {Organization} from 'app/types';\nimport withOrganization from 'app/utils/withOrganization';\n\nimport EventDetailsContent from './content';\n\ntype Props = {\n  organization: Organization;\n  location: Location;\n  params: Params;\n};\n\nclass EventDetails extends Component<Props> {\n  getEventSlug = (): string => {\n    const {eventSlug} = this.props.params;\n    return typeof eventSlug === 'string' ? eventSlug.trim() : '';\n  };\n\n  render() {\n    const {organization, location, params} = this.props;\n    const documentTitle = t('Performance Details');\n    const eventSlug = this.getEventSlug();\n    const projectSlug = eventSlug.split(':')[0];\n\n    return (\n      <SentryDocumentTitle\n        title={documentTitle}\n        orgSlug={organization.slug}\n        projectSlug={projectSlug}\n      >\n        <StyledPageContent>\n          <LightWeightNoProjectMessage organization={organization}>\n            <EventDetailsContent\n              organization={organization}\n              location={location}\n              params={params}\n              eventSlug={eventSlug}\n            />\n          </LightWeightNoProjectMessage>\n        </StyledPageContent>\n      </SentryDocumentTitle>\n    );\n  }\n}\n\nexport default withOrganization(EventDetails);\n\nconst StyledPageContent = styled(PageContent)`\n  padding: 0;\n`;\n","import {ECharts} from 'echarts';\nimport {Query} from 'history';\n\nimport {HistogramData} from 'app/utils/performance/histogram/types';\nimport {getBucketWidth} from 'app/utils/performance/histogram/utils';\n\nimport {Point, Rectangle} from './types';\n\nexport function generateVitalsRoute({orgSlug}: {orgSlug: String}): string {\n  return `/organizations/${orgSlug}/performance/summary/vitals/`;\n}\n\nexport function vitalsRouteWithQuery({\n  orgSlug,\n  transaction,\n  projectID,\n  query,\n}: {\n  orgSlug: string;\n  transaction: string;\n  query: Query;\n  projectID?: string | string[];\n}) {\n  const pathname = generateVitalsRoute({\n    orgSlug,\n  });\n\n  return {\n    pathname,\n    query: {\n      transaction,\n      project: projectID,\n      environment: query.environment,\n      statsPeriod: query.statsPeriod,\n      start: query.start,\n      end: query.end,\n      query: query.query,\n    },\n  };\n}\n\n/**\n * Given a value on the x-axis, return the index of the nearest bucket or null\n * if it cannot be found.\n *\n * A bucket contains a range of values, and nearest is defined as the bucket the\n * value will fall in.\n */\nexport function findNearestBucketIndex(\n  chartData: HistogramData,\n  xAxis: number\n): number | null {\n  const width = getBucketWidth(chartData);\n  // it's possible that the data is not available yet or the x axis is out of range\n  if (!chartData.length || xAxis >= chartData[chartData.length - 1].bin + width) {\n    return null;\n  } else if (xAxis < chartData[0].bin) {\n    return -1;\n  }\n\n  return Math.floor((xAxis - chartData[0].bin) / width);\n}\n\n/**\n * To compute pixel coordinates, we need at least 2 unique points on the chart.\n * The two points must have different x axis and y axis values for it to work.\n *\n * If all bars have the same y value, pick the most naive reference rect. This\n * may result in floating point errors, but should be okay for our purposes.\n */\nexport function getRefRect(chartData: HistogramData): Rectangle | null {\n  // not enough points to construct 2 reference points\n  if (chartData.length < 2) {\n    return null;\n  }\n\n  for (let i = 0; i < chartData.length; i++) {\n    const data1 = chartData[i];\n    for (let j = i + 1; j < chartData.length; j++) {\n      const data2 = chartData[j];\n\n      if (data1.bin !== data2.bin && data1.count !== data2.count) {\n        return {\n          point1: {x: i, y: Math.min(data1.count, data2.count)},\n          point2: {x: j, y: Math.max(data1.count, data2.count)},\n        };\n      }\n    }\n  }\n\n  // all data points have the same count, just pick any 2 histogram bins\n  // and use 0 and 1 as the count as we can rely on them being on the graph\n  return {\n    point1: {x: 0, y: 0},\n    point2: {x: 1, y: 1},\n  };\n}\n\n/**\n * Given an ECharts instance and a rectangle defined in terms of the x and y axis,\n * compute the corresponding pixel coordinates. If it cannot be done, return null.\n */\nexport function asPixelRect(chartRef: ECharts, dataRect: Rectangle): Rectangle | null {\n  const point1 = chartRef.convertToPixel({xAxisIndex: 0, yAxisIndex: 0}, [\n    dataRect.point1.x,\n    dataRect.point1.y,\n  ]);\n\n  if (isNaN(point1?.[0]) || isNaN(point1?.[1])) {\n    return null;\n  }\n\n  const point2 = chartRef.convertToPixel({xAxisIndex: 0, yAxisIndex: 0}, [\n    dataRect.point2.x,\n    dataRect.point2.y,\n  ]);\n\n  if (isNaN(point2?.[0]) || isNaN(point2?.[1])) {\n    return null;\n  }\n\n  return {\n    point1: {x: point1[0], y: point1[1]},\n    point2: {x: point2[0], y: point2[1]},\n  };\n}\n\n/**\n * Given a point on a source rectangle, map it to the corresponding point on the\n * destination rectangle. Assumes that the two rectangles are related by a simple\n * transformation containing only translations and scaling.\n */\nexport function mapPoint(\n  point: Point,\n  srcRect: Rectangle,\n  destRect: Rectangle\n): Point | null {\n  if (\n    srcRect.point1.x === srcRect.point2.x ||\n    srcRect.point1.y === srcRect.point2.y ||\n    destRect.point1.x === destRect.point2.x ||\n    destRect.point1.y === destRect.point2.y\n  ) {\n    return null;\n  }\n\n  const xPercentage =\n    (point.x - srcRect.point1.x) / (srcRect.point2.x - srcRect.point1.x);\n  const yPercentage =\n    (point.y - srcRect.point1.y) / (srcRect.point2.y - srcRect.point1.y);\n\n  return {\n    x: destRect.point1.x + (destRect.point2.x - destRect.point1.x) * xPercentage,\n    y: destRect.point1.y + (destRect.point2.y - destRect.point1.y) * yPercentage,\n  };\n}\n","import * as React from 'react';\nimport {Location, Query} from 'history';\n\nimport {IconCheckmark, IconFire, IconWarning} from 'app/icons';\nimport {Series} from 'app/types/echarts';\nimport {getAggregateAlias, WebVital} from 'app/utils/discover/fields';\nimport {decodeScalar} from 'app/utils/queryString';\nimport {Color} from 'app/utils/theme';\n\nexport function generateVitalDetailRoute({orgSlug}: {orgSlug: string}): string {\n  return `/organizations/${orgSlug}/performance/vitaldetail/`;\n}\n\nexport const webVitalPoor = {\n  [WebVital.FP]: 3000,\n  [WebVital.FCP]: 3000,\n  [WebVital.LCP]: 4000,\n  [WebVital.FID]: 300,\n  [WebVital.CLS]: 0.25,\n};\n\nexport const webVitalMeh = {\n  [WebVital.FP]: 1000,\n  [WebVital.FCP]: 1000,\n  [WebVital.LCP]: 2500,\n  [WebVital.FID]: 100,\n  [WebVital.CLS]: 0.1,\n};\n\nexport enum VitalState {\n  POOR = 'Poor',\n  MEH = 'Meh',\n  GOOD = 'Good',\n}\n\nexport const vitalStateColors: Record<VitalState, Color> = {\n  [VitalState.POOR]: 'red300',\n  [VitalState.MEH]: 'yellow300',\n  [VitalState.GOOD]: 'green300',\n};\n\nexport const vitalStateIcons: Record<VitalState, React.ReactNode> = {\n  [VitalState.POOR]: <IconFire color={vitalStateColors[VitalState.POOR]} />,\n  [VitalState.MEH]: <IconWarning color={vitalStateColors[VitalState.MEH]} />,\n  [VitalState.GOOD]: (\n    <IconCheckmark color={vitalStateColors[VitalState.GOOD]} isCircled />\n  ),\n};\n\nexport function vitalDetailRouteWithQuery({\n  orgSlug,\n  vitalName,\n  projectID,\n  query,\n}: {\n  orgSlug: string;\n  vitalName: string;\n  query: Query;\n  projectID?: string | string[];\n}) {\n  const pathname = generateVitalDetailRoute({\n    orgSlug,\n  });\n\n  return {\n    pathname,\n    query: {\n      vitalName,\n      project: projectID,\n      environment: query.environment,\n      statsPeriod: query.statsPeriod,\n      start: query.start,\n      end: query.end,\n      query: query.query,\n    },\n  };\n}\n\nexport function vitalNameFromLocation(location: Location): WebVital {\n  const _vitalName = decodeScalar(location.query.vitalName);\n\n  const vitalName = Object.values(WebVital).find(v => v === _vitalName);\n\n  if (vitalName) {\n    return vitalName;\n  } else {\n    return WebVital.LCP;\n  }\n}\n\nexport function getVitalDetailTablePoorStatusFunction(vitalName: WebVital): string {\n  const vitalThreshold = webVitalPoor[vitalName];\n  const statusFunction = `compare_numeric_aggregate(${getAggregateAlias(\n    `p75(${vitalName})`\n  )},greater,${vitalThreshold})`;\n  return statusFunction;\n}\n\nexport function getVitalDetailTableMehStatusFunction(vitalName: WebVital): string {\n  const vitalThreshold = webVitalMeh[vitalName];\n  const statusFunction = `compare_numeric_aggregate(${getAggregateAlias(\n    `p75(${vitalName})`\n  )},greater,${vitalThreshold})`;\n  return statusFunction;\n}\n\nexport const vitalMap: Partial<Record<WebVital, string>> = {\n  [WebVital.FCP]: 'First Contentful Paint',\n  [WebVital.CLS]: 'Cumulative Layout Shift',\n  [WebVital.FID]: 'First Input Delay',\n  [WebVital.LCP]: 'Largest Contentful Paint',\n};\n\nexport const vitalChartTitleMap = vitalMap;\n\nexport const vitalDescription: Partial<Record<WebVital, string>> = {\n  [WebVital.FCP]:\n    'First Contentful Paint (FCP) measures the amount of time the first content takes to render in the viewport. Like FP, this could also show up in any form from the document object model (DOM), such as images, SVGs, or text blocks.',\n  [WebVital.CLS]:\n    'Cumulative Layout Shift (CLS) is the sum of individual layout shift scores for every unexpected element shift during the rendering process. Imagine navigating to an article and trying to click a link before the page finishes loading. Before your cursor even gets there, the link may have shifted down due to an image rendering. Rather than using duration for this Web Vital, the CLS score represents the degree of disruptive and visually unstable shifts.',\n  [WebVital.FID]:\n    'First Input Delay measures the response time when the user tries to interact with the viewport. Actions maybe include clicking a button, link or other custom Javascript controller. It is key in helping the user determine if a page is usable or not.',\n  [WebVital.LCP]:\n    'Largest Contentful Paint (LCP) measures the render time for the largest content to appear in the viewport. This may be in any form from the document object model (DOM), such as images, SVGs, or text blocks. It’s the largest pixel area in the viewport, thus most visually defining. LCP helps developers understand how long it takes to see the main content on the page.',\n};\n\nexport const vitalAbbreviations: Partial<Record<WebVital, string>> = {\n  [WebVital.FCP]: 'FCP',\n  [WebVital.CLS]: 'CLS',\n  [WebVital.FID]: 'FID',\n  [WebVital.LCP]: 'LCP',\n};\n\nexport function getMaxOfSeries(series: Series[]) {\n  let max = -Infinity;\n  for (const {data} of series) {\n    for (const point of data) {\n      max = Math.max(max, point.value);\n    }\n  }\n  return max;\n}\n"],"sourceRoot":""}