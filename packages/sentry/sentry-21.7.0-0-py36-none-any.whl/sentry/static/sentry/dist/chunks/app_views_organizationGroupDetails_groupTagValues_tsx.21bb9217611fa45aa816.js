(self.webpackChunk=self.webpackChunk||[]).push([["app_views_organizationGroupDetails_groupTagValues_tsx"],{"./app/components/dataExport.tsx":function(e,t,s){"use strict";s.d(t,{tD:function(){return o}}),s("../node_modules/core-js/modules/es.reflect.construct.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var o,r=s("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),n=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/react/index.js")),m=s("../node_modules/lodash/debounce.js"),f=s.n(m),h=s("../node_modules/lodash/isEqual.js"),y=s.n(h),j=s("./app/actionCreators/indicator.tsx"),b=s("./app/components/acl/feature.tsx"),g=s("./app/components/button.tsx"),v=s("./app/locale.tsx"),Z=s("./app/utils/withApi.tsx"),_=s("./app/utils/withOrganization.tsx"),x=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function O(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){(0,d.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}!function(e){e.IssuesByTag="Issues-by-Tag",e.Discover="Discover"}(o||(o={}));var P=function(e){(0,l.Z)(p,e);var t,s,o=(t=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,c.Z)(t);if(s){var r=(0,c.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,u.Z)(this,e)});function p(){var e;(0,n.Z)(this,p);for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return e=o.call.apply(o,[this].concat(s)),(0,d.Z)((0,a.Z)(e),"state",e.initialState),(0,d.Z)((0,a.Z)(e),"resetState",(function(){e.setState(e.initialState)})),(0,d.Z)((0,a.Z)(e),"startDataExport",(function(){var t=e.props,s=t.api,o=t.organization.slug,n=t.payload,i=n.queryType,a=n.queryInfo;e.setState({inProgress:!0}),s.requestPromise("/organizations/".concat(o,"/data-export/"),{includeAllArgs:!0,method:"POST",data:{query_type:i,query_info:a}}).then((function(e){var t=(0,r.Z)(e,3),s=(t[0],t[1],t[2]);(0,j.S9)(201===(null==s?void 0:s.status)?(0,v.t)("Sit tight. We'll shoot you an email when your data is ready for download."):(0,v.t)("It looks like we're already working on it. Sit tight, we'll email you."))})).catch((function(t){var s,o,r=null!==(s=null==t||null===(o=t.responseJSON)||void 0===o?void 0:o.detail)&&void 0!==s?s:"We tried our hardest, but we couldn't export your data. Give it another go.";(0,j.Iw)((0,v.t)(r)),e.setState({inProgress:!1})}))})),e}return(0,i.Z)(p,[{key:"componentDidUpdate",value:function(e){var t=e.payload,s=this.props.payload;y()(t,s)||this.resetState()}},{key:"initialState",get:function(){return{inProgress:!1}}},{key:"render",value:function(){var e=this.state.inProgress,t=this.props,s=t.children,o=t.disabled,r=t.icon;return(0,x.tZ)(b.Z,{features:["organizations:discover-query"],children:e?(0,x.tZ)(g.ZP,O(O({size:"small",priority:"default",title:"You can get on with your life. We'll email you when your data's ready."},this.props),{},{disabled:!0,icon:r,children:(0,v.t)("We're working on it...")})):(0,x.tZ)(g.ZP,O(O({onClick:f()(this.startDataExport,500),disabled:o||!1,size:"small",priority:"default",title:"Put your data to work. Start your export and we'll email you when it's finished.",icon:r},this.props),{},{children:s||(0,v.t)("Export All to CSV")}))})}}]),p}(p.Component);P.displayName="DataExport",t.ZP=(0,Z.Z)((0,_.Z)(P))},"./app/components/deviceName.tsx":function(e,t,s){"use strict";s.d(t,{qW:function(){return h},f:function(){return y},ZP:function(){return b}}),s("../node_modules/core-js/modules/es.reflect.construct.js");var o=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),n=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=s("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),d=s("../node_modules/@babel/runtime/regenerator/index.js"),p=s.n(d),m=(s("../node_modules/core-js/modules/es.regexp.exec.js"),s("../node_modules/core-js/modules/es.string.split.js"),s("../node_modules/core-js/modules/es.array.join.js"),s("../node_modules/core-js/modules/es.array.splice.js"),s("../node_modules/core-js/modules/es.array.iterator.js"),s("../node_modules/core-js/modules/es.object.to-string.js"),s("../node_modules/core-js/modules/es.promise.js"),s("../node_modules/core-js/modules/es.string.iterator.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),f=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e,t){var s=e.split(" ")[0],o=e.split(" ").splice(1).join(" "),r=t.generationByIdentifier(s);return void 0===r?e:r+" "+o}function y(){return j.apply(this,arguments)}function j(){return(j=(0,c.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.e("vendors-node_modules_ios-device-list_dist_ios-device-list_min_js").then(s.t.bind(s,"../node_modules/ios-device-list/dist/ios-device-list.min.js",23)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(e){(0,i.Z)(d,e);var t,s,c=(t=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,l.Z)(t);if(s){var r=(0,l.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,a.Z)(this,e)});function d(e){var t;return(0,o.Z)(this,d),t=c.call(this,e),(0,u.Z)((0,n.Z)(t),"_isMounted",void 0),t.state={iOSDeviceList:null},t}return(0,r.Z)(d,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,y().then((function(t){e._isMounted&&e.setState({iOSDeviceList:t})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.value,s=e.children,o=this.state.iOSDeviceList;if(!t)return null;if(!o)return t;var r=h(t,o);return(0,f.tZ)("span",{"data-test-id":"loaded-device-name",children:s?s(r):r})}}]),d}(m.Component);b.displayName="DeviceName"},"./app/views/organizationGroupDetails/groupTagValues.tsx":function(e,t,s){"use strict";s.r(t),s.d(t,{GroupTagValues:function(){return q}}),s("../node_modules/core-js/modules/es.reflect.construct.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.map.js"),s("../node_modules/core-js/modules/es.number.to-fixed.js"),s("../node_modules/core-js/modules/es.function.name.js"),s("../node_modules/react/index.js")),d=s("../node_modules/lodash/property.js"),p=s.n(d),m=s("../node_modules/lodash/sortBy.js"),f=s.n(m),h=s("./app/components/asyncComponent.tsx"),y=s("./app/components/button.tsx"),j=s("./app/components/buttonBar.tsx"),b=s("./app/components/dataExport.tsx"),g=s("./app/components/deviceName.tsx"),v=s("./app/components/errors/detailedError.tsx"),Z=s("./app/components/globalSelectionLink.tsx"),_=s("./app/components/idBadge/userBadge.tsx"),x=s("./app/components/links/externalLink.tsx"),w=s("./app/components/pagination/index.tsx"),O=s("./app/components/timeSince.tsx"),P=s("./app/icons/index.tsx"),k=s("./app/locale.tsx"),S=s("./app/styles/space.tsx"),B=s("./app/utils.tsx"),D=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function C(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function R(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?C(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var q=function(e){(0,i.Z)(u,e);var t,s,o=(t=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,l.Z)(t);if(s){var r=(0,l.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,a.Z)(this,e)});function u(){return(0,r.Z)(this,u),o.apply(this,arguments)}return(0,n.Z)(u,[{key:"getEndpoints",value:function(){var e=this.props.environments,t=this.props.params,s=t.groupId,o=t.tagKey;return[["tag","/issues/".concat(s,"/tags/").concat(o,"/")],["tagValueList","/issues/".concat(s,"/tags/").concat(o,"/values/"),{query:{environment:e}}]]}},{key:"renderBody",value:function(){var e=this.props,t=e.group,s=e.params,o=s.orgId,r=s.tagKey,n=e.environments,i=this.state,a=i.tag,l=i.tagValueList,u=i.tagValueListPageLinks,d=f()(l,p()("count")).reverse();if(0===d.length&&n.length>0)return(0,D.tZ)(v.Z,{heading:(0,k.t)("Sorry, the tags for this issue could not be found."),message:(0,k.t)("No tags were found for the currently selected environments")});var m="/organizations/".concat(o,"/issues/"),h=d.map((function(e,t){var s,o=a.totalValues?"".concat((0,B.aQ)(e.count,a.totalValues).toFixed(2),"%"):"--",r=e.query||"".concat(a.key,':"').concat(e.value,'"');return(0,D.BX)("tr",{children:[(0,D.tZ)("td",{className:"bar-cell",children:(0,D.tZ)("span",{className:"label",children:o})}),(0,D.tZ)("td",{children:(0,D.BX)(V,{children:[(0,D.tZ)(Z.Z,{to:{pathname:m,query:{query:r}},children:"user"===a.key?(0,D.tZ)(_.Z,{user:R(R({},e),{},{id:null!==(s=e.identifier)&&void 0!==s?s:""}),avatarSize:20,hideEmail:!0}):(0,D.tZ)(g.ZP,{value:e.name})}),e.email&&(0,D.tZ)(A,{href:"mailto:".concat(e.email),children:(0,D.tZ)(P.h,{size:"xs",color:"gray300"})}),(0,B.CB)(e.value)&&(0,D.tZ)(A,{href:e.value,children:(0,D.tZ)(P.V$,{size:"xs",color:"gray300"})})]})}),(0,D.tZ)("td",{children:(0,D.tZ)(O.Z,{date:e.lastSeen})})]},t)}));return(0,D.BX)(c.Fragment,{children:[(0,D.BX)(E,{children:[(0,D.tZ)(T,{children:"user"===a.key?(0,k.t)("Affected Users"):a.name}),(0,D.BX)(I,{gap:1,children:[(0,D.tZ)(L,{size:"small",priority:"default",href:"/".concat(o,"/").concat(t.project.slug,"/issues/").concat(t.id,"/tags/").concat(r,"/export/"),children:(0,k.t)("Export Page to CSV")}),(0,D.tZ)(b.ZP,{payload:{queryType:b.tD.IssuesByTag,queryInfo:{project:t.project.id,group:t.id,key:r}}})]})]}),(0,D.BX)(z,{className:"table",children:[(0,D.tZ)("thead",{children:(0,D.BX)("tr",{children:[(0,D.tZ)(N,{width:20,children:"%"}),(0,D.tZ)("th",{}),(0,D.tZ)(N,{width:300,children:(0,k.t)("Last Seen")})]})}),(0,D.tZ)("tbody",{children:h})]}),(0,D.tZ)(w.Z,{pageLinks:u}),(0,D.tZ)("p",{children:(0,D.tZ)("small",{children:(0,k.t)("Note: Percentage of issue is based on events seen in the last 7 days.")})})]})}}]),u}(h.Z),z=(0,u.Z)("table",{target:"e8ib5667"})(">tbody>tr:nth-of-type(odd){background-color:",(function(e){return e.theme.bodyBackground}),";}"),E=(0,u.Z)("div",{target:"e8ib5666"})({name:"1g6edyq",styles:"display:flex;align-items:center;margin:0 0 20px"}),T=(0,u.Z)("h3",{target:"e8ib5665"})({name:"ti75j2",styles:"margin:0"}),I=(0,u.Z)(j.ZP,{target:"e8ib5664"})("align-items:stretch;margin:0px ",(0,S.Z)(1.5),";"),L=(0,u.Z)(y.ZP,{target:"e8ib5663"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),N=(0,u.Z)("th",{target:"e8ib5662"})("width:",(function(e){return e.width}),"px;"),V=(0,u.Z)("div",{target:"e8ib5661"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),A=(0,u.Z)(x.Z,{target:"e8ib5660"})("margin-left:",(0,S.Z)(.5),";");t.default=q}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationGroupDetails_groupTagValues_tsx.a91c6d7c2a2b1f11b321cca1992e9190.js.map