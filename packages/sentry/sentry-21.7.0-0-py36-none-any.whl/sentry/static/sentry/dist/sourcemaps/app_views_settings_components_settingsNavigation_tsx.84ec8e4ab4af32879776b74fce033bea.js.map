{"version":3,"sources":["webpack:///./app/views/settings/components/settingsNavItem.tsx","webpack:///./app/views/settings/components/settingsNavigationGroup.tsx","webpack:///./app/views/settings/components/settingsNavigation.tsx"],"names":["SettingsNavItem","renderedBadge","badge","label","index","id","props","LabelHook","HookOrDefault","hookName","defaultComponent","children","type","title","t","position","StyledBadge","text","StyledNavItem","onlyActiveOnIndex","activeClassName","Link","p","theme","gray300","textColor","active","backgroundSecondary","Badge","fontSizeExtraSmall","space","SettingsNavigationGroup","organization","project","name","navLinks","items","map","path","show","recordAnalytics","badgeResult","to","replaceRouterParams","orgId","slug","projectId","onClick","window","location","pathname","trackAnalyticsEvent","organization_id","project_id","eventName","eventKey","sidebar_item_id","dest","some","link","NavSection","SettingsHeading","subText","SettingsNavigation","error","errorInfo","Sentry","scope","Object","keys","forEach","key","setExtra","href","this","navigationObjects","hooks","hookConfigs","stickyTop","otherProps","navWithHooks","concat","PositionStickyWrapper","config","Hook","i","React","breakpoints"],"mappings":"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","file":"chunks/app_views_settings_components_settingsNavigation_tsx.xxxxxxxxxxxxxxxxxxxx.js","sourcesContent":["import * as React from 'react';\nimport {Link} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport Badge from 'app/components/badge';\nimport FeatureBadge from 'app/components/featureBadge';\nimport HookOrDefault from 'app/components/hookOrDefault';\nimport Tooltip from 'app/components/tooltip';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\n\ntype Props = {\n  to: React.ComponentProps<Link>['to'];\n  label: React.ReactNode;\n  badge?: string | number | null;\n  index?: boolean;\n  id?: string;\n  onClick?: (e: React.MouseEvent) => void;\n};\n\nconst SettingsNavItem = ({badge, label, index, id, ...props}: Props) => {\n  const LabelHook = HookOrDefault({\n    hookName: 'sidebar:item-label',\n    defaultComponent: ({children}) => <React.Fragment>{children}</React.Fragment>,\n  });\n\n  let renderedBadge;\n  if (badge === 'new') {\n    renderedBadge = <FeatureBadge type=\"new\" />;\n  } else if (badge === 'beta') {\n    renderedBadge = <FeatureBadge type=\"beta\" />;\n  } else if (badge === 'warning') {\n    renderedBadge = (\n      <Tooltip title={t('This settings needs review')} position=\"right\">\n        <StyledBadge text={badge} type=\"warning\" />\n      </Tooltip>\n    );\n  } else {\n    renderedBadge = <StyledBadge text={badge} />;\n  }\n\n  return (\n    <StyledNavItem onlyActiveOnIndex={index} activeClassName=\"active\" {...props}>\n      <LabelHook id={id}>{label}</LabelHook>\n      {badge ? renderedBadge : null}\n    </StyledNavItem>\n  );\n};\n\nconst StyledNavItem = styled(Link)`\n  display: block;\n  color: ${p => p.theme.gray300};\n  font-size: 14px;\n  line-height: 30px;\n  position: relative;\n\n  &.active {\n    color: ${p => p.theme.textColor};\n\n    &:before {\n      background: ${p => p.theme.active};\n    }\n  }\n\n  &:hover,\n  &:focus,\n  &:active {\n    color: ${p => p.theme.textColor};\n    outline: none;\n  }\n\n  &.focus-visible {\n    outline: none;\n    background: ${p => p.theme.backgroundSecondary};\n    padding-left: 15px;\n    margin-left: -15px;\n    border-radius: 3px;\n\n    &:before {\n      left: -15px;\n    }\n  }\n\n  &:before {\n    position: absolute;\n    content: '';\n    display: block;\n    top: 4px;\n    left: -30px;\n    height: 20px;\n    width: 4px;\n    background: transparent;\n    border-radius: 0 2px 2px 0;\n  }\n`;\n\nconst StyledBadge = styled(Badge)`\n  font-weight: 400;\n  height: auto;\n  line-height: 1;\n  font-size: ${p => p.theme.fontSizeExtraSmall};\n  padding: 3px ${space(0.75)};\n`;\n\nexport default SettingsNavItem;\n","import styled from '@emotion/styled';\n\nimport {trackAnalyticsEvent} from 'app/utils/analytics';\nimport replaceRouterParams from 'app/utils/replaceRouterParams';\nimport SettingsNavItem from 'app/views/settings/components/settingsNavItem';\nimport {NavigationGroupProps} from 'app/views/settings/types';\n\nconst SettingsNavigationGroup = (props: NavigationGroupProps) => {\n  const {organization, project, name, items} = props;\n\n  const navLinks = items.map(({path, title, index, show, badge, id, recordAnalytics}) => {\n    if (typeof show === 'function' && !show(props)) {\n      return null;\n    }\n    if (typeof show !== 'undefined' && !show) {\n      return null;\n    }\n    const badgeResult = typeof badge === 'function' ? badge(props) : null;\n    const to = replaceRouterParams(path, {\n      ...(organization ? {orgId: organization.slug} : {}),\n      ...(project ? {projectId: project.slug} : {}),\n    });\n\n    const handleClick = () => {\n      // only call the analytics event if the URL is changing\n      if (recordAnalytics && to !== window.location.pathname) {\n        trackAnalyticsEvent({\n          organization_id: organization ? organization.id : null,\n          project_id: project && project.id,\n          eventName: 'Sidebar Item Clicked',\n          eventKey: 'sidebar.item_clicked',\n          sidebar_item_id: id,\n          dest: path,\n        });\n      }\n    };\n\n    return (\n      <SettingsNavItem\n        key={title}\n        to={to}\n        label={title}\n        index={index}\n        badge={badgeResult}\n        id={id}\n        onClick={handleClick}\n      />\n    );\n  });\n\n  if (!navLinks.some(link => link !== null)) {\n    return null;\n  }\n\n  return (\n    <NavSection data-test-id={name}>\n      <SettingsHeading>{name}</SettingsHeading>\n      {navLinks}\n    </NavSection>\n  );\n};\n\nconst NavSection = styled('div')`\n  margin-bottom: 20px;\n`;\n\nconst SettingsHeading = styled('div')`\n  color: ${p => p.theme.subText};\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  margin-bottom: 20px;\n`;\n\nexport default SettingsNavigationGroup;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport * as Sentry from '@sentry/react';\n\nimport space from 'app/styles/space';\nimport SettingsNavigationGroup from 'app/views/settings/components/settingsNavigationGroup';\nimport {NavigationProps, NavigationSection} from 'app/views/settings/types';\n\ntype DefaultProps = {\n  /**\n   * Additional navigation configuration driven by hooks\n   */\n  hookConfigs: NavigationSection[];\n  /**\n   * Additional navigation elements driven from hooks\n   */\n  hooks: React.ReactElement[];\n  /**\n   * How far from the top of the page should the navigation be when stickied.\n   */\n  stickyTop: string;\n};\n\ntype Props = DefaultProps &\n  NavigationProps & {\n    /**\n     * The configuration for this navigation panel\n     */\n    navigationObjects: NavigationSection[];\n  };\n\nclass SettingsNavigation extends React.Component<Props> {\n  static defaultProps: DefaultProps = {\n    hooks: [],\n    hookConfigs: [],\n    stickyTop: '69px',\n  };\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    Sentry.withScope(scope => {\n      Object.keys(errorInfo).forEach(key => {\n        scope.setExtra(key, errorInfo[key]);\n      });\n      scope.setExtra('url', window.location.href);\n      Sentry.captureException(error);\n    });\n  }\n\n  render() {\n    const {navigationObjects, hooks, hookConfigs, stickyTop, ...otherProps} = this.props;\n    const navWithHooks = navigationObjects.concat(hookConfigs);\n\n    return (\n      <PositionStickyWrapper stickyTop={stickyTop}>\n        {navWithHooks.map(config => (\n          <SettingsNavigationGroup key={config.name} {...otherProps} {...config} />\n        ))}\n        {hooks.map((Hook, i) => React.cloneElement(Hook, {key: `hook-${i}`}))}\n      </PositionStickyWrapper>\n    );\n  }\n}\n\nconst PositionStickyWrapper = styled('div')<{stickyTop: string}>`\n  padding: ${space(4)};\n  padding-right: ${space(2)};\n\n  @media (min-width: ${p => p.theme.breakpoints[0]}) {\n    position: sticky;\n    top: ${p => p.stickyTop};\n    overflow: scroll;\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n\n    &::-webkit-scrollbar {\n      display: none;\n    }\n  }\n`;\n\nexport default SettingsNavigation;\n"],"sourceRoot":""}