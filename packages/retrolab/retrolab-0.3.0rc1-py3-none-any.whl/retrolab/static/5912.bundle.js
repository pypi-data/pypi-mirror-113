(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[5912],{15912:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>_,addCommands:()=>w});var a,r=t(33865),s=t(53564),o=t(37941),i=t(68625),c=t(80223),l=t(75394),m=t(35140),d=t(20364),h=t(87118),u=t(24318);!function(e){e.createNew="terminal:create-new",e.open="terminal:open",e.refresh="terminal:refresh",e.increaseFont="terminal:increase-font",e.decreaseFont="terminal:decrease-font",e.setTheme="terminal:set-theme"}(a||(a={}));const g={activate:function(e,n,t,r,o,i,c,l,m){const d=t.load("jupyterlab"),{serviceManager:_}=e,y=d.__("Terminal"),p=new s.WidgetTracker({namespace:"terminal"});if(!_.terminals.isAvailable())return console.warn("Disabling terminals plugin because they are not available on the server"),p;i&&i.restore(p,{command:a.createNew,args:e=>({name:e.content.session.name}),name:e=>e.content.session.name});const T={};function b(e){Object.keys(e.composite).forEach((n=>{T[n]=e.composite[n]}))}function C(){p.forEach((e=>function(e){const n=e.content;n&&Object.keys(T).forEach((e=>{n.setOption(e,T[e])}))}(e)))}return n.load(g.id).then((e=>{b(e),C(),e.changed.connect((()=>{b(e),C()}))})).catch(f.showErrorMessage),null==l||l.themeChanged.connect(((e,n)=>{p.forEach((e=>{const n=e.content;"inherit"===n.getOption("theme")&&n.setOption("theme","inherit")}))})),w(e,p,n,t,T),c&&c.fileMenu.closeAndCleaners.add({tracker:p,closeAndCleanupLabel:e=>d.__("Shutdown Terminal"),closeAndCleanup:e=>e.content.session.shutdown()}),r&&([a.createNew,a.refresh,a.increaseFont,a.decreaseFont].forEach((e=>{r.addItem({command:e,category:y,args:{isPalette:!0}})})),r.addItem({command:a.setTheme,category:y,args:{theme:"inherit",displayName:d.__("Inherit"),isPalette:!0}}),r.addItem({command:a.setTheme,category:y,args:{theme:"light",displayName:d.__("Light"),isPalette:!0}}),r.addItem({command:a.setTheme,category:y,args:{theme:"dark",displayName:d.__("Dark"),isPalette:!0}})),o&&o.add({command:a.createNew,category:d.__("Other"),rank:0}),m&&function(e,n,t){const a=t.load("jupyterlab"),r=n.serviceManager.terminals;e.add({name:a.__("Terminals"),running:()=>(0,u.toArray)(r.running()).map((e=>new s(e))),shutdownAll:()=>r.shutdownAll(),refreshRunning:()=>r.refreshRunning(),runningChanged:r.runningChanged,shutdownLabel:a.__("Shut Down"),shutdownAllLabel:a.__("Shut Down All"),shutdownAllConfirmationText:a.__("Are you sure you want to permanently shut down all running terminals?")});class s{constructor(e){this._model=e}open(){n.commands.execute("terminal:open",{name:this._model.name})}icon(){return h.terminalIcon}label(){return`terminals/${this._model.name}`}shutdown(){return r.shutdown(this._model.name)}}}(m,e,t),p},id:"@jupyterlab/terminal-extension:plugin",provides:m.ITerminalTracker,requires:[l.ISettingRegistry,d.ITranslator],optional:[s.ICommandPalette,o.ILauncher,r.ILayoutRestorer,i.IMainMenu,s.IThemeManager,c.IRunningSessionManagers],autoStart:!0},_=g;function w(e,n,t,r,o){const i=r.load("jupyterlab"),{commands:c,serviceManager:l}=e;c.addCommand(a.createNew,{label:e=>e.isPalette?i.__("New Terminal"):i.__("Terminal"),caption:i.__("Start a new terminal session"),icon:e=>e.isPalette?void 0:h.terminalIcon,execute:async t=>{let a;try{a=(await f.ensureWidget()).Terminal}catch(e){return void f.showErrorMessage(e)}const i=t.name,c=new a(await(i?l.terminals.connectTo({model:{name:i}}):l.terminals.startNew()),o,r);c.title.icon=h.terminalIcon,c.title.label="...";const m=new s.MainAreaWidget({content:c});return e.shell.add(m),n.add(m),e.shell.activateById(m.id),m}}),c.addCommand(a.open,{execute:t=>{const r=t.name,s=n.find((e=>e.content.session.name===r||!1));if(!s)return c.execute(a.createNew,{name:r});e.shell.activateById(s.id)}}),c.addCommand(a.refresh,{label:i.__("Refresh Terminal"),caption:i.__("Refresh the current terminal session"),execute:async()=>{const t=n.currentWidget;if(t){e.shell.activateById(t.id);try{await t.content.refresh(),t&&t.content.activate()}catch(e){f.showErrorMessage(e)}}},isEnabled:()=>null!==n.currentWidget}),c.addCommand(a.increaseFont,{label:i.__("Increase Terminal Font Size"),execute:async()=>{const{fontSize:e}=o;if(e&&e<72)try{await t.set(g.id,"fontSize",e+1)}catch(e){f.showErrorMessage(e)}}}),c.addCommand(a.decreaseFont,{label:i.__("Decrease Terminal Font Size"),execute:async()=>{const{fontSize:e}=o;if(e&&e>9)try{await t.set(g.id,"fontSize",e-1)}catch(e){f.showErrorMessage(e)}}});const m={inherit:i.__("Inherit"),light:i.__("Light"),dark:i.__("Dark")};c.addCommand(a.setTheme,{label:e=>{const n=e.theme,t=n in m?m[n]:i.__(n[0].toUpperCase()+n.slice(1));return e.isPalette?i.__("Use Terminal Theme: %1",t):t},caption:i.__("Set the terminal theme"),isToggled:e=>{const{theme:n}=o;return e.theme===n},execute:async e=>{const n=e.theme;try{await t.set(g.id,"theme",n),c.notifyCommandChanged(a.setTheme)}catch(e){console.log(e),f.showErrorMessage(e)}}})}var f;!function(e){e.ensureWidget=function(){return e.widgetReady||(e.widgetReady=Promise.all([t.e(753),t.e(6943),t.e(6735),t.e(4527),t.e(2639)]).then(t.bind(t,40753))),e.widgetReady},e.showErrorMessage=function(e){console.error(`Failed to configure ${g.id}: ${e.message}`)}}(f||(f={}))}}]);