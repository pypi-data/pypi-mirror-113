(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_projectSourceMaps_detail_index_tsx"],{"./app/components/acl/role.tsx":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.reflect.construct.js");var s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),i=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=(r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/react/index.js")),l=r("./app/stores/configStore.tsx"),u=r("./app/utils/isActiveSuperuser.tsx"),d=r("./app/utils/isRenderFunc.tsx"),p=r("./app/utils/withOrganization.tsx");var m=function(e){(0,o.Z)(p,e);var t,r,c=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,i.Z)(t);if(r){var n=(0,i.Z)(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return(0,a.Z)(this,e)});function p(){return(0,s.Z)(this,p),c.apply(this,arguments)}return(0,n.Z)(p,[{key:"hasRole",value:function(){var e,t=l.Z.get("user"),r=this.props,s=r.organization,n=r.role,o=s.availableRoles,a=null!==(e=s.role)&&void 0!==e?e:"";if(!t)return!1;if((0,u.M)())return!0;if(!Array.isArray(o))return!1;var i=o.map((function(e){return e.id}));if(!i.includes(n)||!i.includes(a))return!1;var c=i.indexOf(n);return i.indexOf(a)>=c}},{key:"render",value:function(){var e=this.props.children,t=this.hasRole();return(0,d.l)(e)?e({hasRole:t}):t&&e?e:null}}]),p}(c.Component);m.displayName="Role",t.Z=(0,p.Z)(m)},"./app/components/fileSize.tsx":function(e,t,r){"use strict";var s=r("./app/utils.tsx"),n=r("./app/utils/getDynamicText.tsx"),o=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){var t=e.className,r=e.bytes;return(0,o.tZ)("span",{className:t,children:(0,n.Z)({value:(0,s.F)(r),fixed:"xx KB"})})}a.displayName="FileSize",t.Z=a},"./app/utils/isActiveSuperuser.tsx":function(e,t,r){"use strict";r.d(t,{M:function(){return a}});var s=r("../node_modules/js-cookie/src/js.cookie.js"),n=r.n(s),o=r("./app/stores/configStore.tsx");function a(){return!(!(o.Z.get("user")||{}).isSuperuser||(n().set("su","test"),void 0!==n().get("su")))}},"./app/utils/routeTitle.tsx":function(e,t,r){"use strict";r("../node_modules/core-js/modules/es.array.concat.js"),t.Z=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3?arguments[3]:void 0,n="".concat(e," - ").concat(t),o=s?"".concat(n," - ").concat(s):n;return r?"".concat(o," - Sentry"):o}},"./app/views/asyncView.tsx":function(e,t,r){"use strict";r.d(t,{Z:function(){return p}}),r("../node_modules/core-js/modules/es.reflect.construct.js");var s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),i=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=(r("../node_modules/react/index.js"),r("../node_modules/react-document-title/index.js")),l=r.n(c),u=r("./app/components/asyncComponent.tsx"),d=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var p=function(e){(0,o.Z)(u,e);var t,r,c=(t=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,i.Z)(t);if(r){var n=(0,i.Z)(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return(0,a.Z)(this,e)});function u(){return(0,s.Z)(this,u),c.apply(this,arguments)}return(0,n.Z)(u,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,d.tZ)(l(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}]),u}(u.Z);p.displayName="AsyncView"},"./app/views/settings/projectSourceMaps/detail/index.tsx":function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ne}}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var s=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../node_modules/@babel/runtime/helpers/esm/get.js"),c=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=r("../node_modules/@babel/runtime/regenerator/index.js"),f=r.n(m),h=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.function.name.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/react/index.js")),y=r("./app/actionCreators/indicator.tsx"),v=r("./app/components/acl/access.tsx"),g=r("./app/components/button.tsx"),Z=r("./app/components/buttonBar.tsx"),j=r("./app/components/confirm.tsx"),b=r("./app/components/pagination/index.tsx"),x=r("./app/components/panels/index.tsx"),w=r("./app/components/searchBar.tsx"),_=r("./app/components/textOverflow.tsx"),R=r("./app/components/tooltip.tsx"),k=r("./app/components/version.tsx"),A=r("./app/icons/index.tsx"),O=r("./app/locale.tsx"),P=r("./app/styles/space.tsx"),S=r("./app/utils/formatters.tsx"),C=r("./app/utils/queryString.tsx"),z=r("./app/utils/routeTitle.tsx"),q=r("./app/views/asyncView.tsx"),B=r("./app/views/settings/components/settingsPageHeader.tsx"),D=r("./app/components/acl/role.tsx"),E=r("./app/components/fileSize.tsx"),T=r("./app/components/tag.tsx"),I=r("./app/components/timeSince.tsx"),U=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),F=function(e){var t=e.artifact,r=e.onDelete,s=e.downloadUrl,n=e.downloadRole,o=t.name,a=t.size,i=t.dateCreated,c=t.id,l=t.dist,u=function(){r(c)};return(0,U.BX)(h.Fragment,{children:[(0,U.BX)(M,{children:[(0,U.tZ)(L,{children:o||"(".concat((0,O.t)("empty"),")")}),(0,U.BX)(Q,{children:[(0,U.BX)(V,{children:[(0,U.tZ)(A.jo,{size:"sm"}),(0,U.tZ)(I.Z,{date:i})]}),(0,U.tZ)(Y,{type:l?"info":void 0,tooltipText:l?void 0:(0,O.t)("No distribution set"),children:null!=l?l:(0,O.t)("none")})]})]}),(0,U.tZ)(X,{children:(0,U.tZ)(E.Z,{bytes:a})}),(0,U.tZ)(N,{children:(0,U.BX)(Z.ZP,{gap:.5,children:[(0,U.tZ)(D.Z,{role:n,children:function(e){var t=e.hasRole;return(0,U.tZ)(R.Z,{title:(0,O.t)("You do not have permission to download artifacts."),disabled:t,children:(0,U.tZ)(g.ZP,{size:"small",icon:(0,U.tZ)(A.Dj,{size:"sm"}),disabled:!t,href:s,title:t?(0,O.t)("Download Artifact"):void 0})})}}),(0,U.tZ)(v.Z,{access:["project:releases"],children:function(e){var t=e.hasAccess;return(0,U.tZ)(R.Z,{disabled:t,title:(0,O.t)("You do not have permission to delete artifacts."),children:(0,U.tZ)(j.Z,{message:(0,O.t)("Are you sure you want to remove this artifact?"),onConfirm:u,disabled:!t,children:(0,U.tZ)(g.ZP,{size:"small",icon:(0,U.tZ)(A.Fz,{size:"sm"}),title:t?(0,O.t)("Remove Artifact"):void 0,label:(0,O.t)("Remove Artifact"),disabled:!t})})})}})]})})]})};F.displayName="SourceMapsArtifactRow";var M=(0,p.Z)("div",{target:"e2h2xmi6"})({name:"1ij1o5n",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:center"}),X=(0,p.Z)("div",{target:"e2h2xmi5"})({name:"ivtwc8",styles:"display:flex;justify-content:flex-end;text-align:right;align-items:center"}),N=(0,p.Z)(X,{target:"e2h2xmi4"})(""),L=(0,p.Z)("div",{target:"e2h2xmi3"})("padding-right:",(0,P.Z)(4),";overflow-wrap:break-word;word-break:break-all;"),Q=(0,p.Z)("div",{target:"e2h2xmi2"})("width:100%;display:flex;margin-top:",(0,P.Z)(1),";align-items:center;"),V=(0,p.Z)("div",{target:"e2h2xmi1"})("display:grid;grid-gap:",(0,P.Z)(.5),";grid-template-columns:min-content 1fr;font-size:",(function(e){return e.theme.fontSizeMedium}),";align-items:center;color:",(function(e){return e.theme.subText}),";"),Y=(0,p.Z)(T.Z,{target:"e2h2xmi0"})("margin-left:",(0,P.Z)(1),";"),G=F;function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=function(e){(0,c.Z)(m,e);var t,r,p=(t=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,u.Z)(t);if(r){var n=(0,u.Z)(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return(0,l.Z)(this,e)});function m(){var e;(0,n.Z)(this,m);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=p.call.apply(p,[this].concat(r)),(0,d.Z)((0,a.Z)(e),"handleSearch",(function(t){var r=e.props,s=r.location;r.router.push(H(H({},s),{},{query:H(H({},s.query),{},{cursor:void 0,query:t})}))})),(0,d.Z)((0,a.Z)(e),"handleArtifactDelete",function(){var t=(0,s.Z)(f().mark((function t(r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,y.E3)((0,O.t)("Removing artifact…")),t.prev=1,t.next=4,e.api.requestPromise("".concat(e.getArtifactsUrl()).concat(r,"/"),{method:"DELETE"});case 4:e.fetchData(),(0,y.S9)((0,O.t)("Artifact removed.")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),(0,y.Iw)((0,O.t)("Unable to remove artifact. Please try again."));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()),(0,d.Z)((0,a.Z)(e),"handleArchiveDelete",(0,s.Z)(f().mark((function t(){var r,s,n,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.params,s=r.orgId,n=r.projectId,o=r.name,(0,y.E3)((0,O.t)("Removing artifacts…")),t.prev=2,t.next=5,e.api.requestPromise("/projects/".concat(s,"/").concat(n,"/files/source-maps/"),{method:"DELETE",query:{name:o}});case 5:e.fetchData(),(0,y.S9)((0,O.t)("Artifacts removed.")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),(0,y.Iw)((0,O.t)("Unable to remove artifacts. Please try again."));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),e}return(0,o.Z)(m,[{key:"getTitle",value:function(){var e=this.props.params,t=e.projectId,r=e.name;return(0,z.Z)((0,O.t)("Archive %s",(0,S.ko)(r)),t,!1)}},{key:"getDefaultState",value:function(){return H(H({},(0,i.Z)((0,u.Z)(m.prototype),"getDefaultState",this).call(this)),{},{artifacts:[]})}},{key:"getEndpoints",value:function(){return[["artifacts",this.getArtifactsUrl(),{query:{query:this.getQuery()}}]]}},{key:"getArtifactsUrl",value:function(){var e=this.props.params,t=e.orgId,r=e.projectId,s=e.name;return"/projects/".concat(t,"/").concat(r,"/releases/").concat(encodeURIComponent(s),"/files/")}},{key:"getQuery",value:function(){var e=this.props.location.query.query;return(0,C.ro)(e)}},{key:"getEmptyMessage",value:function(){return this.getQuery()?(0,O.t)("There are no artifacts that match your search."):(0,O.t)("There are no artifacts in this archive.")}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderArtifacts",value:function(){var e=this,t=this.props.organization,r=this.state.artifacts,s=this.api.baseUrl+this.getArtifactsUrl();return r.length?r.map((function(r){return(0,U.tZ)(G,{artifact:r,onDelete:e.handleArtifactDelete,downloadUrl:"".concat(s).concat(r.id,"/?download=1"),downloadRole:t.debugFilesRole},r.id)})):null}},{key:"renderBody",value:function(){var e=this,t=this.state,r=t.loading,s=t.artifacts,n=t.artifactsPageLinks,o=this.props.params,a=o.name,i=o.orgId,c=this.props.project;return(0,U.BX)(h.Fragment,{children:[(0,U.tZ)(W,{title:(0,U.BX)($,{children:[(0,O.t)("Archive")," ",(0,U.tZ)(_.Z,{children:(0,U.tZ)(k.Z,{version:a,tooltipRawVersion:!0,anchor:!1,truncate:!0})})]}),action:(0,U.BX)(ee,{gap:1,children:[(0,U.tZ)(re,{to:"/organizations/".concat(i,"/releases/").concat(encodeURIComponent(a),"/?project=").concat(c.id),children:(0,O.t)("Go to Release")}),(0,U.tZ)(v.Z,{access:["project:releases"],children:function(t){var r=t.hasAccess;return(0,U.tZ)(R.Z,{disabled:r,title:(0,O.t)("You do not have permission to delete artifacts."),children:(0,U.tZ)(j.Z,{message:(0,O.t)("Are you sure you want to remove all artifacts in this archive?"),onConfirm:e.handleArchiveDelete,disabled:!r,children:(0,U.tZ)(g.ZP,{icon:(0,U.tZ)(A.Fz,{size:"sm"}),title:(0,O.t)("Remove All Artifacts"),label:(0,O.t)("Remove All Artifacts"),disabled:!r})})})}}),(0,U.tZ)(w.Z,{placeholder:(0,O.t)("Filter artifacts"),onSearch:this.handleSearch,query:this.getQuery()})]})}),(0,U.tZ)(te,{headers:[(0,O.t)("Artifact"),(0,U.tZ)(se,{children:(0,O.t)("File Size")},"size"),""],emptyMessage:this.getEmptyMessage(),isEmpty:0===s.length,isLoading:r,children:this.renderArtifacts()}),(0,U.tZ)(b.Z,{pageLinks:n})]})}}]),m}(q.Z),W=(0,p.Z)(B.Z,{target:"e1qrdj7c5"})(">div{@media (max-width: ",(function(e){return e.theme.breakpoints[2]}),"){display:block;}}"),$=(0,p.Z)("div",{target:"e1qrdj7c4"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),ee=(0,p.Z)(Z.ZP,{target:"e1qrdj7c3"})({name:"11g6mpt",styles:"justify-content:flex-start"}),te=(0,p.Z)(x.KB,{target:"e1qrdj7c2"})({name:"qc2mzu",styles:"grid-template-columns:minmax(220px, 1fr) max-content 120px"}),re=(0,p.Z)(g.ZP,{target:"e1qrdj7c1"})({name:"1bmnxg7",styles:"white-space:nowrap"}),se=(0,p.Z)("div",{target:"e1qrdj7c0"})({name:"2qga7i",styles:"text-align:right"}),ne=J}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectSourceMaps_detail_index_tsx.7316cdc3c32758ced0d35832aca0e0a6.js.map