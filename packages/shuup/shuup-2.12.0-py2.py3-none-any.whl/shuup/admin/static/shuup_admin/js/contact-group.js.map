{"version":3,"sources":["edit-members.js"],"names":["total","parseInt","$","val","lastRow","closest","blankRow","clone","nextRow","newRow","find","each","name","attr","replace","on","event","preventDefault","id","appendTo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,aAAW;AACR;;AAEA,MAAIA,KAAK,GAAGC,QAAQ,CAACC,CAAC,CAAC,yBAAD,CAAD,CAA6BC,GAA7B,EAAD,CAApB;AACA,MAAIC,OAAO,GAAGF,CAAC,CAAC,yCAAD,CAAD,CAA6CG,OAA7C,CAAqD,IAArD,CAAd;AACA,MAAIC,QAAQ,GAAGF,OAAO,CAACG,KAAR,EAAf;AACA,MAAIC,OAAJ;AACA,MAAIC,MAAJ;AAEAH,EAAAA,QAAQ,CAACI,IAAT,CAAc,OAAd,EAAuBC,IAAvB,CAA4B,YAAW;AACnC,QAAIC,IAAI,GAAGV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,CAAa,MAAb,EAAqBC,OAArB,CAA6B,OAAOd,KAAK,GAAG,CAAf,IAAoB,GAAjD,EAAsD,IAAtD,CAAX;AACAE,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,CAAa;AACT,cAAQD;AADC,KAAb;AAGH,GALD;AAOAV,EAAAA,CAAC,CAAC,WAAD,CAAD,CAAea,EAAf,CAAkB,OAAlB,EAA2B,UAASC,KAAT,EAAgB;AACvCA,IAAAA,KAAK,CAACC,cAAN;AACAT,IAAAA,OAAO,GAAGF,QAAQ,CAACC,KAAT,EAAV;AACAE,IAAAA,MAAM,GAAGD,OAAO,CAACD,KAAR,EAAT;AACAE,IAAAA,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAqBC,IAArB,CAA0B,YAAW;AACjC,UAAIC,IAAI,GAAGV,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,CAAa,MAAb,EAAqBC,OAArB,CAA6B,IAA7B,EAAkC,MAAMd,KAAN,GAAc,GAAhD,CAAX;AACA,UAAIkB,EAAE,GAAG,QAAQN,IAAjB;AACAV,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,CAAa;AACT,gBAAQD,IADC;AAET,cAAMM;AAFG,OAAb,EAGGf,GAHH,CAGO,EAHP;AAIH,KAPD;AAQAH,IAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;AACAE,IAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BC,GAA7B,CAAiCH,KAAjC;AACAS,IAAAA,MAAM,CAACU,QAAP,CAAgBf,OAAO,CAACC,OAAR,CAAgB,OAAhB,CAAhB;AACAD,IAAAA,OAAO,GAAGK,MAAV;AACH,GAhBD;AAiBH,CAjCA,GAAD","file":"contact-group.js","sourceRoot":"../../../static_src/contact_group","sourcesContent":["/**\n * This file is part of Shuup.\n *\n * Copyright (c) 2012-2021, Shuup Commerce Inc. All rights reserved.\n *\n * This source code is licensed under the OSL-3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n(function (){\n    \"use strict\";\n\n    var total = parseInt($(\"#id_members-TOTAL_FORMS\").val());\n    var lastRow = $(\"#contact_group_form .browse-widget:last\").closest(\"tr\");\n    var blankRow = lastRow.clone();\n    var nextRow;\n    var newRow;\n\n    blankRow.find(\"input\").each(function() {\n        var name = $(this).attr(\"name\").replace(\"-\" + (total - 1) + \"-\", \"--\");\n        $(this).attr({\n            \"name\": name\n        });\n    });\n\n    $(\"#add-more\").on(\"click\", function(event) {\n        event.preventDefault();\n        nextRow = blankRow.clone();\n        newRow = nextRow.clone();\n        newRow.find(\"input\").each(function() {\n            var name = $(this).attr(\"name\").replace(\"--\",\"-\" + total + \"-\");\n            var id = \"id_\" + name;\n            $(this).attr({\n                \"name\": name,\n                \"id\": id\n            }).val(\"\");\n        });\n        total = total + 1;\n        $(\"#id_members-TOTAL_FORMS\").val(total);\n        newRow.appendTo(lastRow.closest(\"tbody\"));\n        lastRow = newRow;\n    });\n}());\n"]}