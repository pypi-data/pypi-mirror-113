(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_account_accountSecurity_accountSecurityDetails_tsx"],{"./app/views/asyncView.tsx":function(e,t,n){"use strict";n.d(t,{Z:function(){return m}}),n("../node_modules/core-js/modules/es.reflect.construct.js");var r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=(n("../node_modules/react/index.js"),n("../node_modules/react-document-title/index.js")),l=n.n(c),d=n("./app/components/asyncComponent.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var m=function(e){(0,s.Z)(d,e);var t,n,c=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,a.Z)(t);if(n){var o=(0,a.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function d(){return(0,r.Z)(this,d),c.apply(this,arguments)}return(0,o.Z)(d,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,u.tZ)(l(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}]),d}(d.Z);m.displayName="AsyncView"},"./app/views/settings/account/accountSecurity/accountSecurityDetails.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}}),n("../node_modules/core-js/modules/es.reflect.construct.js");var r=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=n("../node_modules/@babel/runtime/regenerator/index.js"),p=n.n(m),h=(n("../node_modules/core-js/modules/es.array.concat.js"),n("../node_modules/core-js/modules/es.function.name.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/react/index.js")),f=n("./app/actionCreators/indicator.tsx"),v=n("./app/components/button.tsx"),Z=n("./app/components/circleIndicator.tsx"),y=n("./app/components/dateTime.tsx"),g=n("./app/components/tooltip.tsx"),b=n("./app/locale.tsx"),j=n("./app/styles/space.tsx"),w=n("./app/views/asyncView.tsx"),x=(n("../node_modules/core-js/modules/es.array.join.js"),n("../node_modules/core-js/modules/es.array.map.js"),n("./app/components/clipboard.tsx")),_=n("./app/components/confirm.tsx"),k=n("./app/components/panels/index.tsx"),C=n("./app/icons/index.tsx"),B=n("./app/views/settings/components/emptyMessage.tsx"),R=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),P=function(e){var t=e.className,n=e.isEnrolled,r=e.codes,o=e.onRegenerateBackupCodes;if(!n||!r)return null;var s=r.join(" \n");return(0,R.BX)(S,{className:t,children:[(0,R.BX)(k.V9,{hasButtons:!0,children:[(0,b.t)("Unused Codes"),(0,R.BX)(D,{children:[(0,R.tZ)(x.Z,{hideUnsupported:!0,value:s,children:(0,R.tZ)(v.ZP,{size:"small",label:(0,b.t)("copy"),children:(0,R.tZ)(C.vU,{})})}),(0,R.tZ)(v.ZP,{size:"small",onClick:function(){var e=window.frames.printable;e.document.write(r.join("<br>")),e.print(),e.document.close()},label:(0,b.t)("print"),children:(0,R.tZ)(C.nS,{})}),(0,R.tZ)(v.ZP,{size:"small",download:"sentry-recovery-codes.txt",href:"data:text/plain;charset=utf-8,".concat(s),label:(0,b.t)("download"),children:(0,R.tZ)(C.Dj,{})}),(0,R.tZ)(_.Z,{onConfirm:o,message:(0,b.t)("Are you sure you want to regenerate recovery codes? Your old codes will no longer work."),children:(0,R.tZ)(v.ZP,{priority:"danger",size:"small",children:(0,b.t)("Regenerate Codes")})})]})]}),(0,R.BX)(k.N,{children:[(0,R.tZ)(k.aU,{type:"warning",children:(0,b.t)("Make sure to save a copy of your recovery codes and store them in a safe place.")}),(0,R.tZ)("div",{children:!!r.length&&r.map((function(e){return(0,R.tZ)(E,{children:e},e)}))}),!r.length&&(0,R.tZ)(B.Z,{children:(0,b.t)("You have no more recovery codes to use")})]}),(0,R.tZ)("iframe",{name:"printable",style:{display:"none"}})]})};P.displayName="RecoveryCodes";var O=P,S=(0,u.Z)(k.s_,{target:"e1nntg9l2"})("margin-top:",(0,j.Z)(4),";"),D=(0,u.Z)("div",{target:"e1nntg9l1"})("display:grid;grid-auto-flow:column;grid-gap:",(0,j.Z)(1),";"),E=(0,u.Z)(k.Lv,{target:"e1nntg9l0"})("font-family:",(function(e){return e.theme.text.familyMono}),";padding:",(0,j.Z)(2),";"),X=n("./app/views/settings/account/accountSecurity/components/removeConfirm.tsx"),z=n("./app/views/settings/account/accountSecurity/components/confirmHeader.tsx"),U=n("./app/views/settings/components/text/textBlock.tsx");function N(e){var t=e.className,n=e.isEnrolled,r=e.devices,o=e.id,s=e.onRemoveU2fDevice;if("u2f"!==o||!n)return null;var i=null==r?void 0:r.length,a=1===i;return(0,R.BX)(k.s_,{className:t,children:[(0,R.tZ)(k.V9,{children:(0,b.t)("Device name")}),(0,R.BX)(k.N,{children:[!i&&(0,R.tZ)(B.Z,{children:(0,b.t)("You have not added any U2F devices")}),i&&(null==r?void 0:r.map((function(e){return(0,R.BX)(A,{children:[(0,R.BX)(F,{children:[(0,R.tZ)(q,{children:e.name}),(0,R.tZ)(T,{date:e.timestamp})]}),(0,R.tZ)(I,{children:(0,R.tZ)(_.Z,{onConfirm:function(){return s(e)},disabled:a,message:(0,R.BX)(h.Fragment,{children:[(0,R.tZ)(z.Z,{children:(0,b.t)("Do you want to remove U2F device?")}),(0,R.tZ)(U.Z,{children:(0,b.t)('Are you sure you want to remove the U2F device "'.concat(e.name,'"?'))})]}),children:(0,R.tZ)(v.ZP,{size:"small",priority:"danger",children:(0,R.tZ)(g.Z,{disabled:!a,title:(0,b.t)("Can not remove last U2F device"),children:(0,R.tZ)(C.Fz,{size:"xs"})})})})})]},e.name)}))),(0,R.tZ)(L,{children:(0,R.tZ)(v.ZP,{type:"button",to:"/settings/account/security/mfa/u2f/enroll/",size:"small",children:(0,b.t)("Add Another Device")})})]})]})}N.displayName="U2fEnrolledDetails";var A=(0,u.Z)(k.Lv,{target:"eisv0kh6"})({name:"1hcx8jb",styles:"padding:0"}),F=(0,u.Z)("div",{target:"eisv0kh5"})("display:flex;align-items:center;flex:1;padding:",(0,j.Z)(2),";padding-right:0;"),T=(0,u.Z)(y.Z,{target:"eisv0kh4"})("font-size:",(function(e){return e.theme.fontSizeRelativeSmall}),";opacity:0.6;"),q=(0,u.Z)("div",{target:"eisv0kh3"})({name:"82a6rk",styles:"flex:1"}),I=(0,u.Z)("div",{target:"eisv0kh2"})("margin:",(0,j.Z)(2),";"),L=(0,u.Z)(k.Lv,{target:"eisv0kh1"})("justify-content:flex-end;padding:",(0,j.Z)(2),";"),V=(0,u.Z)(N,{target:"eisv0kh0"})("margin-top:",(0,j.Z)(4),";"),H=n("./app/views/settings/components/settingsPageHeader.tsx");var M="/users/me/authenticators/";function Y(e){var t=e.label,n=e.date;return(0,R.BX)(h.Fragment,{children:[(0,R.tZ)(Q,{children:t}),(0,R.tZ)("div",{children:n?(0,R.tZ)(y.Z,{date:n}):(0,b.t)("never")})]})}Y.displayName="AuthenticatorDate";var G=function(e){(0,a.Z)(m,e);var t,n,u=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function m(){var e;(0,o.Z)(this,m);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e=u.call.apply(u,[this].concat(n)),(0,d.Z)((0,i.Z)(e),"handleRemove",function(){var t=(0,r.Z)(p().mark((function t(n){var r,o,s;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.state.authenticator)&&r.authId){t.next=3;break}return t.abrupt("return");case 3:return o=n?"".concat(n.key_handle,"/"):"",s=n?n.name:(0,b.t)("Authenticator"),e.setState({loading:!0}),t.prev=6,t.next=9,e.api.requestPromise("".concat(M).concat(r.authId,"/").concat(o),{method:"DELETE"});case 9:e.props.router.push("/settings/account/security"),(0,f.S9)((0,b.t)("%s has been removed",s)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),e.setState({loading:!1}),(0,f.Iw)((0,b.t)("Error removing %s",s));case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,s.Z)(m,[{key:"getTitle",value:function(){return(0,b.t)("Security")}},{key:"getEndpoints",value:function(){var e=this.props.params.authId;return[["authenticator","".concat(M).concat(e,"/")]]}},{key:"renderBody",value:function(){var e=this.state.authenticator;if(!e)return null;var t=this.props,n=t.deleteDisabled,r=t.onRegenerateBackupCodes;return(0,R.BX)(h.Fragment,{children:[(0,R.tZ)(H.Z,{title:(0,R.BX)(h.Fragment,{children:[(0,R.tZ)("span",{children:e.name}),(0,R.tZ)(J,{enabled:e.isEnrolled})]}),action:e.isEnrolled&&e.removeButton&&(0,R.tZ)(g.Z,{title:(0,b.t)("Two-factor authentication is required for at least one organization you're a member of."),disabled:!n,children:(0,R.tZ)(X.Z,{onConfirm:this.handleRemove,disabled:n,children:(0,R.tZ)(v.ZP,{priority:"danger",children:e.removeButton})})})}),(0,R.tZ)(U.Z,{children:e.description}),(0,R.BX)(K,{children:[(0,R.tZ)(Y,{label:(0,b.t)("Created at"),date:e.createdAt}),(0,R.tZ)(Y,{label:(0,b.t)("Last used"),date:e.lastUsedAt})]}),(0,R.tZ)(V,{isEnrolled:e.isEnrolled,id:e.id,devices:e.devices,onRemoveU2fDevice:this.handleRemove}),e.isEnrolled&&e.phone&&(0,R.BX)(W,{children:[(0,b.t)("Confirmation codes are sent to the following phone number"),":",(0,R.tZ)($,{children:e.phone})]}),(0,R.tZ)(O,{onRegenerateBackupCodes:r,isEnrolled:e.isEnrolled,codes:e.codes})]})}}]),m}(w.Z),J=(0,u.Z)(Z.Z,{target:"e19qrwsm4"})("margin-left:",(0,j.Z)(1),";"),K=(0,u.Z)("div",{target:"e19qrwsm3"})("display:grid;grid-gap:",(0,j.Z)(2),";grid-template-columns:max-content auto;"),Q=(0,u.Z)("span",{target:"e19qrwsm2"})({name:"1efi8gv",styles:"font-weight:bold"}),W=(0,u.Z)("div",{target:"e19qrwsm1"})("margin-top:",(0,j.Z)(4),";"),$=(0,u.Z)("span",{target:"e19qrwsm0"})("font-weight:bold;margin-left:",(0,j.Z)(1),";")},"./app/views/settings/account/accountSecurity/components/confirmHeader.tsx":function(e,t,n){"use strict";var r=(0,n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e1er9gj10"})({name:"73b5fw",styles:"font-size:1.2em;margin-bottom:10px"});t.Z=r},"./app/views/settings/account/accountSecurity/components/removeConfirm.tsx":function(e,t,n){"use strict";n("../node_modules/core-js/modules/es.object.keys.js"),n("../node_modules/core-js/modules/es.symbol.js"),n("../node_modules/core-js/modules/es.array.filter.js"),n("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),n("../node_modules/core-js/modules/web.dom-collections.for-each.js"),n("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js");var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/react/index.js"),s=n("./app/components/confirm.tsx"),i=n("./app/locale.tsx"),a=n("./app/views/settings/account/accountSecurity/components/confirmHeader.tsx"),c=n("./app/views/settings/components/text/textBlock.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,l.BX)(o.Fragment,{children:[(0,l.tZ)(a.Z,{children:(0,i.t)("Do you want to remove this method?")}),(0,l.tZ)(c.Z,{children:(0,i.t)("Removing the last authentication method will disable two-factor authentication completely.")})]}),p=function(e){return(0,l.tZ)(s.Z,u(u({},e),{},{message:m}))};p.displayName="RemoveConfirm",t.Z=p}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_accountSecurity_accountSecurityDetails_tsx.24e51948b7a8c44afa101b344e0fb75c.js.map