(()=>{"use strict";var e,t,a,n={78189:(e,t,a)=>{var n=a(95023),i=a.n(n),o=(a(96901),a(28995)),r=(a(84038),a(95499),a(63025)),l=a(60216),s=a.n(l),c=a(32735),d=a(12788),u=a(25591),m=a(13213),p=a(48060),f=a(67986),b=a(72865),v=a(43114),h=a(36323),g=a(19306),y=a(59090);const D=r.ZP.bind(null,{endpoint:"abstracts.manage_custom_boa",rules:[{args:["event_id"],converters:{event_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"abstracts",isDynamic:!1},{data:"/",isDynamic:!1},{data:"boa",isDynamic:!1},{data:"/",isDynamic:!1},{data:"custom",isDynamic:!1}]}]},"/"),w=r.ZP.bind(null,{endpoint:"abstracts.upload_boa_file",rules:[{args:["event_id"],converters:{event_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"abstracts",isDynamic:!1},{data:"/",isDynamic:!1},{data:"boa",isDynamic:!1},{data:"/",isDynamic:!1},{data:"custom",isDynamic:!1},{data:"/",isDynamic:!1},{data:"upload",isDynamic:!1}]}]},"/");function E(e){let{eventId:t,initialFile:a,hasLatex:n}=e;const[i,o]=(0,c.useState)(!1),[r,l]=(0,c.useState)(!1),[s,d]=(0,c.useState)(!1);let v;return v=n?a?g.vN.string("Manage custom PDF"):g.vN.string("Upload custom PDF"):a?g.vN.string("Manage PDF"):g.vN.string("Upload PDF"),c.createElement(c.Fragment,null,c.createElement("span",{className:"i-button "+(a?"icon-file-pdf":"icon-arrow-up"),style:{marginRight:"0.3rem"},onClick:()=>o(!0)},v),i&&c.createElement(u.l0,{onSubmit:async e=>{let{file:a}=e;try{await y.l2.post(D({event_id:t}),{file:a})}catch(e){return(0,h.qf)(e)}location.reload(),await new Promise((()=>{}))},initialValues:{file:a?a.uuid:null},subscription:{submitting:!0}},(e=>c.createElement(m.Z,{open:!0,onClose:()=>o(!1),size:"small",closeIcon:!e.submitting,closeOnEscape:!e.submitting,closeOnDimmerClick:!e.submitting},c.createElement(m.Z.Header,{content:n?g.vN.string("Manage custom Book of Abstracts"):g.vN.string("Manage Book of Abstracts")}),c.createElement(m.Z.Content,null,c.createElement(p.Z,{onSubmit:e.handleSubmit,id:"custom-boa-form"},c.createElement("div",{style:{marginBottom:"20px",textAlign:"center"}},c.createElement(b.lU,{name:"file",validExtensions:["pdf"],initialFileDetails:a,uploadURL:w({event_id:t}),required:!0,hideValidationError:!0})),c.createElement("div",{className:"description",style:{margin:"10px"}},n?c.createElement(g.vN,null,"You can upload a custom PDF for your Book of Abstracts. Please note that this overrides the autogenerated file. To switch back to the default book of abstracts you'll have to delete the custom file."):c.createElement(g.vN,null,"You can upload a PDF file with the Book of Abstracts here.")))),c.createElement(m.Z.Actions,{style:{display:"flex",justifyContent:"flex-end"}},null!==a&&c.createElement(f.Z,{style:{marginRight:"auto"},onClick:()=>d(!0),disabled:e.submitting,negative:!0},n?c.createElement(g.vN,null,"Delete custom PDF"):c.createElement(g.vN,null,"Delete current PDF")),c.createElement(f.Z,{onClick:()=>o(!1),disabled:e.submitting},c.createElement(g.vN,null,"Cancel")),c.createElement(h.Ei,{form:"custom-boa-form",label:g.vN.string("Upload BoA")}))))),c.createElement(m.Z,{open:s,onClose:()=>d(!1),size:"tiny",closeOnDimmerClick:!1},c.createElement(m.Z.Header,{content:g.vN.string("Confirm deletion")}),c.createElement(m.Z.Content,null,n?c.createElement(g.vN,null,"Do you really want to delete the custom Book of Abstracts? This will revert to the default auto-generated one."):c.createElement(g.vN,null,"Do you really want to delete the Book of Abstracts? This will disable the Book of Abstracts until you upload a new one.")),c.createElement(m.Z.Actions,null,c.createElement(f.Z,{onClick:()=>d(!1),disabled:r},c.createElement(g.vN,null,"Cancel")),c.createElement(f.Z,{negative:!0,onClick:async()=>{l(!0);try{await y.l2.delete(D({event_id:t}))}catch(e){return(0,y.zZ)(e),void l(!1)}location.reload()},disabled:r,loading:r},c.createElement(g.vN,null,"Delete")))))}var x;E.propTypes={eventId:s().number.isRequired,hasLatex:s().bool.isRequired,initialFile:v.U},E.defaultProps={initialFile:null},document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#boa-custom-upload");if(!e)return;const t=parseInt(e.dataset.eventId,10),a=JSON.parse(e.dataset.file),n="hasLatex"in e.dataset;d.render(c.createElement(E,{eventId:t,initialFile:a,hasLatex:n}),e)})),(x=window).setupAbstractList=function(){const e=$("#abstract-list"),t=setupListGenerator({itemHandle:"tr",listItems:"#abstract-list tbody tr",term:"#search-input",state:"#filtering-state",placeholder:"#filter-placeholder"});e.on("indico:htmlUpdated",(function(){e.find(".js-mathjax").mathJax(),i()(t)}))},x.setupAbstractEmailTemplatesPage=function(){$(".js-edit-tpl-dropdown").parent().dropdown(),$(".email-templates > ul").sortable({axis:"y",containment:"parent",cursor:"move",distance:2,handle:".ui-i-box-sortable-handle",items:"> li",tolerance:"pointer",forcePlaceholderSize:!0,placeholder:"regform-section-sortable-placeholder",update(){const e=$(".email-templates > ul"),t=e.find("li.js-email-template").map(((e,t)=>$(t).data("id"))).get();$.ajax({url:e.data("url"),method:"POST",contentType:"application/json",data:JSON.stringify({sort_order:t}),complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError})}}),$(".email-preview-btn").on("click",(function(e){e.preventDefault();const t=$(this).data("id"),a=$(`#email-preview-btn-${t}`);a.data("visible")?(a.text(o.$T.gettext("Show preview")),$(`#email-preview-${t}`).slideToggle(),a.data("visible",!1)):(a.text(o.$T.gettext("Hide preview")),$(`#email-preview-${t}`).slideToggle(),a.data("visible",!0))})),$("#email-template-manager .ui-i-box-sortable-handle").on("mousedown",(function(){$(".email-preview").hide(),$(".email-preview-btn").text(o.$T.gettext("Show preview")).data("visible",!1)})),$(".js-toggle-stop-on-match").on("click",(function(e){e.preventDefault();const t=$(this),a=!t.data("stop-on-match");t.hasClass("disabled")||$.ajax({url:t.data("href"),method:t.data("method"),data:JSON.stringify({stop_on_match:a}),dataType:"json",contentType:"application/json",error:handleAjaxError,success(){t.data("stop-on-match",a),t.toggleClass("stop-processing-enabled",a)}})}))},x.setupCallForAbstractsPage=function(e){e=$.extend({hasAbstracts:!1},e),"#submit-abstract"===location.hash&&$(document).ready((function(){$(".js-show-abstract-form").trigger("click")})),e.hasAbstracts&&setupSearchBox({itemHandle:"div.contribution-row",listItems:"#display-contribution-list div.contribution-row",term:"#search-input",state:"#filtering-state",placeholder:"#filter-placeholder"})()},x.setupAbstractJudgment=function(e){e=$.extend({trackSessionMap:{}},e),$("body").on("change","#accepted_track",(function(){const t=e.trackSessionMap[$(this).val()];$("#session").val(t||"__None")})),$("#accepted_track").trigger("change")}},20574:e=>{e.exports=jQuery}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={id:e,loaded:!1,exports:{}};return n[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=n,e=[],o.O=(t,a,n,i)=>{if(!a){var r=1/0;for(c=0;c<e.length;c++){for(var[a,n,i]=e[c],l=!0,s=0;s<a.length;s++)(!1&i||r>=i)&&Object.keys(o.O).every((e=>o.O[e](a[s])))?a.splice(s--,1):(l=!1,i<r&&(r=i));l&&(e.splice(c--,1),t=n())}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,n,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var r={};t=t||[null,a({}),a([]),a(a)];for(var l=2&n&&e;"object"==typeof l&&!~t.indexOf(l);l=a(l))Object.getOwnPropertyNames(l).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,o.d(i,r),i},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.e=()=>Promise.resolve(),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.j=8549,(()=>{var e={8549:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[r,l,s]=a,c=0;for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(s)var d=s(o);for(t&&t(a);c<r.length;c++)i=r[c],o.o(e,i)&&e[i]&&e[i][0](),e[r[c]]=0;return o.O(d)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=o.O(void 0,[5514,3044,8592],(()=>o(78189)));r=o.O(r)})();
//# sourceMappingURL=module_events.abstracts.db1f9245.bundle.js.map