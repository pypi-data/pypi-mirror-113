{"version":3,"sources":["webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/create fake namespace object","webpack:///indico/web/modules/categories/client/js/display.js","webpack:///indico/web/modules/categories/client/js/base.jsx","webpack:///indico/web/modules/categories/client/js/context.js","webpack:///indico/web/modules/categories/client/js/components/CategoryStatistics.jsx","webpack:///indico/web/modules/categories/client/js/index.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///webpack/runtime/runtimeId","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"names":["deferred","leafPrototypes","getProto","global","window","setupCategoryDisplaySubcatList","url","$","data","undefined","ajax","dataType","success","Object","entries","event_counts","forEach","id","count","text","value","$T","format","pretty","setupCategoryDisplayEventList","showFutureEvents","showPastEvents","isFlat","requestParams","$eventList","$futureEvents","find","$pastEvents","setupToggleEventListButton","wrapper","callback","$wrapper","$content","updateMessage","visible","toggle","displaySpinner","is","on","evt","triggeredAutomatically","preventDefault","before","after","error","handleAjaxError","html","show","hide","flat","shown","method","first","trigger","setupCategoryDisplay","$this","this","isFavorite","hasClass","prop","toggleClass","complete","qtip","fixed","delay","content","document","addEventListener","calendarContainer","querySelector","categoryId","dataset","ReactDOM","endpoint","params","category_id","renderButton","classes","icon","options","key","Translate","extraParams","LocaleContext","React","CategoryStatistics","loading","isLoading","useIndicoAxios","categoryStatisticsURL","camelize","Loader","size","active","CategoryStatisticsDisplay","userLanguage","useContext","replace","updatedTime","moment","updated","local","fmt","Intl","NumberFormat","totalEvents","totalContributions","files","users","eventGraph","contributionsGraph","series","axes","tooltip","useMemo","serialize","statsData","maxDate","parseInt","keys","reverse","date","maxYear","minYear","filter","year","map","number","label","events","contributions","type","primary","position","align","anchor","getGraphData","Container","Segment","horizontal","Header","as","basic","length","Message","info","Chart","inverted","color","textAlign","Statistic","name","propTypes","PropTypes","isRequired","domContainer","category","JSON","parse","isAdmin","SearchBox","onSearch","keyword","isGlobal","adminOverrideEnabled","q","admin_override_enabled","location","searchUrl","categorySearchUrl","setupCategoryStats","async","rootElement","lang","setMomentLocale","Provider","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","n","getter","__esModule","d","a","getPrototypeOf","obj","t","mode","then","ns","create","r","def","current","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","get","e","Promise","resolve","g","globalThis","Function","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","944","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"mappings":"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","file":"js/module_categories.bcd93c07.bundle.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// This file is part of Indico.\n// Copyright (C) 2002 - 2021 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\n/* global handleAjaxError:false */\n\nimport {$T} from 'indico/utils/i18n';\n\n(function(global) {\n  global.setupCategoryDisplaySubcatList = function setupCategoryDisplaySubcatList() {\n    const url = $('.category-list').data('subcat-info-url');\n    if (url === undefined) {\n      // there's no .category-list if there are no subcategories\n      return;\n    }\n    $.ajax({\n      url,\n      dataType: 'json',\n      success(data) {\n        Object.entries(data.event_counts).forEach(([id, count]) => {\n          const text = !count.value\n            ? $T.gettext('empty')\n            : $T.ngettext('{0} event', '{0} events', count.value).format(count.pretty);\n          $(`#category-event-count-${id}`).text(text);\n        });\n      },\n    });\n  };\n\n  global.setupCategoryDisplayEventList = function setupCategoryDisplayEventList(\n    showFutureEvents,\n    showPastEvents,\n    isFlat,\n    requestParams\n  ) {\n    const $eventList = $('.event-list');\n    const $futureEvents = $eventList.find('.future-events');\n    const $pastEvents = $eventList.find('.past-events');\n\n    if (isFlat) {\n      requestParams.flat = 1;\n    }\n\n    setupToggleEventListButton($futureEvents, onToggleFutureEvents);\n    setupToggleEventListButton($pastEvents, onTogglePastEvents);\n\n    if (showFutureEvents && !isFlat) {\n      $futureEvents\n        .find('.js-toggle-list')\n        .first()\n        .trigger('click', true);\n    }\n\n    if (showPastEvents && !isFlat) {\n      $pastEvents\n        .find('.js-toggle-list')\n        .first()\n        .trigger('click', true);\n    }\n\n    function onToggleFutureEvents(shown) {\n      if (isFlat) {\n        return;\n      }\n      $.ajax({\n        url: $eventList.data('show-future-events-url'),\n        method: shown ? 'PUT' : 'DELETE',\n        error: handleAjaxError,\n      });\n    }\n\n    function onTogglePastEvents(shown) {\n      if (isFlat) {\n        return;\n      }\n      $.ajax({\n        url: $eventList.data('show-past-events-url'),\n        method: shown ? 'PUT' : 'DELETE',\n        error: handleAjaxError,\n      });\n    }\n\n    function setupToggleEventListButton(wrapper, callback) {\n      const $wrapper = $(wrapper);\n      const $content = $wrapper.find('.events');\n\n      function updateMessage(visible) {\n        $wrapper.find('.js-hide-message').toggle(visible);\n        $wrapper.find('.js-show-message').toggle(!visible);\n      }\n      updateMessage(!$content.is(':empty'));\n\n      function displaySpinner(visible) {\n        $wrapper.find('.js-toggle-list').toggle(!visible);\n        $wrapper.find('.js-spinner').toggle(visible);\n      }\n      displaySpinner(false);\n\n      $wrapper.find('.js-toggle-list').on('click', function(evt, triggeredAutomatically) {\n        evt.preventDefault();\n        let visible;\n        if ($content.is(':empty')) {\n          visible = true;\n          displaySpinner(true);\n          $.ajax({\n            url: $content.data('event-list-url'),\n            data: {\n              before: $content.data('event-list-before'),\n              after: $content.data('event-list-after'),\n              ...requestParams,\n            },\n            error: handleAjaxError,\n            success(data) {\n              $content.html(data.html);\n              $content.show();\n              updateMessage(true);\n              displaySpinner(false);\n            },\n          });\n        } else if ($content.is(':visible')) {\n          visible = false;\n          $content.hide();\n          updateMessage(false);\n        } else {\n          visible = true;\n          $content.show();\n          updateMessage(true);\n        }\n        if (!triggeredAutomatically && callback) {\n          callback(visible);\n        }\n      });\n    }\n  };\n\n  global.setupCategoryDisplay = function setupCategoryDisplay() {\n    $('.fav-button')\n      .on('click', function() {\n        const $this = $(this);\n        const isFavorite = $this.hasClass('enabled');\n        $this.prop('disabled', true);\n        $.ajax({\n          url: $this.data('href'),\n          method: isFavorite ? 'DELETE' : 'PUT',\n          error: handleAjaxError,\n          success() {\n            $this.toggleClass('enabled', !isFavorite);\n          },\n          complete() {\n            $this.prop('disabled', false);\n          },\n        });\n      })\n      .qtip({\n        hide: {\n          fixed: true,\n          delay: 500,\n        },\n        content: {\n          text() {\n            const $this = $(this);\n            if ($this.hasClass('enabled')) {\n              return $T.gettext('Remove from your favorites');\n            } else {\n              return '<h3>{0}</h3><p>{1}</p>'.format(\n                $T.gettext('Add to your favorites'),\n                $T\n                  .gettext(\n                    'This will make events in this category visible on your <a href=\"{0}\">Dashboard</a>.'\n                  )\n                  .format($this.data('favorites-href'))\n              );\n            }\n          },\n        },\n      });\n  };\n})(window);\n","// This file is part of Indico.\n// Copyright (C) 2002 - 2021 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {IButton, ICSCalendarLink} from 'indico/react/components';\nimport {Translate} from 'indico/react/i18n';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const calendarContainer = document.querySelector('#category-calendar-link');\n\n  if (!calendarContainer) {\n    return;\n  }\n\n  const categoryId = calendarContainer.dataset.categoryId;\n\n  ReactDOM.render(\n    <ICSCalendarLink\n      endpoint=\"categories.export_ical\"\n      params={{category_id: categoryId}}\n      renderButton={classes => <IButton icon=\"calendar\" classes={classes} />}\n      options={[{key: 'category', text: Translate.string('Category'), extraParams: {}}]}\n    />,\n    calendarContainer\n  );\n});\n","// This file is part of Indico.\n// Copyright (C) 2002 - 2021 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport React from 'react';\n\nexport const LocaleContext = React.createContext(null);\n","// This file is part of Indico.\n// Copyright (C) 2002 - 2021 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport categoryStatisticsURL from 'indico-url:categories.statistics_json';\n\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, {useContext, useMemo} from 'react';\nimport {Chart} from 'react-charts';\nimport {Container, Header, Segment, Statistic, Message, Loader} from 'semantic-ui-react';\n\nimport {useIndicoAxios} from 'indico/react/hooks';\nimport {Param, Translate} from 'indico/react/i18n';\n\nimport {LocaleContext} from '../context.js';\nimport './CategoryStatistics.module.scss';\n\nexport default function CategoryStatistics({categoryId}) {\n  const {data, loading: isLoading} = useIndicoAxios({\n    url: categoryStatisticsURL({category_id: categoryId}),\n    camelize: true,\n    trigger: categoryId,\n  });\n\n  if (isLoading) {\n    return <Loader size=\"massive\" active />;\n  } else if (!data) {\n    return null;\n  }\n\n  return <CategoryStatisticsDisplay data={data} />;\n}\n\nCategoryStatistics.propTypes = {\n  categoryId: PropTypes.number.isRequired,\n};\n\nfunction getGraphData(data) {\n  const serialize = statsData => {\n    const maxDate = parseInt(\n      Object.keys(statsData)\n        .reverse()\n        .find(date => date <= data.maxYear + 3),\n      10\n    );\n    return [\n      [moment(data.minYear - 1, 'YYYY'), null],\n      ...Object.entries(statsData)\n        .filter(([year]) => year <= maxDate && year >= data.minYear)\n        .map(([year, number]) => [moment(year, 'YYYY'), number]),\n      [moment(maxDate + 1, 'YYYY'), null],\n    ];\n  };\n\n  const series = {type: 'bar'};\n  const tooltip = {align: 'left', anchor: 'left'};\n  const axes = [\n    {primary: true, type: 'time', position: 'bottom'},\n    {type: 'linear', position: 'left'},\n  ];\n  const eventGraph = [\n    {\n      label: Translate.string('Events'),\n      data: serialize(data.events),\n    },\n  ];\n  const contributionsGraph = [\n    {\n      label: Translate.string('Contributions'),\n      data: serialize(data.contributions),\n    },\n  ];\n\n  return {eventGraph, contributionsGraph, series, axes, tooltip};\n}\n\nfunction CategoryStatisticsDisplay({data}) {\n  const lang = useContext(LocaleContext);\n  const userLanguage = lang.replace('_', '-');\n  const updatedTime = moment\n    .utc(data.updated)\n    .local()\n    .format('LLL');\n  const fmt = new Intl.NumberFormat(userLanguage);\n  const totalEvents = fmt.format(data.totalEvents);\n  const totalContributions = fmt.format(data.totalContributions);\n  const files = fmt.format(data.files);\n  const users = fmt.format(data.users);\n  const {eventGraph, contributionsGraph, series, axes, tooltip} = useMemo(\n    () => getGraphData(data),\n    [data]\n  );\n\n  return (\n    <Container>\n      <Segment.Group horizontal>\n        <Segment>\n          <Header as=\"h2\">\n            <Header.Content>\n              <Translate>Number of events</Translate>\n              <Header.Subheader>\n                <Translate>The year is the one of the start date of the event.</Translate>\n              </Header.Subheader>\n            </Header.Content>\n          </Header>\n          <Segment basic>\n            {eventGraph[0].data.length === 0 ? (\n              <Message info>\n                <Translate>No data available</Translate>\n              </Message>\n            ) : (\n              <div styleName=\"chart-container\">\n                <Chart\n                  styleName=\"chart\"\n                  data={eventGraph}\n                  series={series}\n                  axes={axes}\n                  tooltip={tooltip}\n                />\n              </div>\n            )}\n          </Segment>\n        </Segment>\n        <Segment>\n          <Header as=\"h2\">\n            <Header.Content>\n              <Translate>Number of contributions</Translate>\n              <Header.Subheader>\n                <Translate>The year is the one of the start date of the contribution.</Translate>\n              </Header.Subheader>\n            </Header.Content>\n          </Header>\n          <Segment basic>\n            {contributionsGraph[0].data.length === 0 ? (\n              <Message info>\n                <Translate>No data available</Translate>\n              </Message>\n            ) : (\n              <div styleName=\"chart-container\">\n                <Chart\n                  styleName=\"chart\"\n                  data={contributionsGraph}\n                  series={series}\n                  axes={axes}\n                  tooltip={tooltip}\n                />\n              </div>\n            )}\n          </Segment>\n        </Segment>\n      </Segment.Group>\n      <Segment.Group horizontal>\n        <Segment inverted color=\"blue\" textAlign=\"center\">\n          <Statistic inverted>\n            <Statistic.Value>{totalEvents}</Statistic.Value>\n            <Statistic.Label>\n              <Translate>Total number of events</Translate>\n            </Statistic.Label>\n          </Statistic>\n        </Segment>\n        <Segment inverted color=\"blue\" textAlign=\"center\">\n          <Statistic inverted>\n            <Statistic.Value>{totalContributions}</Statistic.Value>\n            <Statistic.Label>\n              <Translate>Total number of contributions</Translate>\n            </Statistic.Label>\n          </Statistic>\n        </Segment>\n        <Segment inverted color=\"blue\" textAlign=\"center\">\n          <Statistic inverted>\n            <Statistic.Value>{files}</Statistic.Value>\n            <Statistic.Label>\n              <Translate>Number of attachments</Translate>\n            </Statistic.Label>\n          </Statistic>\n        </Segment>\n        {data.users !== undefined && (\n          <Segment inverted color=\"blue\" textAlign=\"center\">\n            <Statistic inverted>\n              <Statistic.Value>{users}</Statistic.Value>\n              <Statistic.Label>\n                <Translate>Number of users</Translate>\n              </Statistic.Label>\n            </Statistic>\n          </Segment>\n        )}\n      </Segment.Group>\n      <Translate>\n        Last updated on: <Param name=\"time\" value={updatedTime} />\n      </Translate>\n    </Container>\n  );\n}\n\nCategoryStatisticsDisplay.propTypes = {\n  data: PropTypes.shape({\n    contributions: PropTypes.object.isRequired,\n    events: PropTypes.object.isRequired,\n    files: PropTypes.number.isRequired,\n    updated: PropTypes.string.isRequired,\n    users: PropTypes.number,\n    totalEvents: PropTypes.number.isRequired,\n    totalContributions: PropTypes.number.isRequired,\n    minYear: PropTypes.number.isRequired,\n    maxYear: PropTypes.number.isRequired,\n  }).isRequired,\n};\n","// This file is part of Indico.\n// Copyright (C) 2002 - 2021 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport categorySearchUrl from 'indico-url:search.category_search';\nimport searchUrl from 'indico-url:search.search';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './display';\nimport './base';\n\nimport SearchBox from 'indico/modules/search/components/SearchBox';\nimport {setMomentLocale} from 'indico/utils/date';\n\nimport CategoryStatistics from './components/CategoryStatistics';\nimport {LocaleContext} from './context.js';\n\n(function(global) {\n  document.addEventListener('DOMContentLoaded', () => {\n    const domContainer = document.querySelector('#search-box');\n\n    if (domContainer) {\n      const category = JSON.parse(domContainer.dataset.category);\n      const isAdmin = domContainer.dataset.isAdmin !== undefined;\n\n      ReactDOM.render(\n        React.createElement(SearchBox, {\n          onSearch: (keyword, isGlobal, adminOverrideEnabled) => {\n            const params = {q: keyword};\n            if (isAdmin && adminOverrideEnabled) {\n              params.admin_override_enabled = true;\n            }\n            if (isGlobal) {\n              window.location = searchUrl(params);\n            } else {\n              params.category_id = category.id;\n              window.location = categorySearchUrl(params);\n            }\n          },\n          category,\n          isAdmin,\n        }),\n        domContainer\n      );\n    }\n  });\n  global.setupCategoryStats = function setupCategoryStats() {\n    document.addEventListener('DOMContentLoaded', async () => {\n      const rootElement = document.querySelector('#category-stats-root');\n      if (!rootElement) {\n        return;\n      }\n      const categoryId = parseInt(rootElement.dataset.categoryId, 10);\n      const lang = rootElement.dataset.lang;\n      await setMomentLocale(lang);\n      ReactDOM.render(\n        <LocaleContext.Provider value={lang}>\n          <CategoryStatistics categoryId={categoryId} />\n        </LocaleContext.Provider>,\n        rootElement\n      );\n    });\n  };\n})(window);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// The chunk loading function for additional chunks\n// Since all referenced chunks are already included\n// in this file, this function is empty here.\n__webpack_require__.e = () => (Promise.resolve());","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 944;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t944: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [5514,3044,8592], () => (__webpack_require__(37077)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}