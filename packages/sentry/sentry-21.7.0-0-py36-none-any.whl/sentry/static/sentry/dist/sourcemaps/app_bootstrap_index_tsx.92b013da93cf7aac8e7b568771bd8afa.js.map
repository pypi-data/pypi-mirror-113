{"version":3,"sources":["webpack:///./app/bootstrap/index.tsx"],"names":["BOOTSTRAP_URL","bootApplication","data","window","csrfCookieName","bootWithHydration","fetch","response","json","__initialData","bootstrap","undefined","bootstrapData"],"mappings":"mUAEMA,G,+GAAgB,uBAEhBC,EAAkB,SAACC,GAGvB,OAFAC,OAAOC,eAAiBF,EAAKE,eAEtBF,G,SAGMG,I,uEAAf,sGACyBC,MAAMN,GAD/B,cACQO,EADR,gBAE6BA,EAASC,OAFtC,cAEQN,EAFR,OAIEC,OAAOM,cAAgBP,EAJzB,kBAMSD,EAAgBC,IANzB,4C,sBASO,SAAeQ,IAAtB,+B,wCAAO,4FAMiBC,KALhBC,EAAgBT,OAAOM,eADxB,gCAOUJ,IAPV,wEAUEJ,EAAgBW,IAVlB,4C","file":"chunks/app_bootstrap_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","sourcesContent":["import {Config} from 'app/types';\n\nconst BOOTSTRAP_URL = '/api/client-config/';\n\nconst bootApplication = (data: Config) => {\n  window.csrfCookieName = data.csrfCookieName;\n\n  return data;\n};\n\nasync function bootWithHydration() {\n  const response = await fetch(BOOTSTRAP_URL);\n  const data: Config = await response.json();\n\n  window.__initialData = data;\n\n  return bootApplication(data);\n}\n\nexport async function bootstrap() {\n  const bootstrapData = window.__initialData;\n\n  // If __initialData is not already set on the window, we are likely running in\n  // pure SPA mode, meaning django is not serving our frontend application and we\n  // need to make an API request to hydrate the bootstrap data to boot the app.\n  if (bootstrapData === undefined) {\n    return await bootWithHydration();\n  }\n\n  return bootApplication(bootstrapData);\n}\n"],"sourceRoot":""}